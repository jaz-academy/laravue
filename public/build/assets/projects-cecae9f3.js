import{_ as K}from"./MoreBtn-a81635cf.js";import{m as se}from"./vue3-apexcharts-7c9657e5.js";import{r as oe,p as re,h as le}from"./helpers-0d858970.js";import{_ as ne,a6 as d,o as i,f as _,e as t,b as e,c as b,F as A,i as B,c7 as ie,d as o,x as m,aj as ue,a1 as Y,v as y,n as L,a0 as ce,r as V,H as O,b7 as de,y as E,z as k}from"./main-3e75270a.js";import{a as J,V as W}from"./VCard-ae6aa82a.js";import{V as R}from"./VCardText-784ef706.js";import{V as me,a as pe,b as he,c as fe}from"./VList-021e7d82.js";import{_ as ge,T as ve,L as be,a as _e}from"./TopTenPosted-847353cc.js";import{u as ke}from"./useApi-e49bb4b3.js";import{V as D,a as f}from"./VRow-279ce7f3.js";import{V as ye}from"./VAvatar-6442f344.js";import{V as xe}from"./VChip-8aa9424f.js";import{V as je}from"./VBadge-5a7bf169.js";import"./VMenu-8f8d9013.js";import"./VOverlay-86f5f384.js";import"./easing-9f15041e.js";import"./lazy-d118c49f.js";import"./scopeId-6361b14e.js";import"./VImg-d48c399c.js";import"./forwardRefs-8348545e.js";import"./dialog-transition-76c1b16c.js";import"./no-profile-4221a4a6.js";import"./ssrBoot-451ddb83.js";import"./VDivider-fe6e0e03.js";import"./AppTextField-83dbabc7.js";import"./form-8fcd98db.js";import"./VTextField-0541cff2.js";/* empty css                   */import"./VCounter-1d8f08d6.js";import"./VField-63465900.js";import"./VInput-6cf94696.js";import"./paginationMeta-4ad053a4.js";import"./formatters-9f0d6445.js";import"./VDataTableServer-2165d987.js";import"./VDataTable-b286073f.js";import"./VSelect-6618e2c9.js";import"./VCheckboxBtn-5669f4d3.js";import"./VSelectionControl-63626414.js";import"./VTable-1eac49f8.js";import"./filter-112fe26d.js";import"./VRating-acd89c37.js";import"./VPagination-b53a2f8c.js";const we={class:"text-body-1 text-high-emphasis font-weight-medium"},Ce={__name:"LastProject",props:{lastProjectTasks:Array,lastProject:Array,students:Array},setup(j){const w=j,T=d(()=>{const v={};return w.lastProjectTasks.forEach(s=>{v[s.admin_student_id]=s}),Object.values(w.students).map(s=>{const r=v[s.id];return console.log("task",r),{title:(r==null?void 0:r.name)||"No Task",link:(r==null?void 0:r.link)||"#",date:(r==null?void 0:r.date)||"",name:s.nickname,progress:r!=null&&r.rate?r.rate*20:0,color:oe(r==null?void 0:r.rate)}})});return(v,s)=>{const r=K;return i(),_(W,null,{default:t(()=>[e(J,{title:j.lastProject.theme,subtitle:`Last Project: ${j.lastProject.subject}`},{append:t(()=>[e(r)]),_:1},8,["title","subtitle"]),e(R,null,{default:t(()=>[e(me,{class:"card-list scrollable-card"},{default:t(()=>[(i(!0),b(A,null,B(T.value,u=>(i(),_(pe,{key:u.title},{prepend:t(()=>[e(ie,{modelValue:u.progress,"onUpdate:modelValue":C=>u.progress=C,size:54,class:"me-4",color:u.color},{default:t(()=>[o("span",we,m(u.progress),1)]),_:2},1032,["modelValue","onUpdate:modelValue","color"])]),append:t(()=>[e(ue,{href:u.link,target:"_blank",rel:"noopener noreferrer",variant:"tonal",color:"default",class:"rounded-sm",size:"30"},{default:t(()=>[e(Y,{icon:"tabler-chevron-right",class:"flip-in-rtl"})]),_:2},1032,["href"])]),default:t(()=>[e(he,{class:"font-weight-medium mb-2"},{default:t(()=>[y(m(L(re)(u.title)),1)]),_:2},1024),e(fe,null,{default:t(()=>[y(m(("humanDate"in v?v.humanDate:L(le))(u.date))+" - "+m(u.name),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}}},Ve=ne(Ce,[["__scopeId","data-v-9b7bceae"]]);const Te={class:"pe-3"},Pe={class:"text-h3 text-high-emphasis mb-1"},Se={class:"font-weight-medium"},ze={class:"mb-6 text-wrap",style:{"max-inline-size":"400px"}},De={key:0,class:"d-flex justify-space-between flex-wrap gap-4 me-4 flex-column flex-md-row"},Ae={class:"d-flex"},Be={class:"text-base"},Le={class:"d-flex justify-space-between align-center"},$e={class:"d-flex flex-column ps-3"},Ne={class:"text-h3 mb-2 mt-3"},Ie={class:"d-flex flex-wrap gap-x-4 gap-y-10 mx-auto",style:{"inline-size":"300px"}},Me={class:"text-body-1",style:{"min-inline-size":"90px"}},Fe={class:"text-h4"},Ue="rgba(var(--v-border-color), var(--v-border-opacity))",St={__name:"projects",setup(j){const w=ce("userData").value,T=V(""),v=V(""),s=V({semester:v.value,data:{}});async function r(){const a=await ke(`/dashboard-project?student_id=${T.value}&semester=${v.value}`);s.value=a.data.value}const u=d(()=>s.value.students||[]),C=d(()=>s.value.teacher||[]),$=d(()=>s.value.topTen||[]),q=d(()=>s.value.lastProject||[]),N=d(()=>s.value.lastProjectTasks||[]),I=d(()=>s.value.literasiTasks||[]),M=d(()=>s.value.socialMediaTasks||[]),h=d(()=>{var g;const{accepted:a=0,completed:l=0,progress:n=0}=((g=s.value.completedTasks)==null?void 0:g[0])||{},p=Number(a)+Number(l)+Number(n),c=p?(a/p*100).toFixed(0):0;return{accepted:a,completed:l,progress:n,total:p,percentage:c}});O(async()=>{await r(),console.log("Project data fetched:",s.value)});const G=d(()=>{var a;return{chart:{height:270,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0,barHeight:"70%",distributed:!0,startingShape:"rounded",borderRadius:7}},colors:["#7367f0","#16B1FF","#56CA00","#8A8D93","#FF4C51","#FFB400"],grid:{borderColor:Ue,strokeDashArray:10,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:-35,bottom:-12}},dataLabels:{enabled:!0,style:{colors:["#fff"],fontWeight:200,fontSize:"13px"},offsetX:0,dropShadow:{enabled:!1},formatter(l,n){return s.value.media.name[n.dataPointIndex]||""}},xaxis:{categories:(a=s.value.media)==null?void 0:a.count,axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:"rgba(var(--v-theme-on-background), var(--v-disabled-opacity))",fontSize:"13px"},formatter(l){return`${l}`}}},yaxis:{labels:{show:!1,style:{colors:"rgba(var(--v-theme-on-background), var(--v-disabled-opacity))",fontSize:"13px"}}},tooltip:{enabled:!0,style:{fontSize:"12px"},onDatasetHover:{highlightDataSeries:!1}},legend:{show:!1}}}),Q=d(()=>{var a;return[{data:((a=s.value.media)==null?void 0:a.count)||[]}]}),P={donut:{series1:"#22A95E",series2:"#24B364",series3:"#56CA00",series4:"#53D28C",series5:"#7EDDA9",series6:"#A9E9C5"}};function X(a){const n=new Date().getDay(),p=(a+7-n)%7;return p===0?7:p}const Z={chart:{height:157,width:130,parentHeightOffset:0,type:"donut"},labels:["Accepted","Completed","On Progress"],colors:[P.donut.series1,P.donut.series4,P.donut.series6],stroke:{width:0},dataLabels:{enabled:!1,formatter(a){return`${Number.parseInt(a)}%`}},legend:{show:!1},tooltip:{theme:!1},grid:{padding:{top:0}},plotOptions:{pie:{donut:{size:"75%",labels:{show:!0,value:{fontSize:"1.5rem",color:"rgba(var(--v-theme-on-background), var(--v-high-emphasis-opacity))",fontWeight:500,offsetY:-15,formatter(a){return`${Number.parseInt(a)}%`}},name:{offsetY:20},total:{show:!0,fontSize:".7rem",label:"Total",color:"rgba(var(--v-theme-on-background), var(--v-disabled-opacity))",formatter(){return`${h.value.total}`}}}}}}},ee=d(()=>{const a=Number(h.value.accepted||0),l=Number(h.value.completed||0),n=Number(h.value.progress||0);return[a,l,n]}),te=d(()=>{var n,p;const a=((n=s.value.media)==null?void 0:n.count)||[],l=a.reduce((c,g)=>c+g,0)||1;return(((p=s.value.media)==null?void 0:p.name)||[]).map((c,g)=>{const x=Math.round(a[g]/l*100);return{title:c,value:x,color:x>=50?"success":x>=5?"primary":"error"}})}),S=["Setiap langkah kecil itu berarti. Jalan terus aja, hasilnya bakal keliatan nanti.","Jangan tunggu mood bagus buat mulai. Mulai dulu, nanti mood bakal ikut datang.","Capek itu wajar, berhenti sebentar boleh. Yang penting jangan nyerah. Kamu pasti bisa!","Kalau gagal, itu tandanya kamu lagi belajar. Jadi makin dekat sama berhasil. Yuk coba lagi..","Sedikit demi sedikit, lama-lama jadi bukit emas. Konsisten itu kuncinya. Yuk mulai lagi..","Mimpi nggak bakal tercapai kalau cuma dipikirin. Gerak dikit aja udah selangkah lebih dekat.","Jangan bandingin diri sama orang lain. Bandingin sama dirimu kemarin aja udah cukup.","Hari ini nggak harus sempurna. Kamu hanya harus lebih baik daripada kemarin, gitu aja cukup kok!","Semua orang pernah ragu. Bedanya, yang berhasil itu tetap jalan walau ragu.","Hidup ini kayak naik sepeda. Kalau mau seimbang, ya harus terus ngegowes. 🚴"],F=V(S[0]);let z=0,U;return O(()=>{U=setInterval(()=>{z=(z+1)%S.length,F.value=S[z]},6e4)}),de(()=>clearInterval(U)),(a,l)=>{const n=se,p=K;return i(),b("div",null,[e(D,{class:"py-6"},{default:t(()=>[e(f,{cols:"12",md:"8",class:E(a.$vuetify.display.mdAndUp?"border-e":"border-b")},{default:t(()=>{var c;return[o("div",Te,[o("h3",Pe,[l[0]||(l[0]=y(" Welcome back, ")),o("span",Se,m(L(w).name)+" 👋🏻 ",1)]),o("div",ze,[o("p",null,m(F.value),1)]),(c=s.value.completedTasks)!=null&&c.length?(i(),b("div",De,[(i(!0),b(A,null,B([{title:"Accepted ",value:h.value.accepted,icon:"custom-check",color:"success"},{title:"Completed ",value:h.value.completed,icon:"custom-laptop",color:"info"},{title:"On Progress ",value:h.value.progress,icon:"custom-lightbulb",color:"warning"}],({title:g,value:x,icon:ae,color:H})=>(i(),b("div",{key:g},[o("div",Ae,[e(ye,{variant:"tonal",color:H,rounded:"",size:"54",class:"text-primary me-4"},{default:t(()=>[e(Y,{icon:ae,size:"38"},null,8,["icon"])]),_:2},1032,["color"]),o("div",null,[o("span",Be,m(g),1),o("h4",{class:E(["text-h4 font-weight-medium",`text-${H}`])},m(x),3)])])]))),128))])):k("",!0)])]}),_:1},8,["class"]),e(f,{cols:"12",md:"4"},{default:t(()=>[o("div",Le,[o("div",$e,[l[3]||(l[3]=o("h5",{class:"text-h5 text-high-emphasis mb-2 text-no-wrap"}," Tasks Completed ",-1)),l[4]||(l[4]=o("span",{class:"mb-7"},"Weekly Report",-1)),o("div",Ne,[y(m(X(5))+" ",1),l[1]||(l[1]=o("span",{class:"text-h4 text-medium-emphasis"},"d",-1)),l[2]||(l[2]=y(" Left "))]),o("div",null,[e(xe,{color:h.value.percentage>90?"success":h.value.percentage>75?"primary":"error",label:""},{default:t(()=>[y(m(h.value.percentage)+"% ",1)]),_:1},8,["color"])])]),o("div",null,[e(n,{type:"donut",height:"150",width:"150",options:Z,series:ee.value},null,8,["series"])])])]),_:1})]),_:1}),e(D,{class:"match-height"},{default:t(()=>[e(f,{cols:"12",md:"8"},{default:t(()=>[e(W,null,{default:t(()=>[e(J,{title:"Media Usage"},{append:t(()=>[e(p)]),_:1}),e(R,null,{default:t(()=>[e(D,null,{default:t(()=>[e(f,{cols:"12",md:"6"},{default:t(()=>[o("div",null,[e(n,{type:"bar",height:"260",options:G.value,series:Q.value},null,8,["options","series"])])]),_:1}),e(f,{cols:"12",md:"6"},{default:t(()=>[o("div",Ie,[(i(!0),b(A,null,B(te.value,c=>(i(),b("div",{key:c.title,class:"d-flex gap-x-4"},[e(je,{dot:"",inline:"",class:"mt-1 custom-badge",color:c.color},null,8,["color"]),o("div",null,[o("div",Me,m(c.title),1),o("h4",Fe,m(c.value)+"% ",1)])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(f,{cols:"12",md:"4",sm:"6"},{default:t(()=>[C.value.length?(i(),_(ge,{key:0,teachers:C.value},null,8,["teachers"])):k("",!0)]),_:1}),e(f,{cols:"12",md:"4",sm:"6"},{default:t(()=>[$.value.length?(i(),_(ve,{key:0,"top-ten":$.value},null,8,["top-ten"])):k("",!0)]),_:1}),e(f,{cols:"12",md:"4",sm:"6"},{default:t(()=>[N.value.length?(i(),_(Ve,{key:0,"last-project":q.value,"last-project-tasks":N.value,students:u.value},null,8,["last-project","last-project-tasks","students"])):k("",!0)]),_:1}),e(f,{cols:"12",md:"4",sm:"6"},{default:t(()=>[I.value.length?(i(),_(be,{key:0,"literasi-tasks":I.value,students:u.value},null,8,["literasi-tasks","students"])):k("",!0)]),_:1}),e(f,null,{default:t(()=>[M.value.length?(i(),_(_e,{key:0,"social-media-tasks":M.value,students:u.value},null,8,["social-media-tasks","students"])):k("",!0)]),_:1})]),_:1})])}}};export{St as default};
