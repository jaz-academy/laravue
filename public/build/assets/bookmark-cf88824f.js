import{N as ie,F as ue}from"./front-page-navbar-4a17fa7f.js";import{a as pe}from"./formatters-5379081e.js";import{r as i,aK as de,cR as me,H as re,o as r,c as v,d as m,y as ce,n as Z,b as a,e as l,f as M,x as j,z as b,F as T,v as c,ai as x,a$ as ee,i as ve}from"./main-2ca02b3b.js";import{_ as fe}from"./AppTextField-0858edf6.js";import{u as te}from"./useGenerateImageVariant-2a4a0d95.js";import{h as _e,a as ge,b as ke,c as ye}from"./hero-elements-light-b61b0468.js";/* empty css                 */import{$ as ae}from"./api-d97a1aea.js";import{_ as be}from"./_plugin-vue_export-helper-c27b6911.js";import{V as he}from"./VAvatar-a7deecfc.js";import{V as Ve}from"./VImg-250183fa.js";import{V as we}from"./VContainer-5a630ac7.js";import{V as oe}from"./VAlert-97da2a17.js";import{V as le,a as _}from"./VRow-e41a8b34.js";import{V as se}from"./VForm-7850ca66.js";import{_ as Se}from"./PostingCard-3dc97847.js";import{u as je}from"./useApi-93131946.js";import"./VNodeRenderer-dd0b3a4b.js";import"./VChip-c9cdb45a.js";import"./NavbarThemeSwitcher-9d2d74ad.js";import"./VTooltip-179d248a.js";import"./VOverlay-160906ea.js";import"./easing-9f15041e.js";import"./lazy-cceeae2e.js";import"./scopeId-34d005c1.js";import"./forwardRefs-8348545e.js";import"./VMenu-d28590c8.js";import"./dialog-transition-a25a31df.js";import"./VList-c776ab47.js";import"./ssrBoot-29b51df8.js";import"./VDivider-cc04d089.js";import"./VNavigationDrawer-505a53d7.js";import"./VToolbar-7d5f4b88.js";import"./VSpacer-a2f5af06.js";import"./helpers-e472473c.js";import"./no-profile-4221a4a6.js";import"./form-333814a1.js";import"./VTextField-0a864af4.js";/* empty css                   */import"./VCounter-973a6cc1.js";import"./VField-b433e507.js";import"./VInput-9aa25b78.js";import"./index-4e4fc132.js";import"./index-9c720871.js";import"./AppTextarea-681a8e90.js";import"./AppSelect-3c67992b.js";import"./VSelect-bc7d8ac3.js";import"./VCheckboxBtn-f6f4a00f.js";import"./VSelectionControl-c0f025b5.js";import"./GDriveEmbed-b70beac2.js";import"./InstagramEmbed-fb896e45.js";import"./fetchTeacherData-cbd3fe06.js";import"./VCardText-e7df9280.js";import"./VRating-063833f3.js";import"./VCard-211b1d9e.js";const xe={id:"home",style:{background:"rgb(var(--v-theme-surface))"}},Ie={id:"landingHero",class:"mb-6"},Ce={class:"hero-text-box text-center px-6"},$e={key:1},Ne={key:1,class:"text-h2 text-sm-h1 text-primary hero-title font-weight-bold text-wrap mb-0"},Pe={class:"mb-4 text-h5"},Me={class:"mb-4"},Te={class:"position-relative"},Ue={key:0,class:"modal-overlay"},Ae={class:"modal-content"},Fe={key:1,class:"modal-overlay"},Be={class:"modal-content"},De={__name:"participant-info",emits:["loginStatus"],setup(ne,{emit:S}){const I=S,n=i(null),h=de();te(ge,_e),te(ye,ke),me({touch:!1});const g=i(!1),y=i(!1),V=i(null),p=i(""),t=i(""),u=i(""),k=i(""),d=i(""),w=i([]),C=()=>{p.value="",t.value="",u.value="",k.value="",d.value="",w.value=[]};re(()=>{const s=localStorage.getItem("participant");n.value=s?JSON.parse(s):null});const $=()=>{n.value?(localStorage.removeItem("participant"),n.value=null,I("loginStatus",!1)):(g.value=!0,C())},N=async()=>{if(p.value&&u.value){const s={username:p.value,password:u.value};try{const{data:e,error:f}=await ae("/public/sign-in-participant",{method:"POST",body:{username:s.username,password:s.password},onResponseError({response:o}){w.value=o._data.errors,d.value=o._data.message||"SignIn failed"}});console.log(e),localStorage.setItem("participant",JSON.stringify(e)),n.value=e,g.value=!1,I("loginStatus",!0)}catch(e){console.error(e)}}},P=async()=>{if(t.value&&p.value&&u.value&&k.value)try{if(u.value===k.value){const{data:s}=await ae("/public/participants",{method:"POST",body:{name:t.value,username:p.value,password:u.value,passwordConfirmation:k.value,role:1,image:null},onResponseError({response:e}){w.value=e._data.errors,d.value=e._data.message||"SignUp failed"}});console.log(s),localStorage.setItem("participant",JSON.stringify(s)),n.value=s,y.value=!1}else alert("Password and Confirm Password do not match")}catch(s){console.error("Error during signup:",s)}};return(s,e)=>{const f=fe;return r(),v("div",xe,[m("div",Ie,[m("div",{class:ce(["landing-hero",Z(h).current.value.dark?"landing-hero-dark-bg":"landing-hero-light-bg"])},[a(we,null,{default:l(()=>[m("div",Ce,[n.value?(r(),M(he,{key:0,size:"200",variant:"tonal",color:"primary",class:"mb-4"},{default:l(()=>[V.value?(r(),M(Ve,{key:0,src:V.value},null,8,["src"])):(r(),v("span",$e,j(n.value.name?("avatarText"in s?s.avatarText:Z(pe))(n.value.name):"AB"),1))]),_:1})):b("",!0),n.value?(r(),v("p",Ne,j(n.value.name),1)):b("",!0),m("h5",Pe,[n.value?(r(),v(T,{key:0},[c(" Thank you for your participation! ")],64)):(r(),v(T,{key:1},[e[14]||(e[14]=m("p",{class:"text-h2 text-sm-h1 text-primary hero-title font-weight-bold text-wrap mb-4"}," Marhaban ! ",-1)),e[15]||(e[15]=c(" Welcome to our platform ")),m("div",Me,[e[13]||(e[13]=c(" Click here to ")),m("a",{style:{display:"inline",cursor:"pointer"},onClick:e[0]||(e[0]=o=>y.value=!0)},"Signup as New Participant!")])],64))]),m("div",Te,[a(x,{height:"36",onClick:$},{default:l(()=>[c(j(n.value?"Sign Out":"Sign In"),1)]),_:1})])])]),_:1}),g.value?(r(),v("div",Ue,[m("div",Ae,[d.value?(r(),M(oe,{key:0,type:"error",class:"mb-5",dismissible:"",onClick:e[1]||(e[1]=o=>d.value="")},{default:l(()=>[c(j(d.value),1)]),_:1})):b("",!0),a(se,{onSubmit:ee(o=>({}),["prevent"])},{default:l(()=>[a(le,null,{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(f,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=o=>p.value=o),"prepend-inner-icon":"tabler-user",label:"Username / Email",placeholder:"Mehmed"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12"},{default:l(()=>[a(f,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=o=>u.value=o),"prepend-inner-icon":"tabler-lock",label:"Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12"},{default:l(()=>[e[16]||(e[16]=c(" Not a Participant yet? ")),m("a",{style:{display:"inline",cursor:"pointer"},onClick:e[4]||(e[4]=o=>(g.value=!1,y.value=!0))},"Signup first!")]),_:1}),a(_,{cols:"12"},{default:l(()=>[a(x,{type:"submit",class:"me-2",onClick:N},{default:l(()=>e[17]||(e[17]=[c(" Sign In ")])),_:1}),a(x,{color:"warning",class:"me-2",onClick:e[5]||(e[5]=o=>g.value=!1)},{default:l(()=>e[18]||(e[18]=[c(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1})])])):b("",!0),y.value?(r(),v("div",Fe,[m("div",Be,[d.value?(r(),M(oe,{key:0,type:"error",class:"mb-5",dismissible:"",onClick:e[6]||(e[6]=o=>d.value="")},{default:l(()=>[c(j(d.value),1)]),_:1})):b("",!0),a(se,{onSubmit:ee(o=>({}),["prevent"])},{default:l(()=>[a(le,null,{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(f,{modelValue:t.value,"onUpdate:modelValue":e[7]||(e[7]=o=>t.value=o),"prepend-inner-icon":"tabler-user",label:"Full Name",placeholder:"Muhammad"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12"},{default:l(()=>[a(f,{modelValue:p.value,"onUpdate:modelValue":e[8]||(e[8]=o=>p.value=o),"prepend-inner-icon":"tabler-checkbox",label:"Username",placeholder:"Mehmed"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12"},{default:l(()=>[a(f,{modelValue:u.value,"onUpdate:modelValue":e[9]||(e[9]=o=>u.value=o),"prepend-inner-icon":"tabler-lock",label:"Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12"},{default:l(()=>[a(f,{modelValue:k.value,"onUpdate:modelValue":e[10]||(e[10]=o=>k.value=o),"prepend-inner-icon":"tabler-lock",label:"Retype Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12"},{default:l(()=>[e[19]||(e[19]=c(" Already joined Participant? ")),m("a",{style:{display:"inline",cursor:"pointer"},onClick:e[11]||(e[11]=o=>(g.value=!0,y.value=!1))},"Signin instead!")]),_:1}),a(_,{cols:"12"},{default:l(()=>[a(x,{type:"submit",class:"me-2",onClick:P},{default:l(()=>e[20]||(e[20]=[c(" Sign Up ")])),_:1}),a(x,{color:"warning",class:"me-2",onClick:e[12]||(e[12]=o=>y.value=!1)},{default:l(()=>e[21]||(e[21]=[c(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1})])])):b("",!0)],2)])])}}},Ee=be(De,[["__scopeId","data-v-5953cd88"]]);const Oe={class:"landing-page-wrapper"},Le={key:0,class:"bookmark-card"},Ht={__name:"bookmark",setup(ne){const S=i(null),I=i(),n=i(),h=i([]);re(async()=>{g()});const g=async()=>{const V=localStorage.getItem("participant");if(S.value=V?JSON.parse(V):null,S.value){const p=S.value.id,{data:t}=await je(`/public/bookmarks-by-participant/${p}`);t.value.data&&(h.value=t.value.data)}else h.value=[]},y=async()=>{await g()};return(V,p)=>(r(),v("div",Oe,[a(ie,{"active-id":I.value},null,8,["active-id"]),a(Ee,{ref_key:"refHome",ref:n,onLoginStatus:y},null,512),h.value.length?(r(),v("div",Le,[(r(!0),v(T,null,ve(h.value.filter(Boolean),t=>{var u,k,d,w,C,$,N,P,s,e,f,o,U,A,F,B,D,E,O,L,R,H,J,z,G,K,W,q,Q,X,Y;return r(),v("div",{key:t.id||t._id||t},[a(Se,{class:"card-post","task-id":(u=t.project_task)==null?void 0:u.id,"task-name":(k=t.project_task)==null?void 0:k.name,description:(d=t.project_task)==null?void 0:d.description,subject:(C=(w=t.project_task)==null?void 0:w.project_plan)==null?void 0:C.subject,theme:(N=($=t.project_task)==null?void 0:$.project_plan)==null?void 0:N.theme,stars:(P=t.project_task)==null?void 0:P.rate,media:(s=t.project_task)==null?void 0:s.media,"post-id":((e=t.project_task)==null?void 0:e.media)=="Instagram"?(U=(o=(f=t.project_task)==null?void 0:f.link)==null?void 0:o.match(/\/(?:p|reel)\/([\w-]+)/))==null?void 0:U[1]:((B=(F=(A=t.project_task)==null?void 0:A.link)==null?void 0:F.match(/\/d\/(.*?)\//))==null?void 0:B[1])||"N/A","student-name":(E=(D=t.project_task)==null?void 0:D.admin_student)==null?void 0:E.name,nickname:(L=(O=t.project_task)==null?void 0:O.admin_student)==null?void 0:L.nickname,email:(H=(R=t.project_task)==null?void 0:R.admin_student)==null?void 0:H.email,teacher:(J=t.project_task)!=null&&J.admin_teacher?{id:(z=t.project_task)==null?void 0:z.admin_teacher.id,name:(G=t.project_task)==null?void 0:G.admin_teacher.nickname}:"Not Accepted","student-img":(W=(K=t.project_task)==null?void 0:K.admin_student)==null?void 0:W.image,"teacher-img":(Q=(q=t.project_task)==null?void 0:q.admin_teacher)==null?void 0:Q.image,accepted:(X=t.project_task)==null?void 0:X.accepted,review:((Y=t.project_task)==null?void 0:Y.review)||null},null,8,["task-id","task-name","description","subject","theme","stars","media","post-id","student-name","nickname","email","teacher","student-img","teacher-img","accepted","review"])])}),128))])):b("",!0),a(ue)]))}};export{Ht as default};
