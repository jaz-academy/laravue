import{p as Te}from"./formatters-8cae111f.js";import{_ as ue}from"./AppTextField-b5461782.js";import{_ as A}from"./AppSelect-f110362d.js";import{u as we}from"./helpers-c88007fe.js";import{f as me,p as De,a as xe,b as Ue}from"./fetchProjectData-b826f239.js";import{r as q}from"./validators-f974c252.js";import{f as Se,t as Pe}from"./fetchTeacherData-404e675a.js";import{a0 as Ce,H as ce,r as p,bm as Ae,w as re,o as h,f as S,e as o,b as t,n as a,aV as w,a$ as $e,d as f,aj as F,v as y,x as b,aZ as Ie,_ as Oe,a6 as Y,a as je,c as Z,F as ie,i as Me,z as N,a1 as X,y as Be,s as K}from"./main-4585feec.js";import{_ as qe}from"./AppDateTimePicker-ec46c0ec.js";import{_ as Ne}from"./AppTextarea-a2a2d4ad.js";import{_ as Fe}from"./AppDrawerHeaderSection-09cffbd4.js";import{f as ze,s as Ye}from"./fetchStudentData-5f5586f9.js";import{P as Ee}from"./vue3-perfect-scrollbar.esm-f8245ed7.js";import{V as E}from"./VDivider-e2924383.js";import{V as te}from"./VCard-a267c840.js";import{V as le}from"./VCardText-dd0c7bc9.js";import{V as He}from"./VForm-ee9cccf5.js";import{V as H,a as v}from"./VRow-53fd1544.js";import{V as pe}from"./VRating-5d9669bb.js";import{V as Le}from"./VNavigationDrawer-6615bdb7.js";import{p as Re}from"./paginationMeta-4ad053a4.js";import{u as ne}from"./useApi-c1588dfc.js";import{V as Ge}from"./VAlert-83fb7352.js";import{V as de}from"./VChip-aabda9ce.js";import{V as ee}from"./VAvatar-fa9fec94.js";import{V as We}from"./VSpacer-52196579.js";import{V as Je}from"./VDataTableServer-73173b80.js";import{V as Qe}from"./VImg-02cfc59c.js";import{V as Xe}from"./VMenu-dc1c4301.js";import{V as Ze,a as ae}from"./VList-4b4f9347.js";import{V as Ke}from"./VPagination-f3dedd03.js";import"./form-075a7c7b.js";import"./VTextField-d2aea9dd.js";/* empty css                   */import"./VCounter-2f9e53e6.js";import"./VField-3decac3d.js";import"./easing-9f15041e.js";import"./VInput-3fb3d6fe.js";import"./forwardRefs-8348545e.js";import"./VSelect-e95c30a5.js";import"./dialog-transition-a9ebe0dc.js";import"./VOverlay-27dbbcf8.js";import"./lazy-3e6a3ff5.js";import"./scopeId-326ce56f.js";import"./VCheckboxBtn-42d04193.js";import"./VSelectionControl-272cc15c.js";import"./no-profile-4221a4a6.js";import"./ssrBoot-7fdf6b89.js";import"./VDataTable-85865fe4.js";import"./VTable-7e1650ac.js";import"./filter-bef9984d.js";const ea={class:"d-flex justify-start"},aa={__name:"AddTasks",props:{isDrawerOpen:{type:Boolean,required:!0},mode:{type:String,default:"add"},taskData:{type:Object,default:()=>({})}},emits:["update:isDrawerOpen","taskData"],setup(oe,{emit:$}){var L;const i=oe,j=$,D=Ce("userData");ce(async()=>{await ze(),await me(),await Se()});const x=p(),M=p(!1),n=Ae({project_plan_id:"",admin_student_id:((L=D.value)==null?void 0:L.admin_student_id)||"",semester:"",name:"",description:"",date:"",status:"",media:"",embed:"",link:"",accepted:0,rate:"",review:"",admin_teacher_id:""});re(()=>[i.taskData,i.mode],()=>{var m;(i.mode==="edit"||i.mode==="review")&&i.taskData?Object.assign(n,{project_plan_id:i.taskData.project_plan_id||"",admin_student_id:i.taskData.admin_student_id||"",semester:i.taskData.semester||"",name:i.taskData.name||"",description:i.taskData.description||"",date:i.taskData.date||"",status:i.taskData.status||"",media:i.taskData.media||"",embed:i.taskData.embed||"",link:i.taskData.link||"",accepted:i.taskData.accepted||0,rate:i.taskData.rate||"",review:i.taskData.review||"",admin_teacher_id:i.taskData.admin_teacher_id||""}):i.mode==="duplicate"&&i.taskData?Object.assign(n,{project_plan_id:i.taskData.project_plan_id||"",admin_student_id:i.taskData.admin_student_id||"",semester:i.taskData.semester||"",name:"",description:i.taskData.description||"",date:"",status:"",media:i.taskData.media||"",embed:"",link:"",accepted:0,rate:"",review:"",admin_teacher_id:""}):Object.assign(n,{project_plan_id:"",admin_student_id:((m=D.value)==null?void 0:m.admin_student_id)||"",semester:"",name:"",description:"",date:"",status:"",media:"",embed:"",link:"",accepted:0,rate:"",review:"",admin_teacher_id:""})},{immediate:!0}),re(()=>i.isDrawerOpen,m=>{var r,T;m||((r=x.value)==null||r.reset(),(T=x.value)==null||T.resetValidation())});const U=m=>{j("update:isDrawerOpen",m)},P=()=>{var m,r;(m=x.value)==null||m.reset(),(r=x.value)==null||r.resetValidation()},I=()=>{var m;(m=x.value)==null||m.validate().then(({valid:r})=>{if(i.mode!=="review"&&!r)return;const T={...n};i.mode==="edit"||i.mode==="review"?(T.id=i.taskData.id,j("taskData",{action:"update",data:T})):j("taskData",{action:"create",data:T}),j("update:isDrawerOpen",!1),Ie(P)})};return(m,r)=>{const T=Fe,g=ue,_=Ne,z=qe;return h(),S(Le,{"model-value":i.isDrawerOpen,temporary:"",location:"end",width:"370",class:"category-navigation-drawer scrollable-content","onUpdate:modelValue":U},{default:o(()=>[t(T,{title:i.mode==="edit"?"Edit Task":i.mode==="duplicate"?"Duplicate Task":i.mode==="review"?"Review Task":"Add New Task",onCancel:r[0]||(r[0]=d=>m.$emit("update:isDrawerOpen",!1))},null,8,["title"]),t(E),t(a(Ee),{options:{wheelPropagation:!1}},{default:o(()=>[t(te,{flat:""},{default:o(()=>[t(le,null,{default:o(()=>[t(a(He),{ref_key:"refVForm",ref:x,modelValue:a(M),"onUpdate:modelValue":r[14]||(r[14]=d=>w(M)?M.value=d:null),onSubmit:$e(I,["prevent"])},{default:o(()=>[i.mode!=="review"?(h(),S(H,{key:0,class:"g-4"},{default:o(()=>[t(v,{cols:"12"},{default:o(()=>[t(A,{modelValue:a(n).project_plan_id,"onUpdate:modelValue":r[1]||(r[1]=d=>a(n).project_plan_id=d),placeholder:"Select Project Plan",label:"Project Plan",rules:["requiredValidator"in m?m.requiredValidator:a(q)],items:a(De),"item-title":"theme","item-value":"id"},null,8,["modelValue","rules","items"])]),_:1}),t(v,{cols:"12"},{default:o(()=>{var d;return[t(A,{modelValue:a(n).admin_student_id,"onUpdate:modelValue":r[2]||(r[2]=B=>a(n).admin_student_id=B),placeholder:"Select Student",label:"Student",rules:["requiredValidator"in m?m.requiredValidator:a(q)],items:a(Ye),"item-title":"name","item-value":"id",readonly:!!((d=a(D).value)!=null&&d.admin_student_id)},null,8,["modelValue","rules","items","readonly"])]}),_:1}),t(v,{cols:"12"},{default:o(()=>[t(A,{modelValue:a(n).semester,"onUpdate:modelValue":r[3]||(r[3]=d=>a(n).semester=d),placeholder:"Select Semester",label:"Semester",rules:["requiredValidator"in m?m.requiredValidator:a(q)],items:[1,2,3,4,5,6]},null,8,["modelValue","rules"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(g,{modelValue:a(n).name,"onUpdate:modelValue":r[4]||(r[4]=d=>a(n).name=d),label:"Write Title",rules:["requiredValidator"in m?m.requiredValidator:a(q)],placeholder:"Task Title"},null,8,["modelValue","rules"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(_,{modelValue:a(n).description,"onUpdate:modelValue":r[5]||(r[5]=d=>a(n).description=d),label:"Description",placeholder:"Write Description","auto-grow":""},null,8,["modelValue"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(z,{modelValue:a(n).date,"onUpdate:modelValue":r[6]||(r[6]=d=>a(n).date=d),label:"Date",placeholder:"Select date"},null,8,["modelValue"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(A,{modelValue:a(n).status,"onUpdate:modelValue":r[7]||(r[7]=d=>a(n).status=d),rules:["requiredValidator"in m?m.requiredValidator:a(q)],placeholder:"Select Status",label:"Status",items:["In Progress","On Hold","Completed"]},null,8,["modelValue","rules"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(A,{modelValue:a(n).media,"onUpdate:modelValue":r[8]||(r[8]=d=>a(n).media=d),rules:["requiredValidator"in m?m.requiredValidator:a(q)],placeholder:"Select Media",label:"Media",items:["Instagram","TikTok","YouTube","Google Drive"]},null,8,["modelValue","rules"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(_,{modelValue:a(n).link,"onUpdate:modelValue":r[9]||(r[9]=d=>a(n).link=d),label:"Link",placeholder:"Paste Link","auto-grow":""},null,8,["modelValue"])]),_:1})]),_:1})):(h(),S(H,{key:1},{default:o(()=>[t(v,{cols:"12"},{default:o(()=>[t(A,{modelValue:a(n).admin_teacher_id,"onUpdate:modelValue":r[10]||(r[10]=d=>a(n).admin_teacher_id=d),label:"Mentor",placeholder:"Select Mentor",items:"teachers"in m?m.teachers:a(Pe),"item-title":"nickname","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(A,{modelValue:a(n).accepted,"onUpdate:modelValue":r[11]||(r[11]=d=>a(n).accepted=d),label:"Accepted",placeholder:"Not Accepted",items:[{text:"Accepted",value:1},{text:"Not Accepted",value:0}],"item-title":"text","item-value":"value"},null,8,["modelValue"])]),_:1}),t(v,{cols:"12",class:"text-center"},{default:o(()=>[t(pe,{modelValue:a(n).rate,"onUpdate:modelValue":r[12]||(r[12]=d=>a(n).rate=d),"half-increments":"",hover:""},null,8,["modelValue"]),t(_,{modelValue:a(n).review,"onUpdate:modelValue":r[13]||(r[13]=d=>a(n).review=d),placeholder:"Write your review...",rows:3},null,8,["modelValue"])]),_:1})]),_:1})),t(H,{class:"mt-4"},{default:o(()=>[t(v,{cols:"12"},{default:o(()=>[f("div",ea,[t(F,{type:"submit",color:"primary",class:"me-4"},{default:o(()=>[y(b(i.mode==="edit"?"Update":"Add"),1)]),_:1}),t(F,{color:"error",variant:"tonal",onClick:P},{default:o(()=>r[15]||(r[15]=[y(" Discard ")])),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}};const ta={class:"d-flex flex-column gap-y-1"},la={class:"text-body-1 font-weight-medium text-capitalize"},oa={class:"text-h4 my-1"},sa={class:"d-flex"},ra={class:"me-2 text-disabled text-no-wrap"},ia={class:"d-flex flex-wrap gap-4 mx-5"},na={class:"d-flex align-center"},da={class:"d-flex gap-4 flex-wrap align-center"},ua={class:"d-flex align-center gap-x-2"},ma={class:"d-flex flex-column"},ca={class:"text-body-1 font-weight-medium"},pa={class:"text-sm text-disabled"},fa={class:"text-body-1 font-weight-medium"},va={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},ka={class:"text-sm text-medium-emphasis mb-0"},Va={__name:"tasks",setup(oe){const{hasRole:$,currentUser:i,hasRoleOrTeacher:j}=we();ce(async()=>{await me()});const D=p(!1),x=p(""),M=p("primary"),n=(l,e="primary")=>{x.value=l,M.value=e,D.value=!0,setTimeout(()=>{D.value=!1},1e4)},U=p(!1),P=p("add"),I=p({}),L=l=>{I.value={...l},P.value="edit",U.value=!0},m=l=>{I.value={...l},P.value="review",U.value=!0},r=l=>{I.value=l,P.value="duplicate",U.value=!0},T=Y(()=>{const l=Y(()=>xe.value||[]);return[{title:"Instagram",value:l.value.filter(e=>e.media==="Instagram").length,icon:"tabler-brand-instagram",desc:`${l.value.filter(e=>e.media==="Instagram"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media==="Instagram").length,c=l.value.filter(u=>u.media==="Instagram"&&u.accepted=="1").length;return e?(c/e*100).toFixed(1):0})()},{title:"TikTok",value:l.value.filter(e=>e.media=="TikTok").length,icon:"tabler-brand-tiktok",desc:`${l.value.filter(e=>e.media=="TikTok"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media=="TikTok").length,c=l.value.filter(u=>u.media=="TikTok"&&u.accepted=="1").length;return e?(c/e*100).toFixed(1):0})()},{title:"YouTube",value:l.value.filter(e=>e.media==="YouTube").length,icon:"tabler-brand-youtube",desc:`${l.value.filter(e=>e.media==="YouTube"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media==="YouTube").length,c=l.value.filter(u=>u.media==="YouTube"&&u.accepted=="1").length;return e?(c/e*100).toFixed(1):0})()},{title:"Others",value:l.value.filter(e=>e.media!=="Instagram"&&e.media!=="TikTok"&&e.media!=="YouTube").length,icon:"tabler-world",desc:`${l.value.filter(e=>e.media!=="Instagram"&&e.media!=="TikTok"&&e.media!=="YouTube"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media!=="Instagram"&&u.media!=="TikTok"&&u.media!=="YouTube").length,c=l.value.filter(u=>u.media!=="Instagram"&&u.media!=="TikTok"&&u.media!=="YouTube"&&u.accepted=="1").length;return e?(c/e*100).toFixed(1):0})()}]}),g=p(10),_=p(1),z=p(),d=p(),B=p([]),R=p(),G=p(),W=p(),J=p(""),fe=l=>{var e;_.value=l.page,g.value=l.itemsPerPage,(e=l.sortBy)!=null&&e.length?(z.value=l.sortBy[0].key,d.value=l.sortBy[0].order):(z.value=null,d.value=null),O()},O=async()=>{var e;const l={admin_student_id:((e=i.value)==null?void 0:e.admin_student_id)||"",search:J.value||"",status:R.value||"",media:G.value||"",accepted:W.value||"",perPage:g.value,page:_.value,sortBy:z.value||"",orderBy:d.value||""};try{const c=await Ue(l);console.log("ðŸ“¦ FETCHING with:",l,c),B.value=c}catch(c){console.error("Error fetching tasks:",c.message)}},ve=Y(()=>{var l;return((l=B.value)==null?void 0:l.tasks)||[]}),Q=Y(()=>{var l;return((l=B.value)==null?void 0:l.totalTasks)||0}),ke=Y(()=>{var c,u;const l=((u=(c=B.value)==null?void 0:c.tasks)==null?void 0:u.map(k=>k.media))||[];return[...new Set(l.filter(Boolean))].map(k=>({title:k,value:k}))}),Ve=p([{title:"Completed",value:"Completed"},{title:"In Progress",value:"In Progress"},{title:"On Hold",value:"On Hold"}]),ge=p([{title:"Accepted",value:"1"},{title:"Unchecked",value:"0"}]),_e=[{title:"Task",key:"name"},{title:"Media",key:"media"},{title:"Stars",key:"rate"},{title:"SMT",key:"semester"},{title:"ID",key:"id"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],se=l=>l=="Instagram"?{color:"primary",icon:"tabler-brand-instagram"}:l=="TikTok"?{color:"info",icon:"tabler-brand-tiktok"}:l=="YouTube"?{color:"error",icon:"tabler-brand-youtube"}:l=="Google Drive"?{color:"warning",icon:"tabler-brand-google"}:{color:"primary",icon:"tabler-world"},be=l=>{if(l==="Completed")return{text:"Completed",color:"primary"};if(l==="In Progress")return{text:"In Progress",color:"warning"};if(l==="On Hold")return{text:"On Hold",color:"error"}},ye=async({action:l,data:e})=>{var u;const c={...e,accepted:e.accepted===""?"0":!!Number(e.accepted),rate:e.rate===""?0:Number(e.rate),admin_teacher_id:e.admin_teacher_id===""?null:Number(e.admin_teacher_id)};console.log("Sending taskData:",c,"action:",l);try{let k="/tasks",s="POST";l==="update"&&e.id&&(k=`/tasks/${e.id}`,s="PUT");const{data:V,response:C}=await ne(k,{method:s,body:JSON.stringify(c),headers:{"Content-Type":"application/json",Accept:"application/json"}});C.value.ok?(n(l==="create"?"Data berhasil ditambahkan":"Data berhasil diperbarui","success"),console.log("Task response:",V),O()):n(C.value.statusText||"Gagal menyimpan data","error")}catch(k){console.error("Task save error:",((u=k==null?void 0:k.data)==null?void 0:u.errors)||k),n(k.message||"Gagal menyimpan data","error")}},he=async l=>{try{confirm("Apakah kamu yakin ingin menghapus data ini?")&&(console.log("Deleting task with ID:",l),await ne(`/tasks/${l}`,{method:"DELETE"}),n("Data berhasil dihapus","success"),O())}catch(e){n(e.message||"Gagal menghapus data","error"),console.error(e)}};return(l,e)=>{const c=A,u=ue,k=je("IconBtn");return h(),Z("div",null,[t(te,{class:"mb-6"},{default:o(()=>[t(le,null,{default:o(()=>[t(H,null,{default:o(()=>[(h(!0),Z(ie,null,Me(a(T),(s,V)=>(h(),Z(ie,{key:V},[t(v,{cols:"12",sm:"6",md:"3",class:"px-6"},{default:o(()=>[f("div",{class:Be(["d-flex justify-space-between",l.$vuetify.display.xs||l.$vuetify.display.sm&&V<2?"product-widget":""])},[f("div",ta,[f("div",la,b(s.title),1),f("h4",oa,b(s.value),1),f("div",sa,[f("div",ra,b(s.desc),1),s.change?(h(),S(de,{key:0,label:"",color:s.change==100?"success":"error"},{default:o(()=>[y(b(("prefixWithPlus"in l?l.prefixWithPlus:a(Te))(s.change))+"% ",1)]),_:2},1032,["color"])):N("",!0)])]),t(ee,{variant:"tonal",rounded:"",size:"38"},{default:o(()=>[t(X,{icon:s.icon,size:"28"},null,8,["icon"])]),_:2},1024)],2)]),_:2},1024),(l.$vuetify.display.mdAndUp?V!==a(T).length-1:l.$vuetify.display.smAndUp&&V%2===0)?(h(),S(E,{key:0,vertical:"",inset:"",length:"95"})):N("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),t(Ge,{modelValue:a(D),"onUpdate:modelValue":e[0]||(e[0]=s=>w(D)?D.value=s:null),closable:"","close-label":"Close Alert",class:"mb-6",color:a(M)},{default:o(()=>[y(b(a(x)),1)]),_:1},8,["modelValue","color"]),t(te,{title:"Filters",class:"mb-6"},{default:o(()=>[t(le,null,{default:o(()=>[t(H,null,{default:o(()=>[t(v,{cols:"12",sm:"4"},{default:o(()=>[t(c,{modelValue:a(R),"onUpdate:modelValue":[e[1]||(e[1]=s=>w(R)?R.value=s:null),O],placeholder:"Status",items:a(Ve),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),t(v,{cols:"12",sm:"4"},{default:o(()=>[t(c,{modelValue:a(G),"onUpdate:modelValue":[e[2]||(e[2]=s=>w(G)?G.value=s:null),O],placeholder:"Media",items:a(ke),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),t(v,{cols:"12",sm:"4"},{default:o(()=>[t(c,{modelValue:a(W),"onUpdate:modelValue":[e[3]||(e[3]=s=>w(W)?W.value=s:null),O],placeholder:"Checked",items:a(ge),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),t(E,{class:"my-4"}),f("div",ia,[f("div",na,[t(u,{modelValue:a(J),"onUpdate:modelValue":e[4]||(e[4]=s=>w(J)?J.value=s:null),placeholder:"Search Tasks",density:"compact",style:{"inline-size":"200px"},class:"me-3",onInput:O},null,8,["modelValue"])]),t(We),f("div",da,[t(c,{modelValue:a(g),"onUpdate:modelValue":e[5]||(e[5]=s=>w(g)?g.value=s:null),items:[5,10,20,25,50]},null,8,["modelValue"]),t(F,{variant:"tonal",color:"secondary","prepend-icon":"tabler-upload"},{default:o(()=>e[11]||(e[11]=[y(" Export ")])),_:1}),a($)(2).value?(h(),S(F,{key:0,color:"primary","prepend-icon":"tabler-plus",onClick:e[6]||(e[6]=()=>{P.value="add",I.value={},U.value=!0})},{default:o(()=>e[12]||(e[12]=[y(" Add New Task ")])),_:1})):N("",!0)])]),t(E,{class:"mt-4"}),t(a(Je),{"items-per-page":a(g),"onUpdate:itemsPerPage":e[8]||(e[8]=s=>w(g)?g.value=s:null),page:a(_),"onUpdate:page":e[9]||(e[9]=s=>w(_)?_.value=s:null),headers:_e,"show-select":"",items:a(ve),"items-length":a(Q),class:"text-no-wrap","onUpdate:options":fe},{"item.name":o(({item:s})=>[f("div",ua,[t(ee,{size:"38",variant:"tonal",rounded:""},{default:o(()=>[t(Qe,{src:`/images/plans/${s.project_plan.subject}.png`},null,8,["src"])]),_:2},1024),f("div",ma,[f("span",ca,b(s.name.substring(0,30)),1),f("span",pa,b(s.project_plan.theme)+" by "+b(s.admin_student.nickname),1)])])]),"item.media":o(({item:s})=>{var V;return[t(ee,{size:"30",variant:"tonal",color:(V=se(s.media))==null?void 0:V.color,class:"me-2"},{default:o(()=>{var C;return[t(X,{icon:(C=se(s.media))==null?void 0:C.icon,size:"18"},null,8,["icon"])]}),_:2},1032,["color"]),f("span",fa,b(s.media),1)]}),"item.rate":o(({item:s})=>[t(pe,{modelValue:s.rate,"onUpdate:modelValue":V=>s.rate=V,size:"x-small",density:"compact","half-increments":"",color:s.rate==0?"secondary":"warning",readonly:""},null,8,["modelValue","onUpdate:modelValue","color"])]),"item.semester":o(({item:s})=>[y(b(s.semester),1)]),"item.id":o(({item:s})=>[y(b(s.id),1)]),"item.status":o(({item:s})=>[t(de,K(be(s.status),{density:"default",label:""}),null,16)]),"item.actions":o(({item:s})=>[t(k,{disabled:!a($)(2).value,color:a($)(2).value?"primary":"secondary",onClick:V=>L(s)},{default:o(()=>[t(X,{icon:"tabler-edit"})]),_:2},1032,["disabled","color","onClick"]),t(k,null,{default:o(()=>[t(X,{icon:"tabler-dots-vertical"}),t(Xe,{activator:"parent"},{default:o(()=>[t(Ze,null,{default:o(()=>{var V;return[a(j)(4,((V=a(i).value)==null?void 0:V.admin_teacher_id)??"X").value?(h(),S(ae,{key:0,value:"review","prepend-icon":"tabler-circle-check",onClick:C=>m(s)},{default:o(()=>e[13]||(e[13]=[y(" Review ")])),_:2},1032,["onClick"])):N("",!0),a($)(4).value?(h(),S(ae,{key:1,value:"delete","prepend-icon":"tabler-trash",onClick:C=>he(s.id)},{default:o(()=>e[14]||(e[14]=[y(" Delete ")])),_:2},1032,["onClick"])):N("",!0),a($)(2).value?(h(),S(ae,{key:2,value:"duplicate","prepend-icon":"tabler-copy",onClick:C=>r(s)},{default:o(()=>e[15]||(e[15]=[y(" Duplicate ")])),_:2},1032,["onClick"])):N("",!0)]}),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:o(()=>[t(E),f("div",va,[f("p",ka,b(a(Re)({page:a(_),itemsPerPage:a(g)},a(Q))),1),t(Ke,{modelValue:a(_),"onUpdate:modelValue":e[7]||(e[7]=s=>w(_)?_.value=s:null),length:Math.min(Math.ceil(a(Q)/a(g)),5),"total-visible":l.$vuetify.display.xs?1:Math.min(Math.ceil(a(Q)/a(g)),5)},{prev:o(s=>[t(F,K({variant:"tonal",color:"default"},s,{icon:!1}),{default:o(()=>e[16]||(e[16]=[y(" Previous ")])),_:2},1040)]),next:o(s=>[t(F,K({variant:"tonal",color:"default"},s,{icon:!1}),{default:o(()=>e[17]||(e[17]=[y(" Next ")])),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),t(aa,{"is-drawer-open":a(U),"onUpdate:isDrawerOpen":e[10]||(e[10]=s=>w(U)?U.value=s:null),mode:a(P),"task-data":a(I),onTaskData:ye},null,8,["is-drawer-open","mode","task-data"])])}}},kt=Oe(Va,[["__scopeId","data-v-a1b63c6e"]]);export{kt as default};
