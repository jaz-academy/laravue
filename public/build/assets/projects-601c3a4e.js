import{_ as te}from"./MoreBtn-587f7e87.js";import{m as ce}from"./vue3-apexcharts-7f8f0297.js";import{r as Y,p as ae,h as me,t as pe}from"./helpers-ddaee727.js";import{_ as fe}from"./_plugin-vue_export-helper-c27b6911.js";import{a as se,V as q}from"./VCard-afaa5d27.js";import{V as Q}from"./VCardText-cf9fd2ab.js";import{V as ge,a as he,b as ve,c as be}from"./VList-c368e352.js";import{a5 as p,o as m,f as V,e as s,b as a,c as C,F as E,i as J,bO as _e,d as o,x as f,ai as W,a0 as U,z as x,y as I,v as $,n as d,r as T,a as ye,aU as N,s as H,$ as xe,H as ee,b7 as Ve}from"./main-d9f3424d.js";import{_ as we,T as ke,L as je,a as Ce}from"./TopTenPosted-dfe57005.js";import{_ as Te}from"./AppTextField-760889a8.js";import{p as $e}from"./paginationMeta-4ad053a4.js";import{f as Pe}from"./formatters-5eff6250.js";import{V as Ae}from"./VDataTableServer-8003296c.js";import{V as oe}from"./VAvatar-277a8b10.js";import{V as ze}from"./VRating-453f5ab3.js";import{V as De}from"./VDivider-f6620f51.js";import{V as Se}from"./VPagination-ae02233c.js";import{u as Le}from"./useApi-608e4ca2.js";import{V as K}from"./VRow-da5b93ce.js";import{V as y}from"./VCol-ac94f502.js";import{V as Be}from"./VChip-b6bedac6.js";import{V as Ne}from"./VBadge-ed39bbc2.js";import"./VMenu-b53d0f28.js";import"./VOverlay-6cf31c8f.js";import"./easing-9f15041e.js";import"./lazy-3da88233.js";import"./scopeId-c2687b41.js";import"./VImg-f55b59e7.js";import"./forwardRefs-8348545e.js";import"./dialog-transition-93f1260e.js";import"./no-profile-4221a4a6.js";import"./ssrBoot-51c609c5.js";import"./VTooltip-e707efd6.js";import"./form-26233cc1.js";import"./VTextField-0356918e.js";/* empty css                   */import"./VCounter-17d4f7ca.js";import"./VField-9bf8b145.js";import"./VInput-ca1cb71d.js";import"./VDataTable-76682092.js";import"./VSelect-1d333a1c.js";import"./VCheckboxBtn-bb1e1fec.js";import"./VSelectionControl-28f4217c.js";import"./VTable-9b09b8cc.js";import"./filter-dcfc6bd0.js";const Ue={class:"text-body-1 text-high-emphasis font-weight-medium"},Ie={__name:"LastProject",props:{lastProjectTasks:Array,lastProject:Array,students:Array},setup(D){const P=D,L=p(()=>Object.values(P.students).map(v=>{const t=P.lastProjectTasks.find(h=>{var n;return(n=h.students)==null?void 0:n.some(w=>w.id===v.id)});return{id:t==null?void 0:t.id,title:(t==null?void 0:t.name)||"",link:(t==null?void 0:t.link)||"#",date:(t==null?void 0:t.date)||"",name:v.nickname,progress:t!=null&&t.rate?t.rate*20:0,color:Y(t==null?void 0:t.rate)}}));return(v,t)=>{const h=te;return m(),V(q,null,{default:s(()=>[a(se,{title:D.lastProject.theme,subtitle:`Last Project: ${D.lastProject.subject}`},{append:s(()=>[a(h)]),_:1},8,["title","subtitle"]),a(Q,null,{default:s(()=>[a(ge,{class:"card-list scrollable-card"},{default:s(()=>[(m(!0),C(E,null,J(L.value,n=>(m(),V(he,{key:n.title},{prepend:s(()=>[a(_e,{modelValue:n.progress,"onUpdate:modelValue":w=>n.progress=w,size:54,class:"me-4",color:n.color},{default:s(()=>[o("span",Ue,f(n.progress),1)]),_:2},1032,["modelValue","onUpdate:modelValue","color"])]),append:s(()=>[n.title?(m(),V(W,{key:0,href:`/?search=${n.id}`,target:"_blank",rel:"noopener noreferrer",variant:"tonal",color:n.color,class:"rounded-sm",size:"30"},{default:s(()=>[a(U,{icon:"tabler-chevron-right",class:"flip-in-rtl"})]),_:2},1032,["href","color"])):x("",!0)]),default:s(()=>[a(ve,{class:I(["font-weight-medium mb-2",["text-"+n.color]])},{default:s(()=>[$(f(d(ae)(n.title)),1)]),_:2},1032,["class"]),a(be,{class:I(["text-"+n.color])},{default:s(()=>[$(f(("humanDate"in v?v.humanDate:d(me))(n.date))+" - "+f(n.name),1)]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}}},Me=fe(Ie,[["__scopeId","data-v-267e5100"]]),Fe={class:"d-flex flex-wrap justify-space-between align-center gap-4"},Oe={class:"d-flex align-center gap-x-4 py-2"},Re={class:"text-base font-weight-medium mb-1"},He={class:"d-flex align-center"},Ke={class:"text-base ms-2"},Ye={class:"text-base text-high-emphasis font-weight-medium"},Ee={key:0,class:"d-flex align-center gap-x-4 mb-2"},Je={key:0,class:"d-flex justify-space-between gap-x-4"},We=["href"],qe={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},Qe={class:"text-sm text-disabled mb-0"},Ge={__name:"NotAcceptedTasksTable",props:{notAcceptedTasks:Array},setup(D){const P=D,L=p(()=>Object.values(P.notAcceptedTasks).map(e=>{var r,i;return{id:e==null?void 0:e.id,title:(e==null?void 0:e.name)||"",link:(e==null?void 0:e.link)||"#",rate:(e==null?void 0:e.rate)||0,media:(e==null?void 0:e.media)||"",date:Pe(e==null?void 0:e.date)||"",name:(r=e==null?void 0:e.students[0])==null?void 0:r.name,image:((i=e==null?void 0:e.students[0])==null?void 0:i.image)||"",status:(e==null?void 0:e.status)||"",progress:e!=null&&e.rate?e.rate*20:0,color:Y(e==null?void 0:e.rate)}})),v=T(""),t=T(5),h=T(1),n=T(),w=T(),B=e=>{var r,i;h.value=e.page,n.value=(r=e.sortBy[0])==null?void 0:r.key,w.value=(i=e.sortBy[0])==null?void 0:i.order},M=[{title:"Title Task",key:"name"},{title:"Date",key:"date"},{title:"Stars",key:"rate"},{title:"Status",key:"status"},{title:"View",key:"link",sortable:!1}],A=p(()=>{let e=[...L.value];if(v.value){const r=v.value.toLowerCase();e=e.filter(i=>i.title.toLowerCase().includes(r)||i.name.toLowerCase().includes(r)||i.status.toLowerCase().includes(r))}return n.value&&e.sort((r,i)=>{const z=r[n.value],l=i[n.value];return z===void 0?1:l===void 0?-1:w.value==="desc"?z<l?1:-1:z>l?1:-1}),e}),F=p(()=>{const e=(h.value-1)*t.value,r=e+t.value;return A.value.slice(e,r)});return(e,r)=>{const i=Te,z=ye("RouterLink");return m(),V(q,null,{default:s(()=>[a(Q,null,{default:s(()=>[o("div",Fe,[r[4]||(r[4]=o("h5",{class:"text-h5 font-weight-medium"}," Not Accepted Tasks ",-1)),o("div",null,[a(i,{modelValue:d(v),"onUpdate:modelValue":r[0]||(r[0]=l=>N(v)?v.value=l:null),placeholder:"Search",style:{"max-inline-size":"200px","min-inline-size":"200px"}},null,8,["modelValue"])])])]),_:1}),a(d(Ae),{"items-per-page":d(t),"onUpdate:itemsPerPage":r[2]||(r[2]=l=>N(t)?t.value=l:null),page:d(h),"onUpdate:page":r[3]||(r[3]=l=>N(h)?h.value=l:null),"items-per-page-options":[5,10,20,-1],headers:M,"items-length":d(A).length,items:d(F),"show-select":"",class:"text-no-wrap","onUpdate:options":B},{"item.name":s(({item:l})=>[o("div",Oe,[o("div",null,[o("div",Re,[a(z,{to:{name:"academy-course-details"},class:"text-link"},{default:s(()=>[$(f(d(ae)(l.title).substring(0,30)),1)]),_:2},1024)]),o("div",He,[a(oe,{size:"22",image:d(pe)(l.image)},null,8,["image"]),o("span",Ke,f(l.name),1)])])])]),"item.date":s(({item:l})=>[o("span",Ye,f(l.media),1),o("div",null,f(l.date),1)]),"item.rate":s(({item:l})=>[l.title?(m(),C("div",Ee,[a(ze,{modelValue:l.rate,"onUpdate:modelValue":k=>l.rate=k},{item:s(k=>[a(U,H(k,{size:25,color:k.isFilled?d(Y)(l.rate):"secondary",class:"me-3",icon:k.isFilled?"tabler-mood-smile-beam":"tabler-mood-sad"}),null,16,["color","icon"])]),_:2},1032,["modelValue","onUpdate:modelValue"])])):x("",!0)]),"item.link":s(({item:l})=>[l.title?(m(),C("div",Je,[o("div",null,[o("a",{href:`/?search=${l.id}`,target:"_blank",rel:"noopener noreferrer"},[a(U,{icon:"tabler-brand-zoom",color:l.color,size:"24",class:"me-2"},null,8,["color"])],8,We)])])):x("",!0)]),bottom:s(()=>[a(De),o("div",qe,[o("p",Qe,f(d($e)({page:d(h),itemsPerPage:d(t)},d(A).length)),1),a(Se,{modelValue:d(h),"onUpdate:modelValue":r[1]||(r[1]=l=>N(h)?h.value=l:null),length:Math.ceil(d(A).length/d(t)),"total-visible":e.$vuetify.display.xs?1:Math.min(Math.ceil(d(A).length/d(t)),5)},{prev:s(l=>[a(W,H({variant:"tonal",color:"default"},l,{icon:!1}),{default:s(()=>r[5]||(r[5]=[$(" Previous ")])),_:2},1040)]),next:s(l=>[a(W,H({variant:"tonal",color:"default"},l,{icon:!1}),{default:s(()=>r[6]||(r[6]=[$(" Next ")])),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items-length","items"])]),_:1})}}};const Xe={class:"pe-3"},Ze={class:"text-h3 text-high-emphasis mb-1"},et={class:"font-weight-medium"},tt={class:"mb-6 text-wrap",style:{"max-inline-size":"400px"}},at={key:0,class:"d-flex justify-space-between flex-wrap gap-4 me-4 flex-column flex-md-row"},st={class:"d-flex"},ot={class:"text-base"},lt={class:"d-flex justify-space-between align-center"},rt={class:"d-flex flex-column ps-3"},nt={class:"text-h3 mb-2 mt-3"},it={class:"d-flex flex-wrap gap-x-4 gap-y-10 mx-auto",style:{"inline-size":"300px"}},ut={class:"text-body-1",style:{"min-inline-size":"90px"}},dt={class:"text-h4"},ct="rgba(var(--v-border-color), var(--v-border-opacity))",sa={__name:"projects",setup(D){const P=xe("userData"),L=T(""),v=T(""),t=T({semester:v.value,data:{}});async function h(){const u=await Le(`/dashboard-project?student_id=${L.value}&semester=${v.value}`);t.value=u.data.value}const n=p(()=>t.value.students||[]),w=p(()=>t.value.teacher||[]),B=p(()=>t.value.topTen||[]),M=p(()=>t.value.lastProject||[]),A=p(()=>t.value.lastProjectTasks||[]),F=p(()=>t.value.literasiTasks||[]),e=p(()=>t.value.socialMediaTasks||[]),r=p(()=>t.value.notAcceptedTasks||[]),i=p(()=>{var j;const{accepted:u=0,completed:c=0,progress:b=0}=((j=t.value.completedTasks)==null?void 0:j[0])||{},_=Number(u)+Number(c)+Number(b),g=_?(u/_*100).toFixed(0):0;return{accepted:u,completed:c,progress:b,total:_,percentage:g}});ee(async()=>{await h(),console.log("Project data fetched:",t.value)});const z=p(()=>{var u;return{chart:{height:270,type:"bar",toolbar:{show:!1}},plotOptions:{bar:{horizontal:!0,barHeight:"70%",distributed:!0,startingShape:"rounded",borderRadius:7}},colors:["#7367f0","#16B1FF","#56CA00","#8A8D93","#FF4C51","#FFB400"],grid:{borderColor:ct,strokeDashArray:10,xaxis:{lines:{show:!0}},yaxis:{lines:{show:!1}},padding:{top:-35,bottom:-12}},dataLabels:{enabled:!0,style:{colors:["#fff"],fontWeight:200,fontSize:"13px"},offsetX:0,dropShadow:{enabled:!1},formatter(c,b){var _,g;return((g=(_=t.value.media)==null?void 0:_.name)==null?void 0:g[b.dataPointIndex])||""}},xaxis:{categories:(u=t.value.media)==null?void 0:u.count,axisBorder:{show:!1},axisTicks:{show:!1},labels:{style:{colors:"rgba(var(--v-theme-on-background), var(--v-disabled-opacity))",fontSize:"13px"},formatter(c){return`${c}`}}},yaxis:{labels:{show:!1,style:{colors:"rgba(var(--v-theme-on-background), var(--v-disabled-opacity))",fontSize:"13px"}}},tooltip:{enabled:!0,style:{fontSize:"12px"},onDatasetHover:{highlightDataSeries:!1}},legend:{show:!1}}}),l=p(()=>{var u;return[{data:((u=t.value.media)==null?void 0:u.count)||[]}]}),k={donut:{series1:"#22A95E",series2:"#24B364",series3:"#56CA00",series4:"#53D28C",series5:"#7EDDA9",series6:"#A9E9C5"}};function le(u){const b=new Date().getDay(),_=(u+7-b)%7;return _===0?7:_}const re={chart:{height:157,width:130,parentHeightOffset:0,type:"donut"},labels:["Accepted","Completed","In Progress"],colors:[k.donut.series1,k.donut.series4,k.donut.series6],stroke:{width:0},dataLabels:{enabled:!1,formatter(u){return`${Number.parseInt(u)}`}},legend:{show:!1},tooltip:{theme:!1},grid:{padding:{top:0}},plotOptions:{pie:{donut:{size:"75%",labels:{show:!0,value:{fontSize:"1.5rem",color:"rgba(var(--v-theme-on-background), var(--v-high-emphasis-opacity))",fontWeight:500,offsetY:-15,formatter(u){return`${Number.parseInt(u)}`}},name:{offsetY:20},total:{show:!0,fontSize:".7rem",label:"Total",color:"rgba(var(--v-theme-on-background), var(--v-disabled-opacity))",formatter(){return`${i.value.total}`}}}}}}},ne=p(()=>{const u=Number(i.value.accepted||0),c=Number(i.value.completed||0),b=Number(i.value.progress||0);return[u,c,b]}),ie=p(()=>{var b,_;const u=((b=t.value.media)==null?void 0:b.count)||[],c=u.reduce((g,j)=>g+j,0)||1;return(((_=t.value.media)==null?void 0:_.name)||[]).map((g,j)=>{const S=Math.round((Number(u[j])||0)/c*100);return{title:g,value:S,color:S>=50?"success":S>=5?"primary":"error"}})}),O=["Setiap langkah kecil itu berarti. Jalan terus aja, hasilnya bakal keliatan nanti.","Jangan tunggu mood bagus buat mulai. Mulai dulu, nanti mood bakal ikut datang.","Capek itu wajar, berhenti sebentar boleh. Yang penting jangan nyerah. Kamu pasti bisa!","Kalau gagal, itu tandanya kamu lagi belajar. Jadi makin dekat sama berhasil. Yuk coba lagi..","Sedikit demi sedikit, lama-lama jadi bukit emas. Konsisten itu kuncinya. Yuk mulai lagi..","Mimpi nggak bakal tercapai kalau cuma dipikirin. Gerak dikit aja udah selangkah lebih dekat.","Jangan bandingin diri sama orang lain. Bandingin sama dirimu kemarin aja udah cukup.","Hari ini nggak harus sempurna. Kamu hanya harus lebih baik daripada kemarin, gitu aja cukup kok!","Semua orang pernah ragu. Bedanya, yang berhasil itu tetap jalan walau ragu.","Hidup ini kayak naik sepeda. Kalau mau seimbang, ya harus terus ngegowes. 🚴"],G=T(O[0]);let R=0,X;return ee(()=>{X=setInterval(()=>{R=(R+1)%O.length,G.value=O[R]},6e4)}),Ve(()=>clearInterval(X)),(u,c)=>{const b=ce,_=te;return m(),C("div",null,[a(K,{class:"py-6"},{default:s(()=>[a(y,{cols:"12",md:"8",class:I(u.$vuetify.display.mdAndUp?"border-e":"border-b")},{default:s(()=>{var g,j;return[o("div",Xe,[o("h3",Ze,[c[0]||(c[0]=$(" Welcome back, ")),o("span",et,f(((g=d(P).value)==null?void 0:g.name)??"")+" 👋🏻 ",1)]),o("div",tt,[o("p",null,f(G.value),1)]),(j=t.value.completedTasks)!=null&&j.length?(m(),C("div",at,[(m(!0),C(E,null,J([{title:"Accepted ",value:i.value.accepted,icon:"custom-check",color:"success"},{title:"Completed ",value:i.value.completed,icon:"custom-laptop",color:"info"},{title:"In Progress ",value:i.value.progress,icon:"custom-lightbulb",color:"warning"}],({title:S,value:ue,icon:de,color:Z})=>(m(),C("div",{key:S},[o("div",st,[a(oe,{variant:"tonal",color:Z,rounded:"",size:"54",class:"text-primary me-4"},{default:s(()=>[a(U,{icon:de,size:"38"},null,8,["icon"])]),_:2},1032,["color"]),o("div",null,[o("span",ot,f(S),1),o("h4",{class:I(["text-h4 font-weight-medium",`text-${Z}`])},f(ue),3)])])]))),128))])):x("",!0)])]}),_:1},8,["class"]),a(y,{cols:"12",md:"4"},{default:s(()=>[o("div",lt,[o("div",rt,[c[3]||(c[3]=o("h5",{class:"text-h5 text-high-emphasis mb-2 text-no-wrap"}," Tasks Completed ",-1)),c[4]||(c[4]=o("span",{class:"mb-7"},"Weekly Report",-1)),o("div",nt,[$(f(le(5))+" ",1),c[1]||(c[1]=o("span",{class:"text-h4 text-medium-emphasis"},"d",-1)),c[2]||(c[2]=$(" Left "))]),o("div",null,[a(Be,{color:i.value.percentage>90?"success":i.value.percentage>75?"primary":"error",label:""},{default:s(()=>[$(f(i.value.percentage)+"% ",1)]),_:1},8,["color"])])]),o("div",null,[a(b,{type:"donut",height:"150",width:"150",options:re,series:ne.value},null,8,["series"])])])]),_:1})]),_:1}),a(K,{class:"match-height"},{default:s(()=>[a(y,{cols:"12",md:"8"},{default:s(()=>[a(q,null,{default:s(()=>[a(se,{title:"Media Usage"},{append:s(()=>[a(_)]),_:1}),a(Q,null,{default:s(()=>[a(K,null,{default:s(()=>[a(y,{cols:"12",md:"6"},{default:s(()=>[o("div",null,[a(b,{type:"bar",height:"260",options:z.value,series:l.value},null,8,["options","series"])])]),_:1}),a(y,{cols:"12",md:"6"},{default:s(()=>[o("div",it,[(m(!0),C(E,null,J(ie.value,g=>(m(),C("div",{key:g.title,class:"d-flex gap-x-4"},[a(Ne,{dot:"",inline:"",class:"mt-1 custom-badge",color:g.color},null,8,["color"]),o("div",null,[o("div",ut,f(g.title),1),o("h4",dt,f(Number(g.value))+"% ",1)])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(y,{cols:"12",md:"4",sm:"6"},{default:s(()=>[w.value.length?(m(),V(we,{key:0,teachers:w.value},null,8,["teachers"])):x("",!0)]),_:1}),a(y,{cols:"12",md:"4",sm:"6"},{default:s(()=>[B.value.length?(m(),V(ke,{key:0,"top-ten":B.value},null,8,["top-ten"])):x("",!0)]),_:1}),a(y,{cols:"12",md:"4",sm:"6"},{default:s(()=>[n.value.length?(m(),V(Me,{key:0,"last-project":M.value,"last-project-tasks":A.value,students:n.value},null,8,["last-project","last-project-tasks","students"])):x("",!0)]),_:1}),a(y,{cols:"12",md:"4",sm:"6"},{default:s(()=>[n.value.length?(m(),V(je,{key:0,"literasi-tasks":F.value,students:n.value},null,8,["literasi-tasks","students"])):x("",!0)]),_:1}),a(y,{cols:"12"},{default:s(()=>[e.value.length?(m(),V(Ce,{key:0,"social-media-tasks":e.value,students:n.value},null,8,["social-media-tasks","students"])):x("",!0)]),_:1}),a(y,{cols:"12"},{default:s(()=>[d(P).admin_teacher_id&&r.value.length?(m(),V(Ge,{key:0,"not-accepted-tasks":r.value},null,8,["not-accepted-tasks"])):x("",!0)]),_:1})]),_:1})])}}};export{sa as default};
