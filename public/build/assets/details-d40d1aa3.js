import{u as E}from"./useApi-d559f13e.js";import{a as M}from"./no-profile-4221a4a6.js";import{v as Q,R as B}from"./videojs-player.esm-e6e9e302.js";/* empty css                 */import{bh as $,bi as q,j as H,r as V,H as z,w as G,a5 as A,a as D,o as _,f as b,e as r,b as o,d as h,v as I,x as g,a0 as W,n as w,c as T,z as J,i as L,F as Y}from"./main-dd895efc.js";import{_ as K}from"./_plugin-vue_export-helper-c27b6911.js";import{V as O,a as X,b as Z,d as ee}from"./VCard-521d2f55.js";import{V as te}from"./VRow-401a9eed.js";import{V as U}from"./VCol-5badd7d4.js";import{V as ie}from"./VChip-a60314c8.js";import{V as j}from"./VCardText-8cb57704.js";import{V as F}from"./VDivider-3f5c8926.js";import{V as se}from"./VAvatar-c43efe20.js";import{V as ae,a as re}from"./VExpansionPanel-50158dad.js";import{V as oe,a as ne,b as le}from"./VList-681543a0.js";import{V as de}from"./VCheckbox-55629f39.js";import"./VImg-0d845f43.js";import"./lazy-f6e07bc3.js";import"./ssrBoot-fbb1ff66.js";import"./VCheckboxBtn-7fc5a6c7.js";import"./VSelectionControl-583fb587.js";import"./form-06ce0535.js";import"./VInput-ec440a4f.js";var ue={exports:{}};const he=$(Q);(function(R,v){(function(a,y){{var p=he;R.exports=y(p.default||p)}})(q,function(a){var y=a.browser.IS_IOS||a.browser.IS_NATIVE_ANDROID,p=a.getTech("Tech");class l extends p{constructor(e,t){super(e,t),this.setPoster(e.poster),this.setSrc(this.options_.source,!0),this.setTimeout((function(){this.el_&&(this.el_.parentNode.className+=" vjs-youtube",y&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),l.isApiReady?this.initYTPlayer():l.apiReadyQueue.push(this))}).bind(this))}dispose(){if(this.ytPlayer)this.ytPlayer.stopVideo&&this.ytPlayer.stopVideo(),this.ytPlayer.destroy&&this.ytPlayer.destroy();else{var e=l.apiReadyQueue.indexOf(this);e!==-1&&l.apiReadyQueue.splice(e,1)}this.ytPlayer=null,this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile",""),this.el_.parentNode.removeChild(this.el_),p.prototype.dispose.call(this)}createEl(){var e=document.createElement("div");e.setAttribute("id",this.options_.techId),e.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute"),e.setAttribute("class","vjs-tech");var t=document.createElement("div");if(t.appendChild(e),!y&&!this.options_.ytControls){var i=document.createElement("div");i.setAttribute("class","vjs-iframe-blocker"),i.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),i.onclick=(function(){this.pause()}).bind(this),t.appendChild(i)}return t}initYTPlayer(){var e={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(typeof this.options_.autohide<"u"&&(e.autohide=this.options_.autohide),typeof this.options_.cc_load_policy<"u"&&(e.cc_load_policy=this.options_.cc_load_policy),typeof this.options_.ytControls<"u"&&(e.controls=this.options_.ytControls),typeof this.options_.disablekb<"u"&&(e.disablekb=this.options_.disablekb),typeof this.options_.color<"u"&&(e.color=this.options_.color),e.controls?typeof this.options_.fs<"u"&&(e.fs=this.options_.fs):e.fs=0,this.options_.source.src.indexOf("end=")!==-1){var t=this.options_.source.src.match(/end=([0-9]*)/);this.options_.end=parseInt(t[1])}if(typeof this.options_.end<"u"&&(e.end=this.options_.end),typeof this.options_.hl<"u"?e.hl=this.options_.hl:typeof this.options_.language<"u"&&(e.hl=this.options_.language.substr(0,2)),typeof this.options_.iv_load_policy<"u"&&(e.iv_load_policy=this.options_.iv_load_policy),typeof this.options_.list<"u"?e.list=this.options_.list:this.url&&typeof this.url.listId<"u"&&(e.list=this.url.listId),typeof this.options_.listType<"u"&&(e.listType=this.options_.listType),typeof this.options_.modestbranding<"u"&&(e.modestbranding=this.options_.modestbranding),typeof this.options_.playlist<"u"&&(e.playlist=this.options_.playlist),typeof this.options_.playsinline<"u"&&(e.playsinline=this.options_.playsinline),typeof this.options_.rel<"u"&&(e.rel=this.options_.rel),typeof this.options_.showinfo<"u"&&(e.showinfo=this.options_.showinfo),this.options_.source.src.indexOf("start=")!==-1){var i=this.options_.source.src.match(/start=([0-9]*)/);this.options_.start=parseInt(i[1])}if(typeof this.options_.start<"u"&&(e.start=this.options_.start),typeof this.options_.theme<"u"&&(e.theme=this.options_.theme),typeof this.options_.customVars<"u"){var s=this.options_.customVars;Object.keys(s).forEach(function(f){e[f]=s[f]})}this.activeVideoId=this.url?this.url.videoId:null,this.activeList=e.list;var u={videoId:this.activeVideoId,playerVars:e,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onVolumeChange:this.onPlayerVolumeChange.bind(this),onError:this.onPlayerError.bind(this)}};typeof this.options_.enablePrivacyEnhancedMode<"u"&&this.options_.enablePrivacyEnhancedMode&&(u.host="https://www.youtube-nocookie.com"),this.ytPlayer=new YT.Player(this.options_.techId,u)}onPlayerReady(){this.options_.muted&&this.ytPlayer.mute();var e=this.ytPlayer.getAvailablePlaybackRates();e.length>1&&(this.featuresPlaybackRate=!0),this.playerReady_=!0,this.triggerReady(),this.playOnReady?this.play():this.cueOnReady&&(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)}onPlayerPlaybackQualityChange(){}onPlayerPlaybackRateChange(){this.trigger("ratechange")}onPlayerStateChange(e){var t=e.data;if(!(t===this.lastState||this.errorNumber))switch(this.lastState=t,t){case-1:this.trigger("loadstart"),this.trigger("loadedmetadata"),this.trigger("durationchange"),this.trigger("ratechange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting");break}}onPlayerVolumeChange(){this.trigger("volumechange")}onPlayerError(e){this.errorNumber=e.data,this.trigger("pause"),this.trigger("error")}error(){var e=1e3+this.errorNumber;switch(this.errorNumber){case 5:return{code:e,message:"Error while trying to play the video"};case 2:case 100:return{code:e,message:"Unable to find the video"};case 101:case 150:return{code:e,message:"Playback on other Websites has been disabled by the video owner."}}return{code:e,message:"YouTube unknown error ("+this.errorNumber+")"}}loadVideoById_(e){var t={videoId:e};this.options_.start&&(t.startSeconds=this.options_.start),this.options_.end&&(t.endSeconds=this.options_.end),this.ytPlayer.loadVideoById(t)}cueVideoById_(e){var t={videoId:e};this.options_.start&&(t.startSeconds=this.options_.start),this.options_.end&&(t.endSeconds=this.options_.end),this.ytPlayer.cueVideoById(t)}src(e){return e&&this.setSrc({src:e}),this.source}poster(){return y?null:this.poster_}setPoster(e){this.poster_=e}setSrc(e){!e||!e.src||(delete this.errorNumber,this.source=e,this.url=l.parseUrl(e.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.trigger("posterchange"),this.checkHighResPoster()),this.options_.autoplay&&!y?this.isReady_?this.play():this.playOnReady=!0:this.activeVideoId!==this.url.videoId&&(this.isReady_?(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId):this.cueOnReady=!0))}autoplay(){return this.options_.autoplay}setAutoplay(e){this.options_.autoplay=e}loop(){return this.options_.loop}setLoop(e){this.options_.loop=e}play(){!this.url||!this.url.videoId||(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.loadVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))}pause(){this.ytPlayer&&this.ytPlayer.pauseVideo()}paused(){return this.ytPlayer?this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING:!0}currentTime(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0}setCurrentTime(e){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(e,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==e&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval((function(){this.lastState!==YT.PlayerState.PAUSED||!this.isSeeking?clearInterval(this.checkSeekedInPauseInterval):this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked())}).bind(this),250))}seeking(){return this.isSeeking}seekable(){return this.ytPlayer?a.createTimeRange(0,this.ytPlayer.getDuration()):a.createTimeRange()}onSeeked(){clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")}playbackRate(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1}setPlaybackRate(e){this.ytPlayer&&this.ytPlayer.setPlaybackRate(e)}duration(){return this.ytPlayer?this.ytPlayer.getDuration():0}currentSrc(){return this.source&&this.source.src}ended(){return this.ytPlayer?this.lastState===YT.PlayerState.ENDED:!1}volume(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1}setVolume(e){this.ytPlayer&&this.ytPlayer.setVolume(e*100)}muted(){return this.ytPlayer?this.ytPlayer.isMuted():!1}setMuted(e){if(this.ytPlayer)this.muted(!0);else return;e?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50)}buffered(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return a.createTimeRange();var e=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return a.createTimeRange(0,e)}preload(){}load(){}reset(){}networkState(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 3:return 2;default:return 1}}readyState(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 5:return 1;case 3:return 2;default:return 4}}supportsFullScreen(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}checkHighResPoster(){var e="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var t=new Image;t.onload=(function(){if("naturalHeight"in t){if(t.naturalHeight<=90||t.naturalWidth<=120)return}else if(t.height<=90||t.width<=120)return;this.poster_=e,this.trigger("posterchange")}).bind(this),t.onerror=function(){},t.src=e}catch{}}}l.isSupported=function(){return!0},l.canPlaySource=function(d){return l.canPlayType(d.type)},l.canPlayType=function(d){return d==="video/youtube"},l.parseUrl=function(d){var e={videoId:null},t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,i=d.match(t);i&&i[2].length===11&&(e.videoId=i[2]);var s=/[?&]list=([^#\&\?]+)/;return i=d.match(s),i&&i[1]&&(e.listId=i[1]),e};function S(){YT.ready(function(){l.isApiReady=!0;for(var d=0;d<l.apiReadyQueue.length;++d)l.apiReadyQueue[d].initYTPlayer()})}function P(d,e){var t=!1,i=document.createElement("script"),s=document.getElementsByTagName("script")[0];s&&(s.parentNode.insertBefore(i,s),i.onload=function(){t||(t=!0,e())},i.onreadystatechange=function(){!t&&(this.readyState==="complete"||this.readyState==="loaded")&&(t=!0,e())},i.src=d)}function k(){var d=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=d:t.appendChild(document.createTextNode(d)),e.appendChild(t)}l.apiReadyQueue=[],typeof document<"u"&&(P("https://www.youtube.com/iframe_api",S),k()),typeof a.registerTech<"u"?a.registerTech("Youtube",l):a.registerComponent("Youtube",l)})})(ue);const ce={class:"font-weight-medium text-high-emphasis ms-1"},ye={class:"d-flex gap-2 align-center"},pe={class:"px-2 pt-2"},fe={class:"px-2 pt-2"},me=["src"],_e={class:"text-body-1"},ve=["innerHTML"],ge={class:"d-flex align-center"},be={class:"text-body-1 font-weight-medium"},Pe={class:"course-content"},Ie={class:"text-h5 mb-1"},Se={__name:"details",setup(R){const v=H(),a=V(null),y=V([]),p=V(0),l=async i=>{const{data:s}=await E(`/courses/${i}`);a.value=s.value.data},S=async i=>{const s=i.trim(),{data:u}=await E(`/courses-by-name/${encodeURIComponent(s)}`);u.value&&(y.value=u.value.data),console.log("clean: ",s)};console.log("itemData: ",a);const P=()=>{v.query.id&&l(v.query.id),v.query.name&&S(v.query.name)};z(P),G(()=>v.query,P,{deep:!0});const k=A(()=>{var i;return[...new Set((i=y.value)==null?void 0:i.map(s=>s.section))].sort((s,u)=>{var m,c;const f=parseInt(((m=s.match(/\d+/))==null?void 0:m[0])??0,10),n=parseInt(((c=u.match(/\d+/))==null?void 0:c[0])??0,10);return f-n})}),d=i=>y.value.filter(s=>s.section===i).sort((s,u)=>{const f=parseInt(s.title,10),n=parseInt(u.title,10);return f-n}),e=i=>Number(v.query.id)===Number(i),t=A(()=>{var s;if(!((s=a.value)!=null&&s.video_url))return null;let i=a.value.video_url;if(i.includes("youtube.com")||i.includes("youtu.be"))return{src:i,type:"youtube"};if(i.includes("drive.google.com")){const u=i.match(/\/d\/([^/]+)/);if(u&&u[1])return{src:`https://drive.google.com/file/d/${u[1]}/preview`,type:"gdrive"}}return{src:i,type:"mp4"}});return(i,s)=>{const u=D("RouterLink"),f=D("IconBtn");return _(),b(O,{class:"overflow-visible course-details"},{default:r(()=>[o(j,null,{default:r(()=>[o(te,null,{default:r(()=>[o(U,{cols:"12",md:"8"},{default:r(()=>[o(X,{class:"pa-0 mb-2"},{append:r(()=>[h("div",ye,[o(ie,{variant:"tonal",color:"primary",label:""},{default:r(()=>{var n;return[I(g((n=a.value)==null?void 0:n.subject),1)]}),_:1}),o(f,null,{default:r(()=>[o(u,{to:"/academy/course/list"},{default:r(()=>[o(W,{icon:"tabler-arrow-back",size:"26",class:"text-high-emphasis text-primary"})]),_:1})]),_:1})])]),default:r(()=>[o(Z,{class:"mb-2"},{default:r(()=>{var n;return[I(g((n=a.value)==null?void 0:n.title),1)]}),_:1}),o(ee,null,{default:r(()=>{var n;return[s[1]||(s[1]=I("Vendor")),h("span",ce,g((n=a.value)==null?void 0:n.author),1)]}),_:1})]),_:1}),o(O,{flat:"",border:""},{default:r(()=>{var n,m,c;return[h("div",pe,[h("div",fe,[((n=t.value)==null?void 0:n.type)==="youtube"?(_(),b(w(B),{key:t.value.src,options:{techOrder:["youtube"],sources:[{src:t.value.src,type:"video/youtube"}]},controls:"","plays-inline":"",height:i.$vuetify.display.mdAndUp?440:250,class:"w-100 rounded"},null,8,["options","height"])):((m=t.value)==null?void 0:m.type)==="gdrive"?(_(),T("iframe",{key:1,src:t.value.src,width:"100%",height:"480",allow:"autoplay",class:"rounded"},null,8,me)):((c=t.value)==null?void 0:c.type)==="mp4"?(_(),b(w(B),{key:t.value.src,options:{techOrder:["html5"],sources:[{src:t.value.src,type:"video/mp4"}]},controls:"","plays-inline":"",height:i.$vuetify.display.mdAndUp?440:250,class:"w-100 rounded"},null,8,["options","height"])):J("",!0)])]),o(j,null,{default:r(()=>{var x,C,N;return[s[3]||(s[3]=h("h5",{class:"text-h5 mb-3"}," About this course ",-1)),h("p",_e,g((x=a.value)==null?void 0:x.note),1),o(F,{class:"my-6"}),s[4]||(s[4]=h("h5",{class:"text-h5 mb-3"}," Description ",-1)),h("div",{innerHTML:(C=a.value)==null?void 0:C.description},null,8,ve),o(F,{class:"my-6"}),s[5]||(s[5]=h("h5",{class:"text-h5 mb-2"}," Instructor ",-1)),h("div",ge,[o(se,{image:w(M),size:"38",class:"me-3"},null,8,["image"]),h("div",null,[h("div",be,g((N=a.value)==null?void 0:N.author),1),s[2]||(s[2]=h("div",{class:"text-sm text-disabled"}," Online Platform Mentor ",-1))])])]}),_:1})]}),_:1})]),_:1}),o(U,{cols:"12",md:"4"},{default:r(()=>[h("div",Pe,[o(ae,{modelValue:p.value,"onUpdate:modelValue":s[0]||(s[0]=n=>p.value=n),variant:"accordion",class:"expansion-panels-width-border"},{default:r(()=>[(_(!0),T(Y,null,L(k.value,(n,m)=>(_(),b(re,{key:m,elevation:"0",value:m},{title:r(()=>[h("div",null,[h("h5",Ie,g(n),1)])]),text:r(()=>[o(oe,{class:"card-list px-2"},{default:r(()=>[(_(!0),T(Y,null,L(d(n),c=>(_(),b(ne,{key:c.id,class:"py-4"},{prepend:r(()=>[o(de,{class:"me-3","model-value":e(c.id),readonly:"true"},null,8,["model-value"])]),default:r(()=>[o(le,{class:"text-high-emphasis font-weight-medium mb-1"},{default:r(()=>[o(u,{to:`/academy/course/details?name=${c.name}&id=${c.id}`,class:"text-secondary"},{default:r(()=>[I(g(c.title),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1})]),_:1})}}},ze=K(Se,[["__scopeId","data-v-67b46015"]]);export{ze as default};
