import{p as xe}from"./formatters-b3583872.js";import{_ as pe}from"./AppTextField-551ae4db.js";import{_ as A}from"./AppSelect-d84851a7.js";import{u as Ue}from"./helpers-35260a98.js";import{f as fe,p as Se,a as Ce,b as Pe}from"./fetchProjectData-882afdd3.js";import{r as q}from"./validators-daf36985.js";import{f as Ae,t as Ie}from"./fetchTeacherData-37a740aa.js";import{$ as $e,H as ve,r as f,bm as Oe,w as ne,o as k,f as w,e as o,b as a,n as t,aU as D,a$ as je,d as v,ai as N,v as b,x as _,aY as Me,a5 as z,a as Be,c as X,F as te,i as de,z as j,a0 as K,y as qe,s as ae}from"./main-5d6fcc06.js";import{_ as Ne}from"./AppDateTimePicker-33e36496.js";import{_ as Fe}from"./AppTextarea-e9a11bc4.js";import{_ as ze}from"./AppDrawerHeaderSection-244dc832.js";import{f as Ye,s as Le}from"./fetchStudentData-512b621f.js";import{P as Ee}from"./vue3-perfect-scrollbar.esm-c49e78ac.js";import{V as Y}from"./VDivider-5313c886.js";import{V as oe}from"./VCard-63d8873a.js";import{V as se}from"./VCardText-70db7304.js";import{V as He}from"./VForm-5df4740e.js";import{V as L,a as g}from"./VRow-f7db24b9.js";import{V as ke}from"./VRating-966e59cc.js";import{V as Re}from"./VNavigationDrawer-d2591951.js";import{p as Ge}from"./paginationMeta-4ad053a4.js";import{a as We}from"./no-profile-4221a4a6.js";import{u as ue}from"./useApi-aa5265b8.js";import{_ as Je}from"./_plugin-vue_export-helper-c27b6911.js";import{V as Qe}from"./VAlert-2932ec8f.js";import{V as me}from"./VChip-ffb5d7b6.js";import{V as Z}from"./VAvatar-9edca7b8.js";import{V as Xe}from"./VSpacer-f9a6097f.js";import{V as Ke}from"./VDataTableServer-5b85d230.js";import{V as ce}from"./VImg-e6ea3912.js";import{V as Ze}from"./VTooltip-1a9a07e2.js";import{V as et}from"./VMenu-79446f16.js";import{V as tt,a as le}from"./VList-dda4a1b0.js";import{V as at}from"./VPagination-64e9d7f0.js";import"./form-7ce73969.js";import"./VTextField-5e761aa7.js";/* empty css                   */import"./VCounter-f8c24a1e.js";import"./VField-2b5aed59.js";import"./easing-9f15041e.js";import"./VInput-4b1c908d.js";import"./forwardRefs-8348545e.js";import"./VSelect-1ff296b6.js";import"./dialog-transition-70532b3b.js";import"./VOverlay-5aaff2d6.js";import"./lazy-38763445.js";import"./scopeId-2df73914.js";import"./VCheckboxBtn-66ea5a8d.js";import"./VSelectionControl-0c11cef9.js";import"./ssrBoot-972e998d.js";import"./VDataTable-6a9a0ff2.js";import"./VTable-abe61c89.js";import"./filter-114d812b.js";const lt={class:"d-flex justify-start"},ot={__name:"AddTasks",props:{isDrawerOpen:{type:Boolean,required:!0},mode:{type:String,default:"add"},taskData:{type:Object,default:()=>({})}},emits:["update:isDrawerOpen","taskData"],setup(re,{emit:I}){var E;const i=re,M=I,x=$e("userData");ve(async()=>{await Ye(),await fe(),await Ae()});const U=f(),B=f(!1),n=Oe({project_plan_id:"",student_ids:(E=x.value)!=null&&E.admin_student_id?[x.value.admin_student_id]:[],semester:"",name:"",description:"",date:"",status:"",media:"",embed:"",link:"",accepted:0,rate:"",review:"",admin_teacher_id:""});ne(()=>[i.taskData,i.mode],()=>{var m;(i.mode==="edit"||i.mode==="review")&&i.taskData?Object.assign(n,{project_plan_id:i.taskData.project_plan_id||"",student_ids:i.taskData.students.map(r=>r.id),semester:i.taskData.semester||"",name:i.taskData.name||"",description:i.taskData.description||"",date:i.taskData.date||"",status:i.taskData.status||"",media:i.taskData.media||"",embed:i.taskData.embed||"",link:i.taskData.link||"",accepted:i.taskData.accepted||0,rate:i.taskData.rate||"",review:i.taskData.review||"",admin_teacher_id:i.taskData.admin_teacher_id||""}):i.mode==="duplicate"&&i.taskData?Object.assign(n,{project_plan_id:"",admin_student_id:i.taskData.admin_student_id||"",student_ids:i.taskData.students.map(r=>r.id),semester:i.taskData.semester||"",name:"",description:i.taskData.description||"",date:new Date().toLocaleDateString("en-CA"),status:"In Progress",media:i.taskData.media||"Instagram",embed:"",link:"",accepted:0,rate:"",review:"",admin_teacher_id:""}):Object.assign(n,{project_plan_id:"",admin_student_id:((m=x.value)==null?void 0:m.admin_student_id)||"",student_ids:[],semester:"",name:"",description:"",date:new Date().toLocaleDateString("en-CA"),status:"In Progress",media:"Instagram",embed:"",link:"",accepted:0,rate:"",review:"",admin_teacher_id:""})},{immediate:!0}),ne(()=>i.isDrawerOpen,m=>{var r,T;m||((r=U.value)==null||r.reset(),(T=U.value)==null||T.resetValidation())});const S=m=>{M("update:isDrawerOpen",m)},C=()=>{var m,r;(m=U.value)==null||m.reset(),(r=U.value)==null||r.resetValidation()},$=()=>{var m;(m=U.value)==null||m.validate().then(({valid:r})=>{if(i.mode!=="review"&&!r)return;const T={...n};i.mode==="edit"||i.mode==="review"?(T.id=i.taskData.id,M("taskData",{action:"update",data:T})):M("taskData",{action:"create",data:T}),M("update:isDrawerOpen",!1),Me(C)})};return(m,r)=>{const T=ze,y=pe,h=Fe,F=Ne;return k(),w(Re,{"model-value":i.isDrawerOpen,temporary:"",location:"end",width:"370",class:"category-navigation-drawer scrollable-content","onUpdate:modelValue":S},{default:o(()=>[a(T,{title:i.mode==="edit"?"Edit Task":i.mode==="duplicate"?"Duplicate Task":i.mode==="review"?"Review Task":"Add New Task",onCancel:r[0]||(r[0]=d=>m.$emit("update:isDrawerOpen",!1))},null,8,["title"]),a(Y),a(t(Ee),{options:{wheelPropagation:!1}},{default:o(()=>[a(oe,{flat:""},{default:o(()=>[a(se,null,{default:o(()=>[a(t(He),{ref_key:"refVForm",ref:U,modelValue:t(B),"onUpdate:modelValue":r[14]||(r[14]=d=>D(B)?B.value=d:null),onSubmit:je($,["prevent"])},{default:o(()=>[i.mode!=="review"?(k(),w(L,{key:0,class:"g-4"},{default:o(()=>[a(g,{cols:"12"},{default:o(()=>[a(A,{modelValue:t(n).project_plan_id,"onUpdate:modelValue":r[1]||(r[1]=d=>t(n).project_plan_id=d),placeholder:"Select Project Plan",label:"Project Plan",rules:["requiredValidator"in m?m.requiredValidator:t(q)],items:t(Se).filter(d=>d.is_active&&new Date(d.end_date)>=new Date),"item-title":"theme","item-value":"id"},null,8,["modelValue","rules","items"])]),_:1}),a(g,{cols:"12"},{default:o(()=>[a(A,{modelValue:t(n).student_ids,"onUpdate:modelValue":r[2]||(r[2]=d=>t(n).student_ids=d),rules:["requiredValidator"in m?m.requiredValidator:t(q)],items:t(Le),"item-title":"nickname","item-value":"id",placeholder:"Select Creators",label:"Select Creators",chips:"",multiple:"","closable-chips":""},null,8,["modelValue","rules","items"])]),_:1}),a(g,{cols:"12"},{default:o(()=>[a(A,{modelValue:t(n).semester,"onUpdate:modelValue":r[3]||(r[3]=d=>t(n).semester=d),placeholder:"Select Semester",label:"Semester",rules:["requiredValidator"in m?m.requiredValidator:t(q)],items:[1,2,3,4,5,6]},null,8,["modelValue","rules"])]),_:1}),a(g,{cols:"12"},{default:o(()=>[a(y,{modelValue:t(n).name,"onUpdate:modelValue":r[4]||(r[4]=d=>t(n).name=d),label:"Write Title",rules:["requiredValidator"in m?m.requiredValidator:t(q)],placeholder:"Task Title"},null,8,["modelValue","rules"])]),_:1}),a(g,{cols:"12"},{default:o(()=>[a(h,{modelValue:t(n).description,"onUpdate:modelValue":r[5]||(r[5]=d=>t(n).description=d),label:"Description",placeholder:"Write Description","auto-grow":""},null,8,["modelValue"])]),_:1}),a(g,{cols:"12"},{default:o(()=>[a(F,{modelValue:t(n).date,"onUpdate:modelValue":r[6]||(r[6]=d=>t(n).date=d),label:"Date",placeholder:"Select date"},null,8,["modelValue"])]),_:1}),a(g,{cols:"12"},{default:o(()=>[a(A,{modelValue:t(n).status,"onUpdate:modelValue":r[7]||(r[7]=d=>t(n).status=d),rules:["requiredValidator"in m?m.requiredValidator:t(q)],placeholder:"Select Status",label:"Status",items:["In Progress","On Hold","Completed"]},null,8,["modelValue","rules"])]),_:1}),a(g,{cols:"12"},{default:o(()=>[a(A,{modelValue:t(n).media,"onUpdate:modelValue":r[8]||(r[8]=d=>t(n).media=d),rules:["requiredValidator"in m?m.requiredValidator:t(q)],placeholder:"Select Media",label:"Media",items:["Instagram","TikTok","YouTube","Google Drive"]},null,8,["modelValue","rules"])]),_:1}),a(g,{cols:"12"},{default:o(()=>[a(h,{modelValue:t(n).link,"onUpdate:modelValue":r[9]||(r[9]=d=>t(n).link=d),label:"Link",placeholder:"Paste Link","auto-grow":""},null,8,["modelValue"])]),_:1})]),_:1})):(k(),w(L,{key:1},{default:o(()=>[a(g,{cols:"12"},{default:o(()=>[a(A,{modelValue:t(n).admin_teacher_id,"onUpdate:modelValue":r[10]||(r[10]=d=>t(n).admin_teacher_id=d),label:"Mentor",placeholder:"Select Mentor",items:"teachers"in m?m.teachers:t(Ie),"item-title":"nickname","item-value":"id"},null,8,["modelValue","items"])]),_:1}),a(g,{cols:"12"},{default:o(()=>[a(A,{modelValue:t(n).accepted,"onUpdate:modelValue":r[11]||(r[11]=d=>t(n).accepted=d),label:"Accepted",placeholder:"Not Accepted",items:[{text:"Accepted",value:1},{text:"Not Accepted",value:0}],"item-title":"text","item-value":"value"},null,8,["modelValue"])]),_:1}),a(g,{cols:"12",class:"text-center"},{default:o(()=>[a(ke,{modelValue:t(n).rate,"onUpdate:modelValue":r[12]||(r[12]=d=>t(n).rate=d),"half-increments":"",hover:""},null,8,["modelValue"]),a(h,{modelValue:t(n).review,"onUpdate:modelValue":r[13]||(r[13]=d=>t(n).review=d),placeholder:"Write your review...",rows:3},null,8,["modelValue"])]),_:1})]),_:1})),a(L,{class:"mt-4"},{default:o(()=>[a(g,{cols:"12"},{default:o(()=>[v("div",lt,[a(N,{type:"submit",color:"primary",class:"me-4"},{default:o(()=>[b(_(i.mode==="edit"?"Update":"Add"),1)]),_:1}),a(N,{color:"error",variant:"tonal",onClick:C},{default:o(()=>r[15]||(r[15]=[b(" Discard ")])),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}};const st={class:"d-flex flex-column gap-y-1"},rt={class:"text-body-1 font-weight-medium text-capitalize"},it={class:"text-h4 my-1"},nt={class:"d-flex"},dt={class:"me-2 text-disabled text-no-wrap"},ut={class:"d-flex flex-wrap gap-4 mx-5"},mt={class:"d-flex align-center"},ct={class:"d-flex gap-4 flex-wrap align-center"},pt={class:"d-flex align-center gap-x-2"},ft={class:"d-flex flex-column"},vt={class:"text-body-1 font-weight-medium"},kt={class:"text-sm text-disabled"},gt={class:"v-avatar-group me-2"},Vt={class:"text-xs"},_t={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},bt={class:"text-sm text-medium-emphasis mb-0"},yt={__name:"tasks",setup(re){const{hasRole:I,currentUser:i,hasRoleOrTeacher:M}=Ue();ve(async()=>{await fe()});const x=f(!1),U=f(""),B=f("primary"),n=(l,e="primary")=>{U.value=l,B.value=e,x.value=!0,setTimeout(()=>{x.value=!1},1e4)},S=f(!1),C=f("add"),$=f({}),E=l=>{$.value={...l},C.value="edit",S.value=!0},m=l=>{$.value={...l},C.value="review",S.value=!0},r=l=>{$.value=l,C.value="duplicate",S.value=!0},T=z(()=>{const l=z(()=>Ce.value||[]);return[{title:"Instagram",value:l.value.filter(e=>e.media==="Instagram").length,icon:"tabler-brand-instagram",desc:`${l.value.filter(e=>e.media==="Instagram"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media==="Instagram").length,c=l.value.filter(u=>u.media==="Instagram"&&u.accepted=="1").length;return e?(c/e*100).toFixed(1):0})()},{title:"TikTok",value:l.value.filter(e=>e.media=="TikTok").length,icon:"tabler-brand-tiktok",desc:`${l.value.filter(e=>e.media=="TikTok"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media=="TikTok").length,c=l.value.filter(u=>u.media=="TikTok"&&u.accepted=="1").length;return e?(c/e*100).toFixed(1):0})()},{title:"YouTube",value:l.value.filter(e=>e.media==="YouTube").length,icon:"tabler-brand-youtube",desc:`${l.value.filter(e=>e.media==="YouTube"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media==="YouTube").length,c=l.value.filter(u=>u.media==="YouTube"&&u.accepted=="1").length;return e?(c/e*100).toFixed(1):0})()},{title:"Others",value:l.value.filter(e=>e.media!=="Instagram"&&e.media!=="TikTok"&&e.media!=="YouTube").length,icon:"tabler-world",desc:`${l.value.filter(e=>e.media!=="Instagram"&&e.media!=="TikTok"&&e.media!=="YouTube"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media!=="Instagram"&&u.media!=="TikTok"&&u.media!=="YouTube").length,c=l.value.filter(u=>u.media!=="Instagram"&&u.media!=="TikTok"&&u.media!=="YouTube"&&u.accepted=="1").length;return e?(c/e*100).toFixed(1):0})()}]}),y=f(10),h=f(1),F=f(),d=f(),H=f([]),R=f(),G=f(),W=f(),J=f(""),ge=l=>{var e;h.value=l.page,y.value=l.itemsPerPage,(e=l.sortBy)!=null&&e.length?(F.value=l.sortBy[0].key,d.value=l.sortBy[0].order):(F.value=null,d.value=null),O()},O=async()=>{var e;const l={admin_student_id:((e=i.value)==null?void 0:e.admin_student_id)||"",search:J.value||"",status:R.value||"",media:G.value||"",accepted:W.value||"",perPage:y.value,page:h.value,sortBy:F.value||"",orderBy:d.value||""};try{const c=await Pe(l);console.log("📦 FETCHING with:",l,c),H.value=c}catch(c){console.error("Error fetching tasks:",c.message)}},Ve=z(()=>{var l;return((l=H.value)==null?void 0:l.tasks)||[]}),Q=z(()=>{var l;return((l=H.value)==null?void 0:l.totalTasks)||0}),_e=z(()=>{var c,u;const l=((u=(c=H.value)==null?void 0:c.tasks)==null?void 0:u.map(V=>V.media))||[];return[...new Set(l.filter(Boolean))].map(V=>({title:V,value:V}))}),be=f([{title:"Completed",value:"Completed"},{title:"In Progress",value:"In Progress"},{title:"On Hold",value:"On Hold"}]),ye=f([{title:"Accepted",value:"1"},{title:"Unchecked",value:"0"}]),he=[{title:"Task",key:"name"},{title:"Creators",key:"students",sortable:!1},{title:"Stars",key:"rate"},{title:"SMT",key:"semester"},{title:"ID",key:"id"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],ie=l=>l=="Instagram"?{color:"primary",icon:"tabler-brand-instagram"}:l=="TikTok"?{color:"info",icon:"tabler-brand-tiktok"}:l=="YouTube"?{color:"error",icon:"tabler-brand-youtube"}:l=="Google Drive"?{color:"warning",icon:"tabler-brand-google"}:{color:"primary",icon:"tabler-world"},we=l=>{if(l==="Completed")return{text:"Completed",color:"primary"};if(l==="In Progress")return{text:"In Progress",color:"warning"};if(l==="On Hold")return{text:"On Hold",color:"error"}},Te=async({action:l,data:e})=>{var u;const c={...e,accepted:e.accepted===""?"0":!!Number(e.accepted),rate:e.rate===""?0:Number(e.rate),admin_teacher_id:e.admin_teacher_id===""?null:Number(e.admin_teacher_id)};console.log("Sending taskData:",c,"action:",l);try{let V="/tasks",s="POST";l==="update"&&e.id&&(V=`/tasks/${e.id}`,s="PUT");const{data:p,response:P}=await ue(V,{method:s,body:JSON.stringify(c),headers:{"Content-Type":"application/json",Accept:"application/json"}});P.value.ok?(n(l==="create"?"Data berhasil ditambahkan":"Data berhasil diperbarui","success"),console.log("Task response:",p),O()):n(P.value.statusText||"Gagal menyimpan data","error")}catch(V){console.error("Task save error:",((u=V==null?void 0:V.data)==null?void 0:u.errors)||V),n(V.message||"Gagal menyimpan data","error")}},De=async l=>{try{confirm("Apakah kamu yakin ingin menghapus data ini?")&&(console.log("Deleting task with ID:",l),await ue(`/tasks/${l}`,{method:"DELETE"}),n("Data berhasil dihapus","success"),O())}catch(e){n(e.message||"Gagal menghapus data","error"),console.error(e)}};function ee(l){const e=l.reduce((c,u)=>(c.has(u.id)||c.set(u.id,u),c),new Map);return Array.from(e.values())}return(l,e)=>{const c=A,u=pe,V=Be("IconBtn");return k(),X("div",null,[a(oe,{class:"mb-6"},{default:o(()=>[a(se,null,{default:o(()=>[a(L,null,{default:o(()=>[(k(!0),X(te,null,de(t(T),(s,p)=>(k(),X(te,{key:p},[a(g,{cols:"12",sm:"6",md:"3",class:"px-6"},{default:o(()=>[v("div",{class:qe(["d-flex justify-space-between",l.$vuetify.display.xs||l.$vuetify.display.sm&&p<2?"product-widget":""])},[v("div",st,[v("div",rt,_(s.title),1),v("h4",it,_(s.value),1),v("div",nt,[v("div",dt,_(s.desc),1),s.change?(k(),w(me,{key:0,label:"",color:s.change==100?"success":"error"},{default:o(()=>[b(_(("prefixWithPlus"in l?l.prefixWithPlus:t(xe))(s.change))+"% ",1)]),_:2},1032,["color"])):j("",!0)])]),a(Z,{variant:"tonal",rounded:"",size:"38"},{default:o(()=>[a(K,{icon:s.icon,size:"28"},null,8,["icon"])]),_:2},1024)],2)]),_:2},1024),(l.$vuetify.display.mdAndUp?p!==t(T).length-1:l.$vuetify.display.smAndUp&&p%2===0)?(k(),w(Y,{key:0,vertical:"",inset:"",length:"95"})):j("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),a(Qe,{modelValue:t(x),"onUpdate:modelValue":e[0]||(e[0]=s=>D(x)?x.value=s:null),closable:"","close-label":"Close Alert",class:"mb-6",color:t(B)},{default:o(()=>[b(_(t(U)),1)]),_:1},8,["modelValue","color"]),a(oe,{title:"Filters",class:"mb-6"},{default:o(()=>[a(se,null,{default:o(()=>[a(L,null,{default:o(()=>[a(g,{cols:"12",sm:"4"},{default:o(()=>[a(c,{modelValue:t(R),"onUpdate:modelValue":[e[1]||(e[1]=s=>D(R)?R.value=s:null),O],placeholder:"Status",items:t(be),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),a(g,{cols:"12",sm:"4"},{default:o(()=>[a(c,{modelValue:t(G),"onUpdate:modelValue":[e[2]||(e[2]=s=>D(G)?G.value=s:null),O],placeholder:"Media",items:t(_e),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),a(g,{cols:"12",sm:"4"},{default:o(()=>[a(c,{modelValue:t(W),"onUpdate:modelValue":[e[3]||(e[3]=s=>D(W)?W.value=s:null),O],placeholder:"Checked",items:t(ye),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),a(Y,{class:"my-4"}),v("div",ut,[v("div",mt,[a(u,{modelValue:t(J),"onUpdate:modelValue":e[4]||(e[4]=s=>D(J)?J.value=s:null),placeholder:"Search Tasks",density:"compact",style:{"inline-size":"200px"},class:"me-3",onInput:O},null,8,["modelValue"])]),a(Xe),v("div",ct,[a(c,{modelValue:t(y),"onUpdate:modelValue":e[5]||(e[5]=s=>D(y)?y.value=s:null),items:[5,10,20,25,50]},null,8,["modelValue"]),a(N,{variant:"tonal",color:"secondary","prepend-icon":"tabler-upload"},{default:o(()=>e[11]||(e[11]=[b(" Export ")])),_:1}),t(I)(2).value?(k(),w(N,{key:0,color:"primary","prepend-icon":"tabler-plus",onClick:e[6]||(e[6]=()=>{C.value="add",$.value={},S.value=!0})},{default:o(()=>e[12]||(e[12]=[b(" Add New Task ")])),_:1})):j("",!0)])]),a(Y,{class:"mt-4"}),a(t(Ke),{"items-per-page":t(y),"onUpdate:itemsPerPage":e[8]||(e[8]=s=>D(y)?y.value=s:null),page:t(h),"onUpdate:page":e[9]||(e[9]=s=>D(h)?h.value=s:null),headers:he,"show-select":"",items:t(Ve),"items-length":t(Q),class:"text-no-wrap","onUpdate:options":ge},{"item.name":o(({item:s})=>{var p;return[v("div",pt,[a(Z,{size:"30",variant:"tonal",color:(p=ie(s.media))==null?void 0:p.color,class:"me-2",rounded:""},{default:o(()=>{var P;return[a(K,{icon:(P=ie(s.media))==null?void 0:P.icon,size:"18"},null,8,["icon"])]}),_:2},1032,["color"]),v("div",ft,[v("span",vt,_(s.name.substring(0,30)),1),v("span",kt,_(s.project_plan.theme)+" @ "+_(s.media),1)])])]}),"item.students":o(({item:s})=>[v("div",gt,[(k(!0),X(te,null,de(ee(s.students).slice(0,3),p=>(k(),w(Z,{key:p.id,color:"info",size:"32"},{default:o(()=>[p.image?(k(),w(ce,{key:0,cover:"",src:`/storage/${p.image}`},null,8,["src"])):(k(),w(ce,{key:1,src:t(We)},null,8,["src"])),a(Ze,{location:"top",activator:"parent"},{default:o(()=>[b(_(p.nickname),1)]),_:2},1024)]),_:2},1024))),128)),ee(s.students).length>3?(k(),w(Z,{key:0,color:"secondary",size:"32"},{default:o(()=>[v("span",Vt,"+"+_(ee(s.students).length-3),1)]),_:2},1024)):j("",!0)])]),"item.rate":o(({item:s})=>[a(ke,{modelValue:s.rate,"onUpdate:modelValue":p=>s.rate=p,size:"x-small",density:"compact","half-increments":"",color:s.rate==0?"secondary":"warning",readonly:""},null,8,["modelValue","onUpdate:modelValue","color"])]),"item.semester":o(({item:s})=>[b(_(s.semester),1)]),"item.id":o(({item:s})=>[b(_(s.id),1)]),"item.status":o(({item:s})=>[a(me,ae(we(s.status),{density:"default",label:""}),null,16)]),"item.actions":o(({item:s})=>[a(V,{disabled:!t(I)(2).value,color:t(I)(2).value?"primary":"secondary",onClick:p=>E(s)},{default:o(()=>[a(K,{icon:"tabler-edit"})]),_:2},1032,["disabled","color","onClick"]),a(V,null,{default:o(()=>[a(K,{icon:"tabler-dots-vertical"}),a(et,{activator:"parent"},{default:o(()=>[a(tt,null,{default:o(()=>{var p;return[t(M)(4,((p=t(i).value)==null?void 0:p.admin_teacher_id)??"X").value?(k(),w(le,{key:0,value:"review","prepend-icon":"tabler-circle-check",onClick:P=>m(s)},{default:o(()=>e[13]||(e[13]=[b(" Review ")])),_:2},1032,["onClick"])):j("",!0),t(I)(4).value?(k(),w(le,{key:1,value:"delete","prepend-icon":"tabler-trash",onClick:P=>De(s.id)},{default:o(()=>e[14]||(e[14]=[b(" Delete ")])),_:2},1032,["onClick"])):j("",!0),t(I)(2).value?(k(),w(le,{key:2,value:"duplicate","prepend-icon":"tabler-copy",onClick:P=>r(s)},{default:o(()=>e[15]||(e[15]=[b(" Duplicate ")])),_:2},1032,["onClick"])):j("",!0)]}),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:o(()=>[a(Y),v("div",_t,[v("p",bt,_(t(Ge)({page:t(h),itemsPerPage:t(y)},t(Q))),1),a(at,{modelValue:t(h),"onUpdate:modelValue":e[7]||(e[7]=s=>D(h)?h.value=s:null),length:Math.min(Math.ceil(t(Q)/t(y)),5),"total-visible":l.$vuetify.display.xs?1:Math.min(Math.ceil(t(Q)/t(y)),5)},{prev:o(s=>[a(N,ae({variant:"tonal",color:"default"},s,{icon:!1}),{default:o(()=>e[16]||(e[16]=[b(" Previous ")])),_:2},1040)]),next:o(s=>[a(N,ae({variant:"tonal",color:"default"},s,{icon:!1}),{default:o(()=>e[17]||(e[17]=[b(" Next ")])),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),a(ot,{"is-drawer-open":t(S),"onUpdate:isDrawerOpen":e[10]||(e[10]=s=>D(S)?S.value=s:null),mode:t(C),"task-data":t($),onTaskData:Te},null,8,["is-drawer-open","mode","task-data"])])}}},ha=Je(yt,[["__scopeId","data-v-62460582"]]);export{ha as default};
