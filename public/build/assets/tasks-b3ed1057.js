import{p as he}from"./formatters-9f0d6445.js";import{_ as de}from"./AppTextField-83dbabc7.js";import{_ as S}from"./AppSelect-ed6cd4b7.js";import{f as ue,p as we,a as De,b as xe}from"./fetchProjectData-4de0f27d.js";import{r as j}from"./validators-32f2909a.js";import{f as Se,t as Ue}from"./fetchTeacherData-c5b598aa.js";import{a0 as me,H as pe,r as c,bm as Pe,w as se,o as D,f as I,e as o,b as a,n as t,aV as w,a$ as Ce,d as v,aj as M,v as b,x as _,aZ as $e,_ as Ae,a6 as q,a as Ie,c as Z,F as re,i as Oe,z as W,a1 as R,y as je,s as K}from"./main-3e75270a.js";import{_ as Me}from"./AppDateTimePicker-48cc4b54.js";import{_ as Be}from"./AppTextarea-fe657859.js";import{_ as qe}from"./AppDrawerHeaderSection-7a5ac0d1.js";import{f as Ne,s as Fe}from"./fetchStudentData-18ba4fa3.js";import{P as ze}from"./vue3-perfect-scrollbar.esm-f08b44c0.js";import{V as N}from"./VDivider-fe6e0e03.js";import{V as ae}from"./VCard-ae6aa82a.js";import{V as te}from"./VCardText-784ef706.js";import{V as Ye}from"./VForm-6153e7ab.js";import{V as F,a as V}from"./VRow-279ce7f3.js";import{V as ce}from"./VRating-acd89c37.js";import{V as Ee}from"./VNavigationDrawer-23ebcf1d.js";import{p as He}from"./paginationMeta-4ad053a4.js";import{u as ie}from"./useApi-e49bb4b3.js";import{V as Le}from"./VAlert-fb1907c4.js";import{V as ne}from"./VChip-8aa9424f.js";import{V as X}from"./VAvatar-6442f344.js";import{V as Ge}from"./VSpacer-1e53768b.js";import{V as We}from"./VDataTableServer-2165d987.js";import{V as Re}from"./VImg-d48c399c.js";import{V as Je}from"./VMenu-8f8d9013.js";import{V as Qe,a as ee}from"./VList-021e7d82.js";import{V as Ze}from"./VPagination-b53a2f8c.js";import"./helpers-0d858970.js";import"./no-profile-4221a4a6.js";import"./form-8fcd98db.js";import"./VTextField-0541cff2.js";/* empty css                   */import"./VCounter-1d8f08d6.js";import"./VField-63465900.js";import"./easing-9f15041e.js";import"./VInput-6cf94696.js";import"./forwardRefs-8348545e.js";import"./VSelect-6618e2c9.js";import"./dialog-transition-76c1b16c.js";import"./VOverlay-86f5f384.js";import"./lazy-d118c49f.js";import"./scopeId-6361b14e.js";import"./VCheckboxBtn-5669f4d3.js";import"./VSelectionControl-63626414.js";import"./ssrBoot-451ddb83.js";import"./VDataTable-b286073f.js";import"./VTable-1eac49f8.js";import"./filter-112fe26d.js";const Ke={class:"d-flex justify-start"},Xe={__name:"AddTasks",props:{isDrawerOpen:{type:Boolean,required:!0},mode:{type:String,default:"add"},taskData:{type:Object,default:()=>({})}},emits:["update:isDrawerOpen","taskData"],setup(le,{emit:U}){const i=le,P=U,O=me("userData").value;pe(async()=>{await Ne(),await ue(),await Se()});const y=c(),T=c(!1),n=Pe({project_plan_id:"",admin_student_id:O.admin_student_id||"",semester:"",name:"",description:"",date:"",status:"",media:"",embed:"",link:"",accepted:"",rate:"",review:"",admin_teacher_id:""});se(()=>[i.taskData,i.mode],()=>{(i.mode==="edit"||i.mode==="duplicate"||i.mode==="review")&&i.taskData?Object.assign(n,{project_plan_id:i.taskData.project_plan_id||"",admin_student_id:i.taskData.admin_student_id||"",semester:i.taskData.semester||"",name:i.taskData.name||"",description:i.taskData.description||"",date:i.taskData.date||"",status:i.taskData.status||"",media:i.taskData.media||"",embed:i.taskData.embed||"",link:i.taskData.link||"",accepted:i.taskData.accepted||"",rate:i.taskData.rate||"",review:i.taskData.review||"",admin_teacher_id:i.taskData.admin_teacher_id||""}):Object.assign(n,{project_plan_id:"",admin_student_id:O.admin_student_id||"",semester:"",name:"",description:"",date:"",status:"",media:"",embed:"",link:"",accepted:"",rate:"",review:"",admin_teacher_id:""})},{immediate:!0}),se(()=>i.isDrawerOpen,m=>{var r,p;m||((r=y.value)==null||r.reset(),(p=y.value)==null||p.resetValidation())});const C=m=>{P("update:isDrawerOpen",m)},z=()=>{var m,r;(m=y.value)==null||m.reset(),(r=y.value)==null||r.resetValidation()},J=()=>{var m;(m=y.value)==null||m.validate().then(({valid:r})=>{if(i.mode!=="review"&&!r)return;const p={...n};i.mode==="edit"||i.mode==="review"?(p.id=i.taskData.id,P("taskData",{action:"update",data:p})):P("taskData",{action:"create",data:p}),P("update:isDrawerOpen",!1),$e(z)})};return(m,r)=>{const p=qe,h=de,$=Be,B=Me;return D(),I(Ee,{"model-value":i.isDrawerOpen,temporary:"",location:"end",width:"370",class:"category-navigation-drawer scrollable-content","onUpdate:modelValue":C},{default:o(()=>[a(p,{title:i.mode==="edit"?"Edit Task":i.mode==="duplicate"?"Duplicate Task":i.mode==="review"?"Review Task":"Add New Task",onCancel:r[0]||(r[0]=d=>m.$emit("update:isDrawerOpen",!1))},null,8,["title"]),a(N),a(t(ze),{options:{wheelPropagation:!1}},{default:o(()=>[a(ae,{flat:""},{default:o(()=>[a(te,null,{default:o(()=>[a(t(Ye),{ref_key:"refVForm",ref:y,modelValue:t(T),"onUpdate:modelValue":r[14]||(r[14]=d=>w(T)?T.value=d:null),onSubmit:Ce(J,["prevent"])},{default:o(()=>[i.mode!=="review"?(D(),I(F,{key:0,class:"g-4"},{default:o(()=>[a(V,{cols:"12"},{default:o(()=>[a(S,{modelValue:t(n).project_plan_id,"onUpdate:modelValue":r[1]||(r[1]=d=>t(n).project_plan_id=d),placeholder:"Select Project Plan",label:"Project Plan",rules:["requiredValidator"in m?m.requiredValidator:t(j)],items:t(we),"item-title":"theme","item-value":"id"},null,8,["modelValue","rules","items"])]),_:1}),a(V,{cols:"12"},{default:o(()=>[a(S,{modelValue:t(n).admin_student_id,"onUpdate:modelValue":r[2]||(r[2]=d=>t(n).admin_student_id=d),placeholder:"Select Student",label:"Student",rules:["requiredValidator"in m?m.requiredValidator:t(j)],items:t(Fe),"item-title":"name","item-value":"id",readonly:t(O).admin_student_id},null,8,["modelValue","rules","items","readonly"])]),_:1}),a(V,{cols:"12"},{default:o(()=>[a(S,{modelValue:t(n).semester,"onUpdate:modelValue":r[3]||(r[3]=d=>t(n).semester=d),placeholder:"Select Semester",label:"Semester",rules:["requiredValidator"in m?m.requiredValidator:t(j)],items:[1,2,3,4,5,6]},null,8,["modelValue","rules"])]),_:1}),a(V,{cols:"12"},{default:o(()=>[a(h,{modelValue:t(n).name,"onUpdate:modelValue":r[4]||(r[4]=d=>t(n).name=d),label:"Write Title",rules:["requiredValidator"in m?m.requiredValidator:t(j)],placeholder:"Task Title"},null,8,["modelValue","rules"])]),_:1}),a(V,{cols:"12"},{default:o(()=>[a($,{modelValue:t(n).description,"onUpdate:modelValue":r[5]||(r[5]=d=>t(n).description=d),label:"Description",placeholder:"Write Description","auto-grow":""},null,8,["modelValue"])]),_:1}),a(V,{cols:"12"},{default:o(()=>[a(B,{modelValue:t(n).date,"onUpdate:modelValue":r[6]||(r[6]=d=>t(n).date=d),label:"Date",placeholder:"Select date"},null,8,["modelValue"])]),_:1}),a(V,{cols:"12"},{default:o(()=>[a(S,{modelValue:t(n).status,"onUpdate:modelValue":r[7]||(r[7]=d=>t(n).status=d),rules:["requiredValidator"in m?m.requiredValidator:t(j)],placeholder:"Select Status",label:"Status",items:["In Progress","On Hold","Completed"]},null,8,["modelValue","rules"])]),_:1}),a(V,{cols:"12"},{default:o(()=>[a(S,{modelValue:t(n).media,"onUpdate:modelValue":r[8]||(r[8]=d=>t(n).media=d),rules:["requiredValidator"in m?m.requiredValidator:t(j)],placeholder:"Select Media",label:"Media",items:["Instagram","TikTok","YouTube","Google Drive"]},null,8,["modelValue","rules"])]),_:1}),a(V,{cols:"12"},{default:o(()=>[a($,{modelValue:t(n).link,"onUpdate:modelValue":r[9]||(r[9]=d=>t(n).link=d),label:"Link",placeholder:"Paste Link","auto-grow":""},null,8,["modelValue"])]),_:1})]),_:1})):(D(),I(F,{key:1},{default:o(()=>[a(V,{cols:"12"},{default:o(()=>[a(S,{modelValue:t(n).admin_teacher_id,"onUpdate:modelValue":r[10]||(r[10]=d=>t(n).admin_teacher_id=d),label:"Mentor",placeholder:"Select Mentor",items:"teachers"in m?m.teachers:t(Ue),"item-title":"nickname","item-value":"id"},null,8,["modelValue","items"])]),_:1}),a(V,{cols:"12"},{default:o(()=>[a(S,{modelValue:t(n).accepted,"onUpdate:modelValue":r[11]||(r[11]=d=>t(n).accepted=d),label:"Accepted",placeholder:"Not Accepted",items:[{text:"Accepted",value:1},{text:"Not Accepted",value:0}],"item-title":"text","item-value":"value"},null,8,["modelValue"])]),_:1}),a(V,{cols:"12",class:"text-center"},{default:o(()=>[a(ce,{modelValue:t(n).rate,"onUpdate:modelValue":r[12]||(r[12]=d=>t(n).rate=d),"half-increments":"",hover:""},null,8,["modelValue"]),a($,{modelValue:t(n).review,"onUpdate:modelValue":r[13]||(r[13]=d=>t(n).review=d),placeholder:"Write your review...",rows:3},null,8,["modelValue"])]),_:1})]),_:1})),a(F,{class:"mt-4"},{default:o(()=>[a(V,{cols:"12"},{default:o(()=>[v("div",Ke,[a(M,{type:"submit",color:"primary",class:"me-4"},{default:o(()=>[b(_(i.mode==="edit"?"Update":"Add"),1)]),_:1}),a(M,{color:"error",variant:"tonal",onClick:z},{default:o(()=>r[15]||(r[15]=[b(" Discard ")])),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}};const ea={class:"d-flex flex-column gap-y-1"},aa={class:"text-body-1 font-weight-medium text-capitalize"},ta={class:"text-h4 my-1"},la={class:"d-flex"},oa={class:"me-2 text-disabled text-no-wrap"},sa={class:"d-flex flex-wrap gap-4 mx-5"},ra={class:"d-flex align-center"},ia={class:"d-flex gap-4 flex-wrap align-center"},na={class:"d-flex align-center gap-x-2"},da={class:"d-flex flex-column"},ua={class:"text-body-1 font-weight-medium"},ma={class:"text-sm text-disabled"},pa={class:"text-body-1 font-weight-medium"},ca={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},fa={class:"text-sm text-medium-emphasis mb-0"},va={__name:"tasks",setup(le){const U=me("userData").value;pe(async()=>{await ue()});const i=c(!1),P=c(""),O=c("primary"),y=(l,e="primary")=>{P.value=l,O.value=e,i.value=!0,setTimeout(()=>{i.value=!1},1e4)},T=c(!1),n=c("add"),C=c({}),z=l=>{C.value={...l},n.value="edit",T.value=!0},J=l=>{C.value={...l},n.value="review",T.value=!0},m=l=>{C.value=l,n.value="duplicate",T.value=!0},r=q(()=>{const l=q(()=>De.value||[]);return[{title:"Instagram",value:l.value.filter(e=>e.media==="Instagram").length,icon:"tabler-brand-instagram",desc:`${l.value.filter(e=>e.media==="Instagram"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media==="Instagram").length,f=l.value.filter(u=>u.media==="Instagram"&&u.accepted=="1").length;return e?(f/e*100).toFixed(1):0})()},{title:"TikTok",value:l.value.filter(e=>e.media=="TikTok").length,icon:"tabler-brand-tiktok",desc:`${l.value.filter(e=>e.media=="TikTok"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media=="TikTok").length,f=l.value.filter(u=>u.media=="TikTok"&&u.accepted=="1").length;return e?(f/e*100).toFixed(1):0})()},{title:"YouTube",value:l.value.filter(e=>e.media==="YouTube").length,icon:"tabler-brand-youtube",desc:`${l.value.filter(e=>e.media==="YouTube"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media==="YouTube").length,f=l.value.filter(u=>u.media==="YouTube"&&u.accepted=="1").length;return e?(f/e*100).toFixed(1):0})()},{title:"Others",value:l.value.filter(e=>e.media!=="Instagram"&&e.media!=="TikTok"&&e.media!=="YouTube").length,icon:"tabler-world",desc:`${l.value.filter(e=>e.media!=="Instagram"&&e.media!=="TikTok"&&e.media!=="YouTube"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media!=="Instagram"&&u.media!=="TikTok"&&u.media!=="YouTube").length,f=l.value.filter(u=>u.media!=="Instagram"&&u.media!=="TikTok"&&u.media!=="YouTube"&&u.accepted=="1").length;return e?(f/e*100).toFixed(1):0})()}]}),p=c(10),h=c(1),$=c(),B=c(),d=c([]),Y=c(),E=c(),H=c(),L=c(""),fe=l=>{var e;h.value=l.page,p.value=l.itemsPerPage,(e=l.sortBy)!=null&&e.length?($.value=l.sortBy[0].key,B.value=l.sortBy[0].order):($.value=null,B.value=null),A()},A=async()=>{const l={admin_student_id:(U==null?void 0:U.admin_student_id)||"",search:L.value||"",status:Y.value||"",media:E.value||"",accepted:H.value||"",perPage:p.value,page:h.value,sortBy:$.value||"",orderBy:B.value||""};try{const e=await xe(l);console.log("ðŸ“¦ FETCHING with:",l,e),d.value=e}catch(e){console.error("Error fetching tasks:",e.message)}},ve=q(()=>{var l;return((l=d.value)==null?void 0:l.tasks)||[]}),G=q(()=>{var l;return((l=d.value)==null?void 0:l.totalTasks)||0}),Ve=q(()=>{var f,u;const l=((u=(f=d.value)==null?void 0:f.tasks)==null?void 0:u.map(k=>k.media))||[];return[...new Set(l.filter(Boolean))].map(k=>({title:k,value:k}))}),ke=c([{title:"Completed",value:"Completed"},{title:"In Progress",value:"In Progress"},{title:"On Hold",value:"On Hold"}]),ge=c([{title:"Accepted",value:"1"},{title:"Unchecked",value:"0"}]),_e=[{title:"Task",key:"name"},{title:"Media",key:"media"},{title:"Stars",key:"rate"},{title:"SMT",key:"semester"},{title:"ID",key:"id"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],oe=l=>l=="Instagram"?{color:"primary",icon:"tabler-brand-instagram"}:l=="TikTok"?{color:"info",icon:"tabler-brand-tiktok"}:l=="YouTube"?{color:"error",icon:"tabler-brand-youtube"}:l=="Google Drive"?{color:"warning",icon:"tabler-brand-google"}:{color:"primary",icon:"tabler-world"},be=l=>{if(l==="Completed")return{text:"Completed",color:"primary"};if(l==="In Progress")return{text:"In Progress",color:"warning"};if(l==="On Hold")return{text:"On Hold",color:"error"}},ye=async({action:l,data:e})=>{var u;const f={...e,accepted:e.accepted===""?"0":!!Number(e.accepted),rate:e.rate===""?0:Number(e.rate),admin_teacher_id:e.admin_teacher_id===""?null:Number(e.admin_teacher_id)};console.log("Sending taskData:",f,"action:",l);try{let k="/tasks",s="POST";l==="update"&&e.id&&(k=`/tasks/${e.id}`,s="PUT");const{data:g,response:x}=await ie(k,{method:s,body:JSON.stringify(f),headers:{"Content-Type":"application/json",Accept:"application/json"}});x.value.ok?(y(l==="create"?"Data berhasil ditambahkan":"Data berhasil diperbarui","success"),console.log("Task response:",g),A()):y(x.value.statusText||"Gagal menyimpan data","error")}catch(k){console.error("Task save error:",((u=k==null?void 0:k.data)==null?void 0:u.errors)||k),y(k.message||"Gagal menyimpan data","error")}},Te=async l=>{try{confirm("Apakah kamu yakin ingin menghapus data ini?")&&(console.log("Deleting task with ID:",l),await ie(`/tasks/${l}`,{method:"DELETE"}),y("Data berhasil dihapus","success"),A())}catch(e){y(e.message||"Gagal menghapus data","error"),console.error(e)}};return(l,e)=>{const f=S,u=de,k=Ie("IconBtn");return D(),Z("div",null,[a(ae,{class:"mb-6"},{default:o(()=>[a(te,null,{default:o(()=>[a(F,null,{default:o(()=>[(D(!0),Z(re,null,Oe(t(r),(s,g)=>(D(),Z(re,{key:g},[a(V,{cols:"12",sm:"6",md:"3",class:"px-6"},{default:o(()=>[v("div",{class:je(["d-flex justify-space-between",l.$vuetify.display.xs||l.$vuetify.display.sm&&g<2?"product-widget":""])},[v("div",ea,[v("div",aa,_(s.title),1),v("h4",ta,_(s.value),1),v("div",la,[v("div",oa,_(s.desc),1),s.change?(D(),I(ne,{key:0,label:"",color:s.change==100?"success":"error"},{default:o(()=>[b(_(("prefixWithPlus"in l?l.prefixWithPlus:t(he))(s.change))+"% ",1)]),_:2},1032,["color"])):W("",!0)])]),a(X,{variant:"tonal",rounded:"",size:"38"},{default:o(()=>[a(R,{icon:s.icon,size:"28"},null,8,["icon"])]),_:2},1024)],2)]),_:2},1024),(l.$vuetify.display.mdAndUp?g!==t(r).length-1:l.$vuetify.display.smAndUp&&g%2===0)?(D(),I(N,{key:0,vertical:"",inset:"",length:"95"})):W("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),a(Le,{modelValue:t(i),"onUpdate:modelValue":e[0]||(e[0]=s=>w(i)?i.value=s:null),closable:"","close-label":"Close Alert",class:"mb-6",color:t(O)},{default:o(()=>[b(_(t(P)),1)]),_:1},8,["modelValue","color"]),a(ae,{title:"Filters",class:"mb-6"},{default:o(()=>[a(te,null,{default:o(()=>[a(F,null,{default:o(()=>[a(V,{cols:"12",sm:"4"},{default:o(()=>[a(f,{modelValue:t(Y),"onUpdate:modelValue":[e[1]||(e[1]=s=>w(Y)?Y.value=s:null),A],placeholder:"Status",items:t(ke),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),a(V,{cols:"12",sm:"4"},{default:o(()=>[a(f,{modelValue:t(E),"onUpdate:modelValue":[e[2]||(e[2]=s=>w(E)?E.value=s:null),A],placeholder:"Media",items:t(Ve),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),a(V,{cols:"12",sm:"4"},{default:o(()=>[a(f,{modelValue:t(H),"onUpdate:modelValue":[e[3]||(e[3]=s=>w(H)?H.value=s:null),A],placeholder:"Checked",items:t(ge),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),a(N,{class:"my-4"}),v("div",sa,[v("div",ra,[a(u,{modelValue:t(L),"onUpdate:modelValue":e[4]||(e[4]=s=>w(L)?L.value=s:null),placeholder:"Search Tasks",density:"compact",style:{"inline-size":"200px"},class:"me-3",onInput:A},null,8,["modelValue"])]),a(Ge),v("div",ia,[a(f,{modelValue:t(p),"onUpdate:modelValue":e[5]||(e[5]=s=>w(p)?p.value=s:null),items:[5,10,20,25,50]},null,8,["modelValue"]),a(M,{variant:"tonal",color:"secondary","prepend-icon":"tabler-upload"},{default:o(()=>e[11]||(e[11]=[b(" Export ")])),_:1}),a(M,{color:"primary","prepend-icon":"tabler-plus",onClick:e[6]||(e[6]=()=>{n.value="add",C.value={},T.value=!0})},{default:o(()=>e[12]||(e[12]=[b(" Add New Task ")])),_:1})])]),a(N,{class:"mt-4"}),a(t(We),{"items-per-page":t(p),"onUpdate:itemsPerPage":e[8]||(e[8]=s=>w(p)?p.value=s:null),page:t(h),"onUpdate:page":e[9]||(e[9]=s=>w(h)?h.value=s:null),headers:_e,"show-select":"",items:t(ve),"items-length":t(G),class:"text-no-wrap","onUpdate:options":fe},{"item.name":o(({item:s})=>[v("div",na,[a(X,{size:"38",variant:"tonal",rounded:""},{default:o(()=>[a(Re,{src:`/images/plans/${s.project_plan.subject}.png`},null,8,["src"])]),_:2},1024),v("div",da,[v("span",ua,_(s.name.substring(0,30)),1),v("span",ma,_(s.project_plan.theme)+" by "+_(s.admin_student.nickname),1)])])]),"item.media":o(({item:s})=>{var g;return[a(X,{size:"30",variant:"tonal",color:(g=oe(s.media))==null?void 0:g.color,class:"me-2"},{default:o(()=>{var x;return[a(R,{icon:(x=oe(s.media))==null?void 0:x.icon,size:"18"},null,8,["icon"])]}),_:2},1032,["color"]),v("span",pa,_(s.media),1)]}),"item.rate":o(({item:s})=>[a(ce,{modelValue:s.rate,"onUpdate:modelValue":g=>s.rate=g,size:"x-small",density:"compact","half-increments":"",color:s.rate==0?"secondary":"warning",readonly:""},null,8,["modelValue","onUpdate:modelValue","color"])]),"item.semester":o(({item:s})=>[b(_(s.semester),1)]),"item.id":o(({item:s})=>[b(_(s.id),1)]),"item.status":o(({item:s})=>[a(ne,K(be(s.status),{density:"default",label:""}),null,16)]),"item.actions":o(({item:s})=>[a(k,null,{default:o(()=>[a(R,{icon:"tabler-edit",onClick:g=>z(s)},null,8,["onClick"])]),_:2},1024),a(k,null,{default:o(()=>[a(R,{icon:"tabler-dots-vertical"}),a(Je,{activator:"parent"},{default:o(()=>[a(Qe,null,{default:o(()=>{var g,x;return[((g=t(U))==null?void 0:g.admin_teacher_id)>1?(D(),I(ee,{key:0,value:"download","prepend-icon":"tabler-circle-check",onClick:Q=>J(s)},{default:o(()=>e[13]||(e[13]=[b(" Review ")])),_:2},1032,["onClick"])):W("",!0),((x=t(U))==null?void 0:x.role)>=4?(D(),I(ee,{key:1,value:"delete","prepend-icon":"tabler-trash",onClick:Q=>Te(s.id)},{default:o(()=>e[14]||(e[14]=[b(" Delete ")])),_:2},1032,["onClick"])):W("",!0),a(ee,{value:"duplicate","prepend-icon":"tabler-copy",onClick:Q=>m(s)},{default:o(()=>e[15]||(e[15]=[b(" Duplicate ")])),_:2},1032,["onClick"])]}),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:o(()=>[a(N),v("div",ca,[v("p",fa,_(t(He)({page:t(h),itemsPerPage:t(p)},t(G))),1),a(Ze,{modelValue:t(h),"onUpdate:modelValue":e[7]||(e[7]=s=>w(h)?h.value=s:null),length:Math.min(Math.ceil(t(G)/t(p)),5),"total-visible":l.$vuetify.display.xs?1:Math.min(Math.ceil(t(G)/t(p)),5)},{prev:o(s=>[a(M,K({variant:"tonal",color:"default"},s,{icon:!1}),{default:o(()=>e[16]||(e[16]=[b(" Previous ")])),_:2},1040)]),next:o(s=>[a(M,K({variant:"tonal",color:"default"},s,{icon:!1}),{default:o(()=>e[17]||(e[17]=[b(" Next ")])),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),a(Xe,{"is-drawer-open":t(T),"onUpdate:isDrawerOpen":e[10]||(e[10]=s=>w(T)?T.value=s:null),mode:t(n),"task-data":t(C),onTaskData:ye},null,8,["is-drawer-open","mode","task-data"])])}}},ct=Ae(va,[["__scopeId","data-v-2b5dfcb1"]]);export{ct as default};
