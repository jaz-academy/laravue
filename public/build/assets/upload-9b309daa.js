import{a as x}from"./formatters-8cae111f.js";import{u as w,f as A,d as B}from"./fetchProjectData-b826f239.js";import{N as H,F as D}from"./front-page-navbar-6e33f89c.js";import{_ as E}from"./PostingCard-f1e288ad.js";import{r as i,H as M,d7 as z,f9 as P,a as U,o,c as n,b as a,d as $,e as r,F as f,i as T,f as p,x as c,n as q,v,z as O}from"./main-4585feec.js";import{a as N,V as R}from"./VRow-53fd1544.js";import{V as W}from"./VCard-a267c840.js";import{V as Y,b as G,c as J,a as K}from"./VList-4b4f9347.js";import{V as Q}from"./VAvatar-fa9fec94.js";import{V as X}from"./VImg-02cfc59c.js";import{V as Z}from"./VDivider-e2924383.js";import"./helpers-c88007fe.js";import"./no-profile-4221a4a6.js";import"./useApi-c1588dfc.js";import"./AppTextField-b5461782.js";import"./form-075a7c7b.js";import"./VTextField-d2aea9dd.js";/* empty css                   */import"./VCounter-2f9e53e6.js";import"./VField-3decac3d.js";import"./easing-9f15041e.js";import"./VInput-3fb3d6fe.js";import"./forwardRefs-8348545e.js";import"./VNodeRenderer-5b6de6a6.js";import"./useGenerateImageVariant-19d0d56c.js";import"./VForm-ee9cccf5.js";import"./VChip-aabda9ce.js";import"./VContainer-e282e5f5.js";import"./NavbarThemeSwitcher-03852ace.js";import"./VTooltip-9ca9ea1d.js";import"./VOverlay-27dbbcf8.js";import"./lazy-3e6a3ff5.js";import"./scopeId-326ce56f.js";import"./VMenu-dc1c4301.js";import"./dialog-transition-a9ebe0dc.js";import"./ssrBoot-7fdf6b89.js";import"./VNavigationDrawer-6615bdb7.js";import"./VToolbar-c6982f9b.js";import"./VSpacer-52196579.js";import"./AppTextarea-a2a2d4ad.js";import"./AppSelect-f110362d.js";import"./VSelect-e95c30a5.js";import"./VCheckboxBtn-42d04193.js";import"./VSelectionControl-272cc15c.js";import"./GDriveEmbed-3a41abba.js";import"./InstagramEmbed-3b9781ca.js";import"./fetchTeacherData-404e675a.js";import"./api-6966f9b4.js";import"./index-116e1e78.js";import"./index-9c720871.js";import"./VCardText-dd0c7bc9.js";import"./VRating-5d9669bb.js";import"./VAlert-83fb7352.js";const ee={class:"landing-page-wrapper"},te={class:"upload-card"},ae={key:1},rt={__name:"upload",setup(re){const m=i(null),_=i([]),u=i(!1),k=i(2);console.log("uploadTask:",w.value),M(async()=>{var t;await A(),m.value=(t=w.value)==null?void 0:t.data,m.value&&h(),window.addEventListener("scroll",L)});const L=async()=>{var d;const t=window.scrollY+window.innerHeight,s=document.documentElement.scrollHeight-10;if(t>=s&&!u.value){u.value=!0;const e=await B(k.value++);(d=e.data)!=null&&d.length&&(m.value.push(...e.data),h()),u.value=!1}};function h(){_.value=[{type:"subheader",title:"Best of the Week"},...m.value.filter(t=>t.rate>=4).flatMap(t=>{var s;return[{prependAvatar:z,title:((s=t.admin_student)==null?void 0:s.name)||"Unknown Student",subtitle:t.name||"No Task Name"},{type:"divider",inset:!0}]})]}const g=i(),S=i(),j=i(),C=i(),F=i(),I=i();return P([S,j,C,F,I],([{isIntersecting:t,target:s}])=>{t&&(g.value=s.id)},{threshold:.25}),(t,s)=>{const d=U("VSubheader");return o(),n("div",ee,[a(H,{"active-id":g.value},null,8,["active-id"]),$("div",te,[a(R,{class:"m-0 p-0"},{default:r(()=>[a(N,{class:"d-none d-lg-block",cols:"12",lg:"3"},{default:r(()=>[a(W,{style:{position:"sticky","inset-block-start":"6rem"}},{default:r(()=>[a(Y,{lines:"three"},{default:r(()=>[(o(!0),n(f,null,T(_.value,(e,l)=>(o(),n(f,{key:l},[e.prependAvatar?(o(),p(K,{key:0,class:"custom-list-item"},{prepend:r(()=>[a(Q,{size:"34",variant:"tonal",color:"primary",class:"me-3"},{default:r(()=>[t.avatar?(o(),p(X,{key:0,src:t.avatar},null,8,["src"])):(o(),n("span",ae,c(("avatarText"in t?t.avatarText:q(x))(e.title)),1))]),_:2},1024)]),default:r(()=>[a(G,null,{default:r(()=>[v(c(e.title),1)]),_:2},1024),a(J,null,{default:r(()=>[v(c(e.subtitle),1)]),_:2},1024)]),_:2},1024)):e.type==="divider"?(o(),p(Z,{key:`divider-${l}`,inset:""})):e.type==="subheader"?(o(),p(d,{key:2,class:"ps-3 mb-2 font-weight-medium text-primary"},{default:r(()=>[v(c(e.title),1)]),_:2},1024)):O("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),a(N,{cols:"12",lg:"9"},{default:r(()=>[(o(!0),n(f,null,T(m.value,e=>{var l,y,V,b;return o(),n("div",{key:e.id},[a(E,{"task-id":e.id,"task-name":e.name,description:e.description,subject:e.project_plan.subject,theme:e.project_plan.theme,stars:e.rate,media:e.media,"post-id":((y=(l=e.link)==null?void 0:l.match(/\/d\/(.*?)\//))==null?void 0:y[1])||"N/A","student-name":e.admin_student.name,nickname:e.admin_student.nickname,email:e.admin_student.email,teacher:e.admin_teacher?{id:e.admin_teacher.id,name:e.admin_teacher.nickname}:"Not Accepted","student-img":(V=e.admin_student)==null?void 0:V.image,"teacher-img":(b=e.admin_teacher)==null?void 0:b.image,accepted:e.accepted,review:(e==null?void 0:e.review)||null},null,8,["task-id","task-name","description","subject","theme","stars","media","post-id","student-name","nickname","email","teacher","student-img","teacher-img","accepted","review"])])}),128))]),_:1})]),_:1})]),a(D)])}}};export{rt as default};
