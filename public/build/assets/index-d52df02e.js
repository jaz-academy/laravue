import{p as Z}from"./formatters-62ab02fc.js";import{_ as ee}from"./AppTextField-f5d6ff2c.js";import{_ as te}from"./AppSelect-14d7844a.js";import{h as ae}from"./helpers-6d9b37dc.js";import{u as $}from"./useApi-86e1ac25.js";import{p as le}from"./paginationMeta-4ad053a4.js";import{c as oe}from"./createUrl-a7285c7b.js";import{_ as se}from"./_plugin-vue_export-helper-c27b6911.js";import{V as F}from"./VCard-79d2de72.js";import{V as R}from"./VCardText-285783bc.js";import{V as T}from"./VRow-cdbc520d.js";import{V as re}from"./VChip-e9cc1678.js";import{V as U}from"./VAvatar-b27cc665.js";import{r as i,H as ie,b5 as ne,a5 as W,a as E,o as b,c as O,b as t,e as l,F as ue,i as de,f as h,d as r,x as c,v as m,n as s,z as B,a0 as v,y as ce,aU as p,ai as k,s as Y}from"./main-2161dd16.js";import{V as S}from"./VDivider-d54b4fba.js";import{V as D}from"./VCol-b6fcabf3.js";import{V as me}from"./VSpacer-dfbd9535.js";import{V as pe}from"./VDataTableServer-fbd893ba.js";import{V as fe}from"./VMenu-3fd806c1.js";import{V as be,a as H}from"./VList-1c9f4772.js";import{V as ve}from"./VPagination-6b4a0230.js";import"./form-2a954a63.js";import"./VTextField-26cefffb.js";/* empty css                   */import"./VCounter-3b8f1b94.js";import"./VImg-4ff19814.js";import"./VField-1461cc01.js";import"./easing-9f15041e.js";import"./VInput-1e0d7c59.js";import"./forwardRefs-8348545e.js";import"./VSelect-3578ba37.js";import"./dialog-transition-d45d256d.js";import"./VOverlay-f2354874.js";import"./lazy-ac5cead8.js";import"./scopeId-56a18a60.js";import"./VCheckboxBtn-2e361082.js";import"./VSelectionControl-b935b5f8.js";import"./no-profile-4221a4a6.js";import"./index-9c720871.js";import"./VDataTable-6895ccff.js";import"./VTable-8e175740.js";import"./filter-f609f4be.js";import"./ssrBoot-ee409192.js";const ye={class:"d-flex flex-column gap-y-1"},_e={class:"text-body-1 font-weight-medium text-capitalize"},Ve={class:"text-h4 my-1"},ge={class:"d-flex"},xe={class:"me-2 text-disabled text-no-wrap"},we={class:"d-flex flex-wrap gap-4 mx-5"},he={class:"d-flex align-center"},ke={class:"d-flex gap-4 flex-wrap align-center"},Se={class:"d-flex align-center gap-x-2"},De={class:"d-flex flex-column"},Pe={class:"text-body-1 font-weight-medium"},je={class:"text-sm text-disabled"},$e={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},Ue={class:"text-sm text-medium-emphasis mb-0"},Be={__name:"index",async setup(ze){let y,z;const C=i([{title:"In-Store Sales",value:"$5,345.43",icon:"tabler-home",desc:"5k orders",change:5.7},{title:"Website Sales",value:"$674,347.12",icon:"tabler-device-laptop",desc:"21k orders",change:12.4},{title:"Discount",value:"$14,235.12",icon:"tabler-gift",desc:"6k orders"},{title:"Affiliate",value:"$8,345.23",icon:"tabler-wallet",desc:"150 orders",change:-3.5}]),Q=[{title:"Subject",key:"subject"},{title:"Semester",key:"semester"},{title:"Date",key:"created_at"},{title:"Data",key:"count"},{title:"Serial",key:"serial"},{title:"Actions",key:"actions",sortable:!1}],A=i([]),q=i([]);ie(async()=>{const{data:o}=await $("/subjects"),{data:a}=await $("/public/students/years");A.value=o.value.data||[],q.value=a.value||[]});const _=i(),V=i(),g=i(),x=i(""),n=i(10),d=i(1),I=i(),M=i(),G=o=>{var a,f;d.value=o.page,I.value=(a=o.sortBy[0])==null?void 0:a.key,M.value=(f=o.sortBy[0])==null?void 0:f.order},P=o=>{if(o===1)return{color:"error",icon:"tabler-circle-number-1"};if(o===2)return{color:"info",icon:"tabler-circle-number-2"};if(o===3)return{color:"primary",icon:"tabler-circle-number-3"};if(o===4)return{color:"success",icon:"tabler-circle-number-4"};if(o===5)return{color:"warning",icon:"tabler-circle-number-5"};if(o===6)return{color:"primary",icon:"tabler-circle-number-6"}},{data:j}=([y,z]=ne(()=>$(oe("/scores-distinct",{query:{q:x,year:g,semester:V,subject:_,page:d,itemsPerPage:n,sortBy:I,orderBy:M}}))),y=await y,z(),y);console.log("scoresData",j);const J=W(()=>{var o;return((o=j.value)==null?void 0:o.data)||[]}),w=W(()=>{var o;return((o=j.value)==null?void 0:o.total)||0});return(o,a)=>{const f=te,K=ee,X=E("RouterLink"),N=E("IconBtn");return b(),O("div",null,[t(F,{class:"mb-6 d-none"},{default:l(()=>[t(R,null,{default:l(()=>[t(T,null,{default:l(()=>[(b(!0),O(ue,null,de(s(C),(e,u)=>(b(),h(D,{key:u,cols:"12",sm:"6",md:"3",class:"px-6 position-relative"},{default:l(()=>[r("div",{class:ce(["d-flex justify-space-between",o.$vuetify.display.xs||o.$vuetify.display.sm&&u<2?"product-widget":""])},[r("div",ye,[r("div",_e,c(e.title),1),r("h4",Ve,c(e.value),1),r("div",ge,[r("div",xe,c(e.desc),1),e.change?(b(),h(re,{key:0,label:"",color:e.change>0?"success":"error"},{default:l(()=>[m(c(("prefixWithPlus"in o?o.prefixWithPlus:s(Z))(e.change))+"% ",1)]),_:2},1032,["color"])):B("",!0)])]),t(U,{variant:"tonal",rounded:"",size:"38"},{default:l(()=>[t(v,{icon:e.icon,size:"28"},null,8,["icon"])]),_:2},1024)],2),o.$vuetify.display.mdAndUp&&u<s(C).length-1||o.$vuetify.display.smOnly&&u%2===0?(b(),h(S,{key:0,vertical:"",inset:"",class:"position-absolute",style:{"block-size":"70%","inset-block-start":"50%","inset-inline-end":"0",transform:"translateY(-50%)"}})):B("",!0)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),t(F,{title:"Filters",class:"mb-6"},{default:l(()=>[t(R,null,{default:l(()=>[t(T,null,{default:l(()=>[t(D,{cols:"12",sm:"4"},{default:l(()=>[t(f,{modelValue:s(_),"onUpdate:modelValue":a[0]||(a[0]=e=>p(_)?_.value=e:null),placeholder:"Subject",items:s(A),"item-title":"name","item-value":"id",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),t(D,{cols:"12",sm:"4"},{default:l(()=>[t(f,{modelValue:s(V),"onUpdate:modelValue":a[1]||(a[1]=e=>p(V)?V.value=e:null),placeholder:"Semester",items:[1,2,3,4,5,6],clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),t(D,{cols:"12",sm:"4"},{default:l(()=>[t(f,{modelValue:s(g),"onUpdate:modelValue":a[2]||(a[2]=e=>p(g)?g.value=e:null),placeholder:"Period",items:s(q),"item-title":"year","item-value":"year",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),t(S,{class:"my-4"}),r("div",we,[r("div",he,[t(K,{modelValue:s(x),"onUpdate:modelValue":a[3]||(a[3]=e=>p(x)?x.value=e:null),placeholder:"Search Product",density:"compact",style:{"inline-size":"200px"},class:"me-3"},null,8,["modelValue"])]),t(me),r("div",ke,[t(f,{modelValue:s(n),"onUpdate:modelValue":a[4]||(a[4]=e=>p(n)?n.value=e:null),items:[5,10,20,25,50]},null,8,["modelValue"]),t(k,{variant:"tonal",color:"secondary","prepend-icon":"tabler-upload"},{default:l(()=>a[9]||(a[9]=[m(" Export ")])),_:1}),t(k,{color:"primary","prepend-icon":"tabler-plus",onClick:a[5]||(a[5]=e=>o.$router.push("/academy/assessment/scores/edit/new"))},{default:l(()=>a[10]||(a[10]=[m(" New Inputs ")])),_:1})])]),t(S,{class:"mt-4"}),t(s(pe),{"items-per-page":s(n),"onUpdate:itemsPerPage":a[7]||(a[7]=e=>p(n)?n.value=e:null),page:s(d),"onUpdate:page":a[8]||(a[8]=e=>p(d)?d.value=e:null),headers:Q,"show-select":"",items:s(J),"items-length":s(w),class:"text-no-wrap","onUpdate:options":G},{"item.subject":l(({item:e})=>{var u;return[r("div",Se,[e.subject?(b(),h(U,{key:0,size:"38",variant:"tonal",color:(u=P(e.semester))==null?void 0:u.color,rounded:""},{default:l(()=>[t(v,{icon:e.semester=="1"?"tabler-square-number-1":e.semester=="2"?"tabler-square-number-2":e.semester=="3"?"tabler-square-number-3":e.semester=="4"?"tabler-square-number-4":"tabler-square-number-5"},null,8,["icon"])]),_:2},1032,["color"])):B("",!0),r("div",De,[r("span",Pe,c(e.subject),1),r("span",je,c(e.teacher),1)])])]}),"item.semester":l(({item:e})=>{var u;return[t(U,{size:"30",variant:"tonal",color:(u=P(e.semester))==null?void 0:u.color,class:"me-2"},{default:l(()=>{var L;return[t(v,{icon:(L=P(e.semester))==null?void 0:L.icon,size:"18"},null,8,["icon"])]}),_:2},1032,["color"]),m(" "+c(e.year),1)]}),"item.created_at":l(({item:e})=>[m(c(s(ae)(e.created_at)),1)]),"item.actions":l(({item:e})=>[t(N,null,{default:l(()=>[t(X,{to:"/academy/assessment/scores/edit/"+e.serial},{default:l(()=>[t(v,{icon:"tabler-eye"})]),_:2},1032,["to"])]),_:2},1024),t(N,null,{default:l(()=>[t(v,{icon:"tabler-dots-vertical"}),t(fe,{activator:"parent"},{default:l(()=>[t(be,null,{default:l(()=>[t(H,{value:"download","prepend-icon":"tabler-download"},{default:l(()=>a[11]||(a[11]=[m(" Download ")])),_:1}),t(H,{value:"duplicate","prepend-icon":"tabler-copy"},{default:l(()=>a[12]||(a[12]=[m(" Duplicate ")])),_:1})]),_:1})]),_:1})]),_:1})]),bottom:l(()=>[t(S),r("div",$e,[r("p",Ue,c(s(le)({page:s(d),itemsPerPage:s(n)},s(w))),1),t(ve,{modelValue:s(d),"onUpdate:modelValue":a[6]||(a[6]=e=>p(d)?d.value=e:null),length:Math.min(Math.ceil(s(w)/s(n)),5),"total-visible":o.$vuetify.display.xs?1:Math.min(Math.ceil(s(w)/s(n)),5)},{prev:l(e=>[t(k,Y({variant:"tonal",color:"default"},e,{icon:!1}),{default:l(()=>a[13]||(a[13]=[m(" Previous ")])),_:2},1040)]),next:l(e=>[t(k,Y({variant:"tonal",color:"default"},e,{icon:!1}),{default:l(()=>a[14]||(a[14]=[m(" Next ")])),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1})])}}},wt=se(Be,[["__scopeId","data-v-3d540d18"]]);export{wt as default};
