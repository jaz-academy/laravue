import{P as A}from"./vue3-perfect-scrollbar.esm-e3e75d38.js";import{k as $,$ as i,r as B,n as a,o as s,f as l,e,b as o,a0 as c,v as m,x as d,c as y,F as _,i as D,b3 as R,s as S,z as N}from"./main-2ca02b3b.js";import{u as T}from"./useAbility-517ddab5.js";import{V}from"./VAvatar-a7deecfc.js";import{V as k}from"./VImg-250183fa.js";import{V as z}from"./VMenu-d28590c8.js";import{V as F,a as h,b as I,c as M}from"./VList-c776ab47.js";import{V as U}from"./VListItemAction-07754ab4.js";import{V as f}from"./VBadge-45c971b2.js";import{V as q}from"./VDivider-cc04d089.js";import"./VOverlay-160906ea.js";import"./easing-9f15041e.js";import"./lazy-cceeae2e.js";import"./scopeId-34d005c1.js";import"./forwardRefs-8348545e.js";import"./dialog-transition-a25a31df.js";import"./ssrBoot-29b51df8.js";const ne={__name:"UserProfile",setup(E){const L=$(),P=T(),t=i("userData"),x=i("userAbilityRules").value[0],n=B({});t.value.admin_teacher_id>0?n.value={name:"profile-teacher-id-tab",params:{id:t.value.admin_teacher_id,tab:"account"}}:n.value={name:"profile-student-id-tab",params:{id:t.value.admin_student_id,tab:"account"}};const C=async()=>{i("accessToken").value=null,t.value=null,await L.push("/"),i("userAbilityRules").value=null,P.update([]),console.log("You Logged out!")},w=[{type:"divider"},{type:"navItem",icon:"tabler-users",title:"Users",to:{name:"profile-users"}},{type:"navItem",icon:"tabler-settings",title:"Account",to:n.value},{type:"navItem",icon:"tabler-help-circle",title:"Manual",to:{name:"pages-faq"}},{type:"divider"},{type:"navItem",icon:"tabler-logout",title:"Logout",onClick:C}];return(Y,j)=>a(t)?(s(),l(f,{key:0,dot:"",bordered:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:e(()=>{var p,g;return[o(V,{class:"cursor-pointer overflow-hidden",color:(p=a(t))!=null&&p.image?void 0:"primary",variant:(g=a(t))!=null&&g.image?void 0:"tonal"},{default:e(()=>{var v;return[(v=a(t))!=null&&v.image?(s(),l(k,{key:0,cover:"",src:`/storage/${a(t).image}`},null,8,["src"])):(s(),l(c,{key:1,icon:"tabler-user"})),o(z,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:e(()=>[o(F,null,{default:e(()=>[o(h,null,{prepend:e(()=>[o(U,{start:""},{default:e(()=>[o(f,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:e(()=>{var r,u;return[o(V,{class:"cursor-pointer overflow-hidden",color:(r=a(t))!=null&&r.image?void 0:"primary",variant:(u=a(t))!=null&&u.image?void 0:"tonal"},{default:e(()=>{var b;return[(b=a(t))!=null&&b.image?(s(),l(k,{key:0,cover:"",src:`/storage/${a(t).image}`},null,8,["src"])):(s(),l(c,{key:1,icon:"tabler-user"}))]}),_:1},8,["color","variant"])]}),_:1})]),_:1})]),default:e(()=>[o(I,{class:"font-weight-medium"},{default:e(()=>[m(d(a(t).name||a(t).email),1)]),_:1}),o(M,null,{default:e(()=>[m(d(a(x).member),1)]),_:1})]),_:1}),o(a(A),{options:{wheelPropagation:!1}},{default:e(()=>[(s(),y(_,null,D(w,r=>(s(),y(_,{key:r.title},[r.type==="navItem"?(s(),l(h,{key:0,to:r.to,onClick:u=>r.onClick&&r.onClick()},R({prepend:e(()=>[o(c,{class:"me-2",icon:r.icon,size:"22"},null,8,["icon"])]),default:e(()=>[o(I,null,{default:e(()=>[m(d(r.title),1)]),_:2},1024)]),_:2},[r.badgeProps?{name:"append",fn:e(()=>[o(f,S({ref_for:!0},r.badgeProps),null,16)]),key:"0"}:void 0]),1032,["to","onClick"])):(s(),l(q,{key:1,class:"my-2"}))],64))),64))]),_:1})]),_:1})]),_:1})]}),_:1},8,["color","variant"])]}),_:1})):N("",!0)}};export{ne as default};
