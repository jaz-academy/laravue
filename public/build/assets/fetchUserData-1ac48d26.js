import{u as h}from"./useApi-608e4ca2.js";import{r as u,H as g,$ as p}from"./main-d9f3424d.js";const m=()=>{const e=u(null),s=u(!1),t=u(null);return g(async()=>{var o;s.value=!0,t.value=null;try{const a=await h("/user");e.value=((o=a.data)==null?void 0:o.value)??null,console.log("User Data:",e.value);const r=p("userData");r.value=e.value}catch(a){t.value=a,console.error("Failed to fetch user:",a)}finally{s.value=!1}}),{user:e,isLoading:s,error:t}},w=async({q:e="",page:s=1,itemsPerPage:t=10,sortBy:n="",orderBy:o="asc"})=>{var c,v,f,i;const a=new URLSearchParams({q:e,page:s,itemsPerPage:t,sortBy:n,orderBy:o}),{data:r,error:l}=await h(`/users?${a.toString()}`);if(l.value)throw console.error("Error fetching users:",l.value),new Error(l.value);return{users:((c=r.value)==null?void 0:c.data)||[],totalPages:((v=r.value)==null?void 0:v.totalPages)||0,totalUsers:((f=r.value)==null?void 0:f.count)||0,page:((i=r.value)==null?void 0:i.page)||1}};export{w as a,m as f};
