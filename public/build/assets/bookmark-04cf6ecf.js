import{N as ie,F as ue}from"./front-page-navbar-72a26784.js";import{a as pe}from"./formatters-f2ec2421.js";import{_ as de,r as i,aL as me,cR as ce,H as re,o as r,c as v,d as m,y as ve,n as Z,b as a,e as l,f as M,x as j,z as b,F as T,v as c,aj as x,a$ as ee,i as fe}from"./main-e40851b7.js";import{_ as _e}from"./AppTextField-a9d65adc.js";import{u as te}from"./useGenerateImageVariant-99d63f92.js";import{h as ge,a as ke,b as ye,c as be}from"./hero-elements-light-b61b0468.js";/* empty css                 */import{$ as ae}from"./api-e6efa3e7.js";import{V as he}from"./VAvatar-43d2e5c8.js";import{V as Ve}from"./VImg-d0687b57.js";import{V as we}from"./VContainer-3b9daa66.js";import{V as oe}from"./VAlert-ed80c70a.js";import{V as le,a as _}from"./VRow-f8693abc.js";import{V as se}from"./VForm-4a2fa4d7.js";import{_ as Se}from"./PostingCard-fb31e992.js";import{u as je}from"./useApi-765b1997.js";import"./VNodeRenderer-b3a0c65a.js";import"./VChip-f703cea5.js";import"./NavbarThemeSwitcher-f29518e8.js";import"./VTooltip-75abf796.js";import"./VOverlay-c77512d0.js";import"./easing-9f15041e.js";import"./lazy-924c41e8.js";import"./scopeId-4e41f258.js";import"./forwardRefs-8348545e.js";import"./VMenu-57cdd853.js";import"./dialog-transition-13233f06.js";import"./VList-deb9c324.js";import"./ssrBoot-282be025.js";import"./VDivider-06554ebe.js";import"./VNavigationDrawer-2d1d7a22.js";import"./VToolbar-af5c36cf.js";import"./VSpacer-b30a3d0b.js";import"./helpers-2778edbe.js";import"./no-profile-4221a4a6.js";import"./form-c3e0076b.js";import"./VTextField-bbc7a2fc.js";/* empty css                   */import"./VCounter-f770fb79.js";import"./VField-a2644e25.js";import"./VInput-6eaa5e55.js";import"./index-8c7cbe3e.js";import"./index-9c720871.js";import"./AppTextarea-340b184e.js";import"./AppSelect-1495259f.js";import"./VSelect-28fcf519.js";import"./VCheckboxBtn-d41b44e1.js";import"./VSelectionControl-6e4301a8.js";import"./GDriveEmbed-f721e8db.js";import"./InstagramEmbed-3dfd3444.js";import"./fetchTeacherData-86645937.js";import"./VCardText-e11304cd.js";import"./VRating-c708759c.js";import"./VCard-c8ea4733.js";const xe={id:"home",style:{background:"rgb(var(--v-theme-surface))"}},Ie={id:"landingHero",class:"mb-6"},Ce={class:"hero-text-box text-center px-6"},$e={key:1},Ne={key:1,class:"text-h2 text-sm-h1 text-primary hero-title font-weight-bold text-wrap mb-0"},Pe={class:"mb-4 text-h5"},Me={class:"mb-4"},Te={class:"position-relative"},Ue={key:0,class:"modal-overlay"},Ae={class:"modal-content"},Fe={key:1,class:"modal-overlay"},Be={class:"modal-content"},De={__name:"participant-info",emits:["loginStatus"],setup(ne,{emit:S}){const I=S,n=i(null),h=me();te(ke,ge),te(be,ye),ce({touch:!1});const g=i(!1),y=i(!1),V=i(null),p=i(""),t=i(""),u=i(""),k=i(""),d=i(""),w=i([]),C=()=>{p.value="",t.value="",u.value="",k.value="",d.value="",w.value=[]};re(()=>{const s=localStorage.getItem("participant");n.value=s?JSON.parse(s):null});const $=()=>{n.value?(localStorage.removeItem("participant"),n.value=null,I("loginStatus",!1)):(g.value=!0,C())},N=async()=>{if(p.value&&u.value){const s={username:p.value,password:u.value};try{const{data:e,error:f}=await ae("/public/sign-in-participant",{method:"POST",body:{username:s.username,password:s.password},onResponseError({response:o}){w.value=o._data.errors,d.value=o._data.message||"SignIn failed"}});console.log(e),localStorage.setItem("participant",JSON.stringify(e)),n.value=e,g.value=!1,I("loginStatus",!0)}catch(e){console.error(e)}}},P=async()=>{if(t.value&&p.value&&u.value&&k.value)try{if(u.value===k.value){const{data:s}=await ae("/public/participants",{method:"POST",body:{name:t.value,username:p.value,password:u.value,passwordConfirmation:k.value,role:1,image:null},onResponseError({response:e}){w.value=e._data.errors,d.value=e._data.message||"SignUp failed"}});console.log(s),localStorage.setItem("participant",JSON.stringify(s)),n.value=s,y.value=!1}else alert("Password and Confirm Password do not match")}catch(s){console.error("Error during signup:",s)}};return(s,e)=>{const f=_e;return r(),v("div",xe,[m("div",Ie,[m("div",{class:ve(["landing-hero",Z(h).current.value.dark?"landing-hero-dark-bg":"landing-hero-light-bg"])},[a(we,null,{default:l(()=>[m("div",Ce,[n.value?(r(),M(he,{key:0,size:"200",variant:"tonal",color:"primary",class:"mb-4"},{default:l(()=>[V.value?(r(),M(Ve,{key:0,src:V.value},null,8,["src"])):(r(),v("span",$e,j(n.value.name?("avatarText"in s?s.avatarText:Z(pe))(n.value.name):"AB"),1))]),_:1})):b("",!0),n.value?(r(),v("p",Ne,j(n.value.name),1)):b("",!0),m("h5",Pe,[n.value?(r(),v(T,{key:0},[c(" Thank you for your participation! ")],64)):(r(),v(T,{key:1},[e[14]||(e[14]=m("p",{class:"text-h2 text-sm-h1 text-primary hero-title font-weight-bold text-wrap mb-4"}," Marhaban ! ",-1)),e[15]||(e[15]=c(" Welcome to our platform ")),m("div",Me,[e[13]||(e[13]=c(" Click here to ")),m("a",{style:{display:"inline",cursor:"pointer"},onClick:e[0]||(e[0]=o=>y.value=!0)},"Signup as New Participant!")])],64))]),m("div",Te,[a(x,{height:"36",onClick:$},{default:l(()=>[c(j(n.value?"Sign Out":"Sign In"),1)]),_:1})])])]),_:1}),g.value?(r(),v("div",Ue,[m("div",Ae,[d.value?(r(),M(oe,{key:0,type:"error",class:"mb-5",dismissible:"",onClick:e[1]||(e[1]=o=>d.value="")},{default:l(()=>[c(j(d.value),1)]),_:1})):b("",!0),a(se,{onSubmit:ee(o=>({}),["prevent"])},{default:l(()=>[a(le,null,{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(f,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=o=>p.value=o),"prepend-inner-icon":"tabler-user",label:"Username",placeholder:"Mehmed"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12"},{default:l(()=>[a(f,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=o=>u.value=o),"prepend-inner-icon":"tabler-lock",label:"Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12"},{default:l(()=>[e[16]||(e[16]=c(" Not a Participant yet? ")),m("a",{style:{display:"inline",cursor:"pointer"},onClick:e[4]||(e[4]=o=>(g.value=!1,y.value=!0))},"Signup first!")]),_:1}),a(_,{cols:"12"},{default:l(()=>[a(x,{type:"submit",class:"me-2",onClick:N},{default:l(()=>e[17]||(e[17]=[c(" Sign In ")])),_:1}),a(x,{color:"warning",class:"me-2",onClick:e[5]||(e[5]=o=>g.value=!1)},{default:l(()=>e[18]||(e[18]=[c(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1})])])):b("",!0),y.value?(r(),v("div",Fe,[m("div",Be,[d.value?(r(),M(oe,{key:0,type:"error",class:"mb-5",dismissible:"",onClick:e[6]||(e[6]=o=>d.value="")},{default:l(()=>[c(j(d.value),1)]),_:1})):b("",!0),a(se,{onSubmit:ee(o=>({}),["prevent"])},{default:l(()=>[a(le,null,{default:l(()=>[a(_,{cols:"12"},{default:l(()=>[a(f,{modelValue:t.value,"onUpdate:modelValue":e[7]||(e[7]=o=>t.value=o),"prepend-inner-icon":"tabler-user",label:"Full Name",placeholder:"Muhammad"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12"},{default:l(()=>[a(f,{modelValue:p.value,"onUpdate:modelValue":e[8]||(e[8]=o=>p.value=o),"prepend-inner-icon":"tabler-checkbox",label:"Username",placeholder:"Mehmed"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12"},{default:l(()=>[a(f,{modelValue:u.value,"onUpdate:modelValue":e[9]||(e[9]=o=>u.value=o),"prepend-inner-icon":"tabler-lock",label:"Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12"},{default:l(()=>[a(f,{modelValue:k.value,"onUpdate:modelValue":e[10]||(e[10]=o=>k.value=o),"prepend-inner-icon":"tabler-lock",label:"Retype Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1}),a(_,{cols:"12"},{default:l(()=>[e[19]||(e[19]=c(" Already joined Participant? ")),m("a",{style:{display:"inline",cursor:"pointer"},onClick:e[11]||(e[11]=o=>(g.value=!0,y.value=!1))},"Signin instead!")]),_:1}),a(_,{cols:"12"},{default:l(()=>[a(x,{type:"submit",class:"me-2",onClick:P},{default:l(()=>e[20]||(e[20]=[c(" Sign Up ")])),_:1}),a(x,{color:"warning",class:"me-2",onClick:e[12]||(e[12]=o=>y.value=!1)},{default:l(()=>e[21]||(e[21]=[c(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1})])])):b("",!0)],2)])])}}},Le=de(De,[["__scopeId","data-v-943e0374"]]);const Oe={class:"landing-page-wrapper"},Ee={key:0,class:"bookmark-card"},Rt={__name:"bookmark",setup(ne){const S=i(null),I=i(),n=i(),h=i([]);re(async()=>{g()});const g=async()=>{const V=localStorage.getItem("participant");if(S.value=V?JSON.parse(V):null,S.value){const p=S.value.id,{data:t}=await je(`/public/bookmarks-by-participant/${p}`);t.value.data&&(h.value=t.value.data)}else h.value=[]},y=async()=>{await g()};return(V,p)=>(r(),v("div",Oe,[a(ie,{"active-id":I.value},null,8,["active-id"]),a(Le,{ref_key:"refHome",ref:n,onLoginStatus:y},null,512),h.value.length?(r(),v("div",Ee,[(r(!0),v(T,null,fe(h.value.filter(Boolean),t=>{var u,k,d,w,C,$,N,P,s,e,f,o,U,A,F,B,D,L,O,E,R,H,J,z,G,W,q,K,Q,X,Y;return r(),v("div",{key:t.id||t._id||t},[a(Se,{class:"card-post","task-id":(u=t.project_task)==null?void 0:u.id,"task-name":(k=t.project_task)==null?void 0:k.name,description:(d=t.project_task)==null?void 0:d.description,subject:(C=(w=t.project_task)==null?void 0:w.project_plan)==null?void 0:C.subject,theme:(N=($=t.project_task)==null?void 0:$.project_plan)==null?void 0:N.theme,stars:(P=t.project_task)==null?void 0:P.rate,media:(s=t.project_task)==null?void 0:s.media,"post-id":((e=t.project_task)==null?void 0:e.media)=="Instagram"?(U=(o=(f=t.project_task)==null?void 0:f.link)==null?void 0:o.match(/\/(?:p|reel)\/([\w-]+)/))==null?void 0:U[1]:((B=(F=(A=t.project_task)==null?void 0:A.link)==null?void 0:F.match(/\/d\/(.*?)\//))==null?void 0:B[1])||"N/A","student-name":(L=(D=t.project_task)==null?void 0:D.admin_student)==null?void 0:L.name,nickname:(E=(O=t.project_task)==null?void 0:O.admin_student)==null?void 0:E.nickname,email:(H=(R=t.project_task)==null?void 0:R.admin_student)==null?void 0:H.email,teacher:(J=t.project_task)!=null&&J.admin_teacher?{id:(z=t.project_task)==null?void 0:z.admin_teacher.id,name:(G=t.project_task)==null?void 0:G.admin_teacher.nickname}:"Not Accepted","student-img":(q=(W=t.project_task)==null?void 0:W.admin_student)==null?void 0:q.image,"teacher-img":(Q=(K=t.project_task)==null?void 0:K.admin_teacher)==null?void 0:Q.image,accepted:(X=t.project_task)==null?void 0:X.accepted,review:((Y=t.project_task)==null?void 0:Y.review)||null},null,8,["task-id","task-name","description","subject","theme","stars","media","post-id","student-name","nickname","email","teacher","student-img","teacher-img","accepted","review"])])}),128))])):b("",!0),a(ue)]))}};export{Rt as default};
