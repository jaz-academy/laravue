import{p as we}from"./formatters-a579ec9f.js";import{_ as me}from"./AppTextField-0a702a89.js";import{_ as C}from"./AppSelect-0e01f2b7.js";import{u as De}from"./helpers-86b04518.js";import{f as ce,p as xe,a as Ue,b as Se}from"./fetchProjectData-68a7cbad.js";import{r as B}from"./validators-447e085b.js";import{f as Pe,t as Ce}from"./fetchTeacherData-72ab198b.js";import{a0 as Ae,H as pe,r as p,bm as $e,w as ie,o as h,f as U,e as o,b as t,n as a,aV as w,a$ as Ie,d as f,aj as N,v as b,x as _,aZ as Oe,_ as je,a6 as z,a as Me,c as K,F as ne,i as Be,z as q,a1 as Z,y as qe,s as ee}from"./main-4f88f0ef.js";import{_ as Ne}from"./AppDateTimePicker-f9db8f1d.js";import{_ as Fe}from"./AppTextarea-dc54ff33.js";import{_ as ze}from"./AppDrawerHeaderSection-f85c656a.js";import{f as Ye,s as Ee}from"./fetchStudentData-5dd37d25.js";import{P as He}from"./vue3-perfect-scrollbar.esm-e91705d1.js";import{V as Y}from"./VDivider-b9cb0238.js";import{V as le}from"./VCard-63e71bf1.js";import{V as oe}from"./VCardText-9f2226ac.js";import{V as Re}from"./VForm-8272ee06.js";import{V as E,a as v}from"./VRow-f91e85cc.js";import{V as fe}from"./VRating-d9728d33.js";import{V as Le}from"./VNavigationDrawer-fc355904.js";import{p as Ge}from"./paginationMeta-4ad053a4.js";import{u as de}from"./useApi-e555f480.js";import{V as We}from"./VAlert-72287be2.js";import{V as ue}from"./VChip-fdf96eb5.js";import{V as ae}from"./VAvatar-e5a31aae.js";import{V as Je}from"./VSpacer-087c8f6f.js";import{V as Qe}from"./VDataTableServer-2d1ca1f1.js";import{V as Xe}from"./VImg-68e835e8.js";import{V as Ze}from"./VMenu-ce97e0a3.js";import{V as Ke,a as te}from"./VList-feb05806.js";import{V as ea}from"./VPagination-2b61bd5c.js";import"./form-c8cd72fd.js";import"./VTextField-4fe060dc.js";/* empty css                   */import"./VCounter-04ac2a91.js";import"./VField-cac243f5.js";import"./easing-9f15041e.js";import"./VInput-55c72d65.js";import"./forwardRefs-8348545e.js";import"./VSelect-7d289760.js";import"./dialog-transition-2ef940ae.js";import"./VOverlay-323f114c.js";import"./lazy-a29a8712.js";import"./scopeId-7cb11928.js";import"./VCheckboxBtn-ec3e0aa2.js";import"./VSelectionControl-c713929d.js";import"./no-profile-4221a4a6.js";import"./ssrBoot-78ccd235.js";import"./VDataTable-47e17040.js";import"./VTable-4d9c3313.js";import"./filter-5f072689.js";const aa={class:"d-flex justify-start"},ta={__name:"AddTasks",props:{isDrawerOpen:{type:Boolean,required:!0},mode:{type:String,default:"add"},taskData:{type:Object,default:()=>({})}},emits:["update:isDrawerOpen","taskData"],setup(se,{emit:A}){var S;const i=se,j=A,H=Ae("userData");pe(async()=>{await Ye(),await ce(),await Pe()});const y=p(),M=p(!1),d=$e({project_plan_id:"",admin_student_id:((S=H.value)==null?void 0:S.admin_student_id)||"",semester:"",name:"",description:"",date:"",status:"",media:"",embed:"",link:"",accepted:0,rate:"",review:"",admin_teacher_id:""});ie(()=>[i.taskData,i.mode],()=>{var m;(i.mode==="edit"||i.mode==="duplicate"||i.mode==="review")&&i.taskData?Object.assign(d,{project_plan_id:i.taskData.project_plan_id||"",admin_student_id:i.taskData.admin_student_id||"",semester:i.taskData.semester||"",name:i.taskData.name||"",description:i.taskData.description||"",date:i.taskData.date||"",status:i.taskData.status||"",media:i.taskData.media||"",embed:i.taskData.embed||"",link:i.taskData.link||"",accepted:i.taskData.accepted||0,rate:i.taskData.rate||"",review:i.taskData.review||"",admin_teacher_id:i.taskData.admin_teacher_id||""}):Object.assign(d,{project_plan_id:"",admin_student_id:((m=H.value)==null?void 0:m.admin_student_id)||"",semester:"",name:"",description:"",date:"",status:"",media:"",embed:"",link:"",accepted:0,rate:"",review:"",admin_teacher_id:""})},{immediate:!0}),ie(()=>i.isDrawerOpen,m=>{var r,x;m||((r=y.value)==null||r.reset(),(x=y.value)==null||x.resetValidation())});const $=m=>{j("update:isDrawerOpen",m)},D=()=>{var m,r;(m=y.value)==null||m.reset(),(r=y.value)==null||r.resetValidation()},I=()=>{var m;(m=y.value)==null||m.validate().then(({valid:r})=>{if(i.mode!=="review"&&!r)return;const x={...d};i.mode==="edit"||i.mode==="review"?(x.id=i.taskData.id,j("taskData",{action:"update",data:x})):j("taskData",{action:"create",data:x}),j("update:isDrawerOpen",!1),Oe(D)})};return(m,r)=>{const x=ze,R=me,k=Fe,T=Ne;return h(),U(Le,{"model-value":i.isDrawerOpen,temporary:"",location:"end",width:"370",class:"category-navigation-drawer scrollable-content","onUpdate:modelValue":$},{default:o(()=>[t(x,{title:i.mode==="edit"?"Edit Task":i.mode==="duplicate"?"Duplicate Task":i.mode==="review"?"Review Task":"Add New Task",onCancel:r[0]||(r[0]=n=>m.$emit("update:isDrawerOpen",!1))},null,8,["title"]),t(Y),t(a(He),{options:{wheelPropagation:!1}},{default:o(()=>[t(le,{flat:""},{default:o(()=>[t(oe,null,{default:o(()=>[t(a(Re),{ref_key:"refVForm",ref:y,modelValue:a(M),"onUpdate:modelValue":r[14]||(r[14]=n=>w(M)?M.value=n:null),onSubmit:Ie(I,["prevent"])},{default:o(()=>[i.mode!=="review"?(h(),U(E,{key:0,class:"g-4"},{default:o(()=>[t(v,{cols:"12"},{default:o(()=>[t(C,{modelValue:a(d).project_plan_id,"onUpdate:modelValue":r[1]||(r[1]=n=>a(d).project_plan_id=n),placeholder:"Select Project Plan",label:"Project Plan",rules:["requiredValidator"in m?m.requiredValidator:a(B)],items:a(xe),"item-title":"theme","item-value":"id"},null,8,["modelValue","rules","items"])]),_:1}),t(v,{cols:"12"},{default:o(()=>{var n;return[t(C,{modelValue:a(d).admin_student_id,"onUpdate:modelValue":r[2]||(r[2]=F=>a(d).admin_student_id=F),placeholder:"Select Student",label:"Student",rules:["requiredValidator"in m?m.requiredValidator:a(B)],items:a(Ee),"item-title":"name","item-value":"id",readonly:!!((n=a(H).value)!=null&&n.admin_student_id)},null,8,["modelValue","rules","items","readonly"])]}),_:1}),t(v,{cols:"12"},{default:o(()=>[t(C,{modelValue:a(d).semester,"onUpdate:modelValue":r[3]||(r[3]=n=>a(d).semester=n),placeholder:"Select Semester",label:"Semester",rules:["requiredValidator"in m?m.requiredValidator:a(B)],items:[1,2,3,4,5,6]},null,8,["modelValue","rules"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(R,{modelValue:a(d).name,"onUpdate:modelValue":r[4]||(r[4]=n=>a(d).name=n),label:"Write Title",rules:["requiredValidator"in m?m.requiredValidator:a(B)],placeholder:"Task Title"},null,8,["modelValue","rules"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(k,{modelValue:a(d).description,"onUpdate:modelValue":r[5]||(r[5]=n=>a(d).description=n),label:"Description",placeholder:"Write Description","auto-grow":""},null,8,["modelValue"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(T,{modelValue:a(d).date,"onUpdate:modelValue":r[6]||(r[6]=n=>a(d).date=n),label:"Date",placeholder:"Select date"},null,8,["modelValue"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(C,{modelValue:a(d).status,"onUpdate:modelValue":r[7]||(r[7]=n=>a(d).status=n),rules:["requiredValidator"in m?m.requiredValidator:a(B)],placeholder:"Select Status",label:"Status",items:["In Progress","On Hold","Completed"]},null,8,["modelValue","rules"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(C,{modelValue:a(d).media,"onUpdate:modelValue":r[8]||(r[8]=n=>a(d).media=n),rules:["requiredValidator"in m?m.requiredValidator:a(B)],placeholder:"Select Media",label:"Media",items:["Instagram","TikTok","YouTube","Google Drive"]},null,8,["modelValue","rules"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(k,{modelValue:a(d).link,"onUpdate:modelValue":r[9]||(r[9]=n=>a(d).link=n),label:"Link",placeholder:"Paste Link","auto-grow":""},null,8,["modelValue"])]),_:1})]),_:1})):(h(),U(E,{key:1},{default:o(()=>[t(v,{cols:"12"},{default:o(()=>[t(C,{modelValue:a(d).admin_teacher_id,"onUpdate:modelValue":r[10]||(r[10]=n=>a(d).admin_teacher_id=n),label:"Mentor",placeholder:"Select Mentor",items:"teachers"in m?m.teachers:a(Ce),"item-title":"nickname","item-value":"id"},null,8,["modelValue","items"])]),_:1}),t(v,{cols:"12"},{default:o(()=>[t(C,{modelValue:a(d).accepted,"onUpdate:modelValue":r[11]||(r[11]=n=>a(d).accepted=n),label:"Accepted",placeholder:"Not Accepted",items:[{text:"Accepted",value:1},{text:"Not Accepted",value:0}],"item-title":"text","item-value":"value"},null,8,["modelValue"])]),_:1}),t(v,{cols:"12",class:"text-center"},{default:o(()=>[t(fe,{modelValue:a(d).rate,"onUpdate:modelValue":r[12]||(r[12]=n=>a(d).rate=n),"half-increments":"",hover:""},null,8,["modelValue"]),t(k,{modelValue:a(d).review,"onUpdate:modelValue":r[13]||(r[13]=n=>a(d).review=n),placeholder:"Write your review...",rows:3},null,8,["modelValue"])]),_:1})]),_:1})),t(E,{class:"mt-4"},{default:o(()=>[t(v,{cols:"12"},{default:o(()=>[f("div",aa,[t(N,{type:"submit",color:"primary",class:"me-4"},{default:o(()=>[b(_(i.mode==="edit"?"Update":"Add"),1)]),_:1}),t(N,{color:"error",variant:"tonal",onClick:D},{default:o(()=>r[15]||(r[15]=[b(" Discard ")])),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}};const la={class:"d-flex flex-column gap-y-1"},oa={class:"text-body-1 font-weight-medium text-capitalize"},sa={class:"text-h4 my-1"},ra={class:"d-flex"},ia={class:"me-2 text-disabled text-no-wrap"},na={class:"d-flex flex-wrap gap-4 mx-5"},da={class:"d-flex align-center"},ua={class:"d-flex gap-4 flex-wrap align-center"},ma={class:"d-flex align-center gap-x-2"},ca={class:"d-flex flex-column"},pa={class:"text-body-1 font-weight-medium"},fa={class:"text-sm text-disabled"},va={class:"text-body-1 font-weight-medium"},Va={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},ka={class:"text-sm text-medium-emphasis mb-0"},ga={__name:"tasks",setup(se){const{hasRole:A,currentUser:i,hasRoleOrTeacher:j,hasRoleAndAccess:H}=De();pe(async()=>{await ce()});const y=p(!1),M=p(""),d=p("primary"),$=(l,e="primary")=>{M.value=l,d.value=e,y.value=!0,setTimeout(()=>{y.value=!1},1e4)},D=p(!1),I=p("add"),S=p({}),m=l=>{S.value={...l},I.value="edit",D.value=!0},r=l=>{S.value={...l},I.value="review",D.value=!0},x=l=>{S.value=l,I.value="duplicate",D.value=!0},R=z(()=>{const l=z(()=>Ue.value||[]);return[{title:"Instagram",value:l.value.filter(e=>e.media==="Instagram").length,icon:"tabler-brand-instagram",desc:`${l.value.filter(e=>e.media==="Instagram"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media==="Instagram").length,c=l.value.filter(u=>u.media==="Instagram"&&u.accepted=="1").length;return e?(c/e*100).toFixed(1):0})()},{title:"TikTok",value:l.value.filter(e=>e.media=="TikTok").length,icon:"tabler-brand-tiktok",desc:`${l.value.filter(e=>e.media=="TikTok"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media=="TikTok").length,c=l.value.filter(u=>u.media=="TikTok"&&u.accepted=="1").length;return e?(c/e*100).toFixed(1):0})()},{title:"YouTube",value:l.value.filter(e=>e.media==="YouTube").length,icon:"tabler-brand-youtube",desc:`${l.value.filter(e=>e.media==="YouTube"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media==="YouTube").length,c=l.value.filter(u=>u.media==="YouTube"&&u.accepted=="1").length;return e?(c/e*100).toFixed(1):0})()},{title:"Others",value:l.value.filter(e=>e.media!=="Instagram"&&e.media!=="TikTok"&&e.media!=="YouTube").length,icon:"tabler-world",desc:`${l.value.filter(e=>e.media!=="Instagram"&&e.media!=="TikTok"&&e.media!=="YouTube"&&e.accepted=="0").length} unchecked`,change:(()=>{const e=l.value.filter(u=>u.media!=="Instagram"&&u.media!=="TikTok"&&u.media!=="YouTube").length,c=l.value.filter(u=>u.media!=="Instagram"&&u.media!=="TikTok"&&u.media!=="YouTube"&&u.accepted=="1").length;return e?(c/e*100).toFixed(1):0})()}]}),k=p(10),T=p(1),n=p(),F=p(),L=p([]),G=p(),W=p(),J=p(),Q=p(""),ve=l=>{var e;T.value=l.page,k.value=l.itemsPerPage,(e=l.sortBy)!=null&&e.length?(n.value=l.sortBy[0].key,F.value=l.sortBy[0].order):(n.value=null,F.value=null),O()},O=async()=>{var e;const l={admin_student_id:((e=i.value)==null?void 0:e.admin_student_id)||"",search:Q.value||"",status:G.value||"",media:W.value||"",accepted:J.value||"",perPage:k.value,page:T.value,sortBy:n.value||"",orderBy:F.value||""};try{const c=await Se(l);console.log("ðŸ“¦ FETCHING with:",l,c),L.value=c}catch(c){console.error("Error fetching tasks:",c.message)}},Ve=z(()=>{var l;return((l=L.value)==null?void 0:l.tasks)||[]}),X=z(()=>{var l;return((l=L.value)==null?void 0:l.totalTasks)||0}),ke=z(()=>{var c,u;const l=((u=(c=L.value)==null?void 0:c.tasks)==null?void 0:u.map(V=>V.media))||[];return[...new Set(l.filter(Boolean))].map(V=>({title:V,value:V}))}),ge=p([{title:"Completed",value:"Completed"},{title:"In Progress",value:"In Progress"},{title:"On Hold",value:"On Hold"}]),_e=p([{title:"Accepted",value:"1"},{title:"Unchecked",value:"0"}]),be=[{title:"Task",key:"name"},{title:"Media",key:"media"},{title:"Stars",key:"rate"},{title:"SMT",key:"semester"},{title:"ID",key:"id"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],re=l=>l=="Instagram"?{color:"primary",icon:"tabler-brand-instagram"}:l=="TikTok"?{color:"info",icon:"tabler-brand-tiktok"}:l=="YouTube"?{color:"error",icon:"tabler-brand-youtube"}:l=="Google Drive"?{color:"warning",icon:"tabler-brand-google"}:{color:"primary",icon:"tabler-world"},ye=l=>{if(l==="Completed")return{text:"Completed",color:"primary"};if(l==="In Progress")return{text:"In Progress",color:"warning"};if(l==="On Hold")return{text:"On Hold",color:"error"}},he=async({action:l,data:e})=>{var u;const c={...e,accepted:e.accepted===""?"0":!!Number(e.accepted),rate:e.rate===""?0:Number(e.rate),admin_teacher_id:e.admin_teacher_id===""?null:Number(e.admin_teacher_id)};console.log("Sending taskData:",c,"action:",l);try{let V="/tasks",s="POST";l==="update"&&e.id&&(V=`/tasks/${e.id}`,s="PUT");const{data:g,response:P}=await de(V,{method:s,body:JSON.stringify(c),headers:{"Content-Type":"application/json",Accept:"application/json"}});P.value.ok?($(l==="create"?"Data berhasil ditambahkan":"Data berhasil diperbarui","success"),console.log("Task response:",g),O()):$(P.value.statusText||"Gagal menyimpan data","error")}catch(V){console.error("Task save error:",((u=V==null?void 0:V.data)==null?void 0:u.errors)||V),$(V.message||"Gagal menyimpan data","error")}},Te=async l=>{try{confirm("Apakah kamu yakin ingin menghapus data ini?")&&(console.log("Deleting task with ID:",l),await de(`/tasks/${l}`,{method:"DELETE"}),$("Data berhasil dihapus","success"),O())}catch(e){$(e.message||"Gagal menghapus data","error"),console.error(e)}};return(l,e)=>{const c=C,u=me,V=Me("IconBtn");return h(),K("div",null,[t(le,{class:"mb-6"},{default:o(()=>[t(oe,null,{default:o(()=>[t(E,null,{default:o(()=>[(h(!0),K(ne,null,Be(a(R),(s,g)=>(h(),K(ne,{key:g},[t(v,{cols:"12",sm:"6",md:"3",class:"px-6"},{default:o(()=>[f("div",{class:qe(["d-flex justify-space-between",l.$vuetify.display.xs||l.$vuetify.display.sm&&g<2?"product-widget":""])},[f("div",la,[f("div",oa,_(s.title),1),f("h4",sa,_(s.value),1),f("div",ra,[f("div",ia,_(s.desc),1),s.change?(h(),U(ue,{key:0,label:"",color:s.change==100?"success":"error"},{default:o(()=>[b(_(("prefixWithPlus"in l?l.prefixWithPlus:a(we))(s.change))+"% ",1)]),_:2},1032,["color"])):q("",!0)])]),t(ae,{variant:"tonal",rounded:"",size:"38"},{default:o(()=>[t(Z,{icon:s.icon,size:"28"},null,8,["icon"])]),_:2},1024)],2)]),_:2},1024),(l.$vuetify.display.mdAndUp?g!==a(R).length-1:l.$vuetify.display.smAndUp&&g%2===0)?(h(),U(Y,{key:0,vertical:"",inset:"",length:"95"})):q("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),t(We,{modelValue:a(y),"onUpdate:modelValue":e[0]||(e[0]=s=>w(y)?y.value=s:null),closable:"","close-label":"Close Alert",class:"mb-6",color:a(d)},{default:o(()=>[b(_(a(M)),1)]),_:1},8,["modelValue","color"]),t(le,{title:"Filters",class:"mb-6"},{default:o(()=>[t(oe,null,{default:o(()=>[t(E,null,{default:o(()=>[t(v,{cols:"12",sm:"4"},{default:o(()=>[t(c,{modelValue:a(G),"onUpdate:modelValue":[e[1]||(e[1]=s=>w(G)?G.value=s:null),O],placeholder:"Status",items:a(ge),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),t(v,{cols:"12",sm:"4"},{default:o(()=>[t(c,{modelValue:a(W),"onUpdate:modelValue":[e[2]||(e[2]=s=>w(W)?W.value=s:null),O],placeholder:"Media",items:a(ke),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),t(v,{cols:"12",sm:"4"},{default:o(()=>[t(c,{modelValue:a(J),"onUpdate:modelValue":[e[3]||(e[3]=s=>w(J)?J.value=s:null),O],placeholder:"Checked",items:a(_e),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),t(Y,{class:"my-4"}),f("div",na,[f("div",da,[t(u,{modelValue:a(Q),"onUpdate:modelValue":e[4]||(e[4]=s=>w(Q)?Q.value=s:null),placeholder:"Search Tasks",density:"compact",style:{"inline-size":"200px"},class:"me-3",onInput:O},null,8,["modelValue"])]),t(Je),f("div",ua,[t(c,{modelValue:a(k),"onUpdate:modelValue":e[5]||(e[5]=s=>w(k)?k.value=s:null),items:[5,10,20,25,50]},null,8,["modelValue"]),t(N,{variant:"tonal",color:"secondary","prepend-icon":"tabler-upload"},{default:o(()=>e[11]||(e[11]=[b(" Export ")])),_:1}),a(A)(2).value?(h(),U(N,{key:0,color:"primary","prepend-icon":"tabler-plus",onClick:e[6]||(e[6]=()=>{I.value="add",S.value={},D.value=!0})},{default:o(()=>e[12]||(e[12]=[b(" Add New Task ")])),_:1})):q("",!0)])]),t(Y,{class:"mt-4"}),t(a(Qe),{"items-per-page":a(k),"onUpdate:itemsPerPage":e[8]||(e[8]=s=>w(k)?k.value=s:null),page:a(T),"onUpdate:page":e[9]||(e[9]=s=>w(T)?T.value=s:null),headers:be,"show-select":"",items:a(Ve),"items-length":a(X),class:"text-no-wrap","onUpdate:options":ve},{"item.name":o(({item:s})=>[f("div",ma,[t(ae,{size:"38",variant:"tonal",rounded:""},{default:o(()=>[t(Xe,{src:`/images/plans/${s.project_plan.subject}.png`},null,8,["src"])]),_:2},1024),f("div",ca,[f("span",pa,_(s.name.substring(0,30)),1),f("span",fa,_(s.project_plan.theme)+" by "+_(s.admin_student.nickname),1)])])]),"item.media":o(({item:s})=>{var g;return[t(ae,{size:"30",variant:"tonal",color:(g=re(s.media))==null?void 0:g.color,class:"me-2"},{default:o(()=>{var P;return[t(Z,{icon:(P=re(s.media))==null?void 0:P.icon,size:"18"},null,8,["icon"])]}),_:2},1032,["color"]),f("span",va,_(s.media),1)]}),"item.rate":o(({item:s})=>[t(fe,{modelValue:s.rate,"onUpdate:modelValue":g=>s.rate=g,size:"x-small",density:"compact","half-increments":"",color:s.rate==0?"secondary":"warning",readonly:""},null,8,["modelValue","onUpdate:modelValue","color"])]),"item.semester":o(({item:s})=>[b(_(s.semester),1)]),"item.id":o(({item:s})=>[b(_(s.id),1)]),"item.status":o(({item:s})=>[t(ue,ee(ye(s.status),{density:"default",label:""}),null,16)]),"item.actions":o(({item:s})=>[t(V,{disabled:!a(A)(2).value,color:a(A)(2).value?"primary":"secondary",onClick:g=>m(s)},{default:o(()=>[t(Z,{icon:"tabler-edit"})]),_:2},1032,["disabled","color","onClick"]),t(V,null,{default:o(()=>[t(Z,{icon:"tabler-dots-vertical"}),t(Ze,{activator:"parent"},{default:o(()=>[t(Ke,null,{default:o(()=>{var g;return[a(j)(4,((g=a(i).value)==null?void 0:g.admin_teacher_id)??"X").value?(h(),U(te,{key:0,value:"review","prepend-icon":"tabler-circle-check",onClick:P=>r(s)},{default:o(()=>e[13]||(e[13]=[b(" Review ")])),_:2},1032,["onClick"])):q("",!0),a(A)(4).value?(h(),U(te,{key:1,value:"delete","prepend-icon":"tabler-trash",onClick:P=>Te(s.id)},{default:o(()=>e[14]||(e[14]=[b(" Delete ")])),_:2},1032,["onClick"])):q("",!0),a(A)(2).value?(h(),U(te,{key:2,value:"duplicate","prepend-icon":"tabler-copy",onClick:P=>x(s)},{default:o(()=>e[15]||(e[15]=[b(" Duplicate ")])),_:2},1032,["onClick"])):q("",!0)]}),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:o(()=>[t(Y),f("div",Va,[f("p",ka,_(a(Ge)({page:a(T),itemsPerPage:a(k)},a(X))),1),t(ea,{modelValue:a(T),"onUpdate:modelValue":e[7]||(e[7]=s=>w(T)?T.value=s:null),length:Math.min(Math.ceil(a(X)/a(k)),5),"total-visible":l.$vuetify.display.xs?1:Math.min(Math.ceil(a(X)/a(k)),5)},{prev:o(s=>[t(N,ee({variant:"tonal",color:"default"},s,{icon:!1}),{default:o(()=>e[16]||(e[16]=[b(" Previous ")])),_:2},1040)]),next:o(s=>[t(N,ee({variant:"tonal",color:"default"},s,{icon:!1}),{default:o(()=>e[17]||(e[17]=[b(" Next ")])),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),t(ta,{"is-drawer-open":a(D),"onUpdate:isDrawerOpen":e[10]||(e[10]=s=>w(D)?D.value=s:null),mode:a(I),"task-data":a(S),onTaskData:he},null,8,["is-drawer-open","mode","task-data"])])}}},kt=je(ga,[["__scopeId","data-v-01ac9b36"]]);export{kt as default};
