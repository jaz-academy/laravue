import{a as S}from"./formatters-a720d60e.js";import{u as b,f as B,d as H}from"./fetchProjectData-f6ddb1d6.js";import{N as D,F as z}from"./front-page-navbar-baf37ff2.js";import{_ as E}from"./PostingCard-58688371.js";import{r as s,H as M,cZ as P,e$ as $,a as U,o as r,c as i,b as a,d as w,e as o,F as f,i as T,f as p,x as u,n as q,v,z as x,bU as O}from"./main-7a04a4cc.js";import{V as N}from"./VCol-3541d7c7.js";import{V as R}from"./VCard-c1d86edf.js";import{V as W,b as Y,c as Z,a as G}from"./VList-b9dbaad8.js";import{V as J}from"./VAvatar-a8f8d7de.js";import{V as K}from"./VImg-785fe2da.js";import{V as Q}from"./VRow-9ddfb65a.js";import{V as X}from"./VDivider-cd55d271.js";import"./helpers-929cea30.js";import"./no-profile-4221a4a6.js";import"./useApi-c87e68ce.js";import"./AppTextField-07b9446e.js";import"./form-41eb478e.js";import"./VTextField-8b5d0ff7.js";/* empty css                   */import"./VCounter-9d080591.js";import"./VField-eef30866.js";import"./easing-9f15041e.js";import"./VInput-5d1e9d15.js";import"./forwardRefs-8348545e.js";import"./VNodeRenderer-d7a79f84.js";import"./useGenerateImageVariant-37117b74.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./VForm-eac8e6b7.js";import"./VChip-6b0b1728.js";import"./VContainer-8c924c7c.js";import"./NavbarThemeSwitcher-b508b743.js";import"./VTooltip-1bea080d.js";import"./VOverlay-7dfacdbb.js";import"./lazy-916f73d1.js";import"./scopeId-e82d8d9c.js";import"./VMenu-78d9b91a.js";import"./dialog-transition-839434e1.js";import"./ssrBoot-30a14e97.js";import"./VNavigationDrawer-009b1c33.js";import"./VToolbar-e301be9c.js";import"./VSpacer-37678a41.js";import"./AppTextarea-e5ed6071.js";import"./AppSelect-c5fa0cad.js";import"./VSelect-5fc0c42c.js";import"./VCheckboxBtn-e67cbaff.js";import"./VSelectionControl-ff913cdc.js";import"./GDriveEmbed-1ab149e8.js";import"./InstagramEmbed-477815bb.js";import"./fetchTeacherData-087129c0.js";import"./api-272becb3.js";import"./index-d1c1b48d.js";import"./index-9c720871.js";import"./VCardText-89ccd074.js";import"./VRating-651986d6.js";import"./VAlert-5ede27f5.js";const ee={class:"landing-page-wrapper"},te={class:"upload-card"},ae={key:1},re={class:"py-4 text-center text-gray-400"},oe={key:0,class:"flex justify-center items-center my-4 mt-6"},nt={__name:"upload",setup(se){const n=s(null),_=s([]),m=s(!1),k=s(2);console.log("uploadTask:",b.value),M(async()=>{var t;await B(),n.value=(t=b.value)==null?void 0:t.data,n.value&&h(),window.addEventListener("scroll",j)});const j=async()=>{var c;const t=window.scrollY+window.innerHeight,d=document.documentElement.scrollHeight-10;if(t>=d&&!m.value){m.value=!0;const e=await H(k.value++);(c=e.data)!=null&&c.length&&(n.value.push(...e.data),h()),m.value=!1}};function h(){_.value=[{type:"subheader",title:"Best of the Week"},...n.value.filter(t=>t.rate>=4).flatMap(t=>[{prependAvatar:P,students:t.students||[],subtitle:t.name||"No Task Name"},{type:"divider",inset:!0}])]}const y=s(),C=s(),L=s(),A=s(),F=s(),I=s();return $([C,L,A,F,I],([{isIntersecting:t,target:d}])=>{t&&(y.value=d.id)},{threshold:.25}),(t,d)=>{const c=U("VSubheader");return r(),i("div",ee,[a(D,{"active-id":y.value},null,8,["active-id"]),w("div",te,[a(Q,{class:"m-0 p-0"},{default:o(()=>[a(N,{class:"d-none d-lg-block",cols:"12",lg:"3"},{default:o(()=>[a(R,{style:{position:"sticky","inset-block-start":"6rem"}},{default:o(()=>[a(W,{lines:"three"},{default:o(()=>[(r(!0),i(f,null,T(_.value,(e,l)=>(r(),i(f,{key:l},[e.prependAvatar?(r(),p(G,{key:0,class:"custom-list-item"},{prepend:o(()=>[a(J,{size:"34",variant:"tonal",color:"primary",class:"me-1 mt-2"},{default:o(()=>[e.students[0].image?(r(),p(K,{key:0,src:e.students[0].image},null,8,["src"])):(r(),i("span",ae,u(("avatarText"in t?t.avatarText:q(S))(e.students[0].nickname)),1))]),_:2},1024)]),default:o(()=>[a(Y,null,{default:o(()=>[v(u(e.students.length>1?e.students[0].nickname+" And "+(e.students.length-1)+" others":e.students[0].name),1)]),_:2},1024),a(Z,null,{default:o(()=>[v(u(e.subtitle),1)]),_:2},1024)]),_:2},1024)):e.type==="divider"?(r(),p(X,{key:`divider-${l}`,inset:""})):e.type==="subheader"?(r(),p(c,{key:2,class:"ps-3 mb-2 font-weight-medium text-primary"},{default:o(()=>[v(u(e.title),1)]),_:2},1024)):x("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),a(N,{cols:"12",lg:"9"},{default:o(()=>[(r(!0),i(f,null,T(n.value,e=>{var l,g,V;return r(),i("div",{key:e.id},[a(E,{"task-id":e.id,"task-name":e.name,description:e.description,subject:e.project_plan.subject,theme:e.project_plan.theme,stars:e.rate,media:e.media,"post-id":((g=(l=e.link)==null?void 0:l.match(/\/d\/(.*?)\//))==null?void 0:g[1])||"N/A",students:e.students,teacher:e.admin_teacher?{id:e.admin_teacher.id,name:e.admin_teacher.nickname}:"Not Accepted","teacher-img":(V=e.admin_teacher)==null?void 0:V.image,accepted:e.accepted,review:(e==null?void 0:e.review)||null},null,8,["task-id","task-name","description","subject","theme","stars","media","post-id","students","teacher","teacher-img","accepted","review"])])}),128))]),_:1})]),_:1}),w("div",re,[!n.value||m.value?(r(),i("div",oe,[a(O,{size:50,color:"primary",indeterminate:""})])):x("",!0)])]),a(z)])}}};export{nt as default};
