import{h as D}from"./helpers-00da9b75.js";import{f as G,m as v,a as F}from"./fetchMemberData-46f174a2.js";import{a as C}from"./no-profile-4221a4a6.js";import{H as R,n as d,o as u,f,e as s,b as t,fa as J,d as e,x as l,a0 as p,z as S,c as h,F as V,v as w,i as T,$ as K,fb as Q,aZ as X,a5 as q,w as ee,ai as te,j as se,aU as H}from"./main-67b8cec6.js";import{V as M}from"./VImg-3c3e7f31.js";import{V as b}from"./VCardText-61e3901b.js";import{V as x}from"./VAvatar-42bec599.js";import{V as j,a as P,b as N}from"./VCard-70db4173.js";import{_ as Y}from"./_plugin-vue_export-helper-c27b6911.js";import{V as B,a as E,b as g}from"./VList-20a5129c.js";import{_ as U}from"./MoreBtn-c517e907.js";import{V as ae,a as le}from"./VTimelineItem-081a98f9.js";import{a as z,V as A}from"./VRow-0e61bfb6.js";import{f as Z,e as ne,a as I}from"./fetchProjectData-76f8cb46.js";import{V as ie}from"./VDivider-e0fd92b0.js";import{V as oe}from"./VChip-177f961c.js";import{V as re}from"./VTooltip-11975216.js";import{c as O}from"./formatters-fcc80aa5.js";import{f as de,s as W}from"./fetchStudentData-312c3abc.js";import{V as me}from"./VRating-915c4df7.js";import{a as ce,V as ue}from"./VTabs-a812f04c.js";import{a as L,V as _e}from"./VWindowItem-2ff724fb.js";import"./useApi-651d1cd8.js";import"./ssrBoot-74d8f6b8.js";import"./VMenu-3a17e05d.js";import"./VOverlay-1200b457.js";import"./easing-9f15041e.js";import"./lazy-0c0b49da.js";import"./scopeId-dd1b16f6.js";import"./forwardRefs-8348545e.js";import"./dialog-transition-df011ef4.js";import"./VSlideGroup-01c71098.js";const pe={class:"d-flex h-0"},fe={class:"user-profile-info w-100 mt-16 pt-6 pt-sm-0 mt-sm-0"},ge={class:"text-h5 text-center text-sm-start font-weight-medium mb-3"},ve={class:"d-flex align-center justify-center justify-sm-space-between flex-wrap gap-4"},xe={class:"d-flex flex-wrap justify-center justify-sm-start flex-grow-1 gap-4"},he={class:"d-flex"},be={class:"text-body-1"},ye={class:"d-flex"},$e={class:"text-body-1"},we={class:"d-flex"},Ve={class:"text-body-1"},je={__name:"UserProfileHeader",setup(y){return R(()=>{G()}),(_,c)=>d(v)?(u(),f(j,{key:0},{default:s(()=>[t(M,{src:d(J),"min-height":"125","max-height":"250",cover:""},null,8,["src"]),t(b,{class:"d-flex align-bottom flex-sm-row flex-column justify-center gap-x-5"},{default:s(()=>{var a,i,r,o,n,m;return[e("div",pe,[(a=d(v))!=null&&a.image?(u(),f(x,{key:0,rounded:"",size:"120",image:`/storage/${d(v).image}`,class:"user-profile-avatar mx-auto"},null,8,["image"])):(u(),f(x,{key:1,rounded:"",size:"120",image:d(C),class:"user-profile-avatar mx-auto"},null,8,["image"]))]),e("div",fe,[e("h5",ge,l((i=d(v))==null?void 0:i.name),1),e("div",ve,[e("div",xe,[e("span",he,[t(p,{size:"20",icon:"tabler-color-swatch",class:"me-1"}),e("span",be,l(((r=d(v))==null?void 0:r.role)||((o=d(v))==null?void 0:o.note)),1)]),e("span",ye,[t(p,{size:"20",icon:"tabler-map-pin",class:"me-1"}),e("span",$e,l((n=d(v))==null?void 0:n.city),1)]),e("span",we,[t(p,{size:"20",icon:"tabler-calendar",class:"me-1"}),e("span",Ve,l(d(D)((m=d(v))==null?void 0:m.birth_date)),1)])])])])]}),_:1})]),_:1})):S("",!0)}};const ze={class:"d-flex align-items-center mt-4"},Te={class:"d-flex align-items-center mt-4"},Se={class:"d-flex align-items-center mt-4"},ke={class:"d-flex align-items-center mt-4"},Ae={class:"d-flex align-items-center mt-4"},De={class:"d-flex align-items-center mt-4"},Ce={class:"d-flex align-items-center mt-4"},Re={class:"d-flex align-items-center mt-4"},Be={class:"d-flex align-items-center mt-4"},Ie={class:"d-flex align-items-center mt-4"},Le={class:"d-flex align-items-center mt-4"},Me={class:"d-flex align-items-center mt-4"},Pe={__name:"About",props:{data:{type:null,required:!0}},setup(y){const _=y;return(c,a)=>(u(),h(V,null,[t(j,{class:"mb-4"},{default:s(()=>[t(b,null,{default:s(()=>[a[9]||(a[9]=e("p",{class:"text-xs"}," ABOUT ",-1)),t(B,{class:"card-list text-medium-emphasis"},{default:s(()=>[t(E,null,{default:s(()=>[e("div",ze,[t(p,{size:"20",class:"me-2",icon:"tabler-user"}),t(g,null,{default:s(()=>[a[0]||(a[0]=e("span",{class:"font-weight-medium me-1"},"Name:",-1)),e("span",null,l(_.data.name),1)]),_:1})]),e("div",Te,[t(p,{size:"20",class:"me-2",icon:"tabler-check"}),t(g,null,{default:s(()=>[a[1]||(a[1]=e("span",{class:"font-weight-medium me-1"},"Status:",-1)),e("span",null,l(_.data.registered?"Active":"Suspend"),1)]),_:1})]),e("div",Se,[t(p,{size:"20",class:"me-2",icon:"tabler-crown"}),t(g,null,{default:s(()=>[a[2]||(a[2]=e("span",{class:"font-weight-medium me-1"},"Gender:",-1)),e("span",null,l(_.data.gender),1)]),_:1})]),e("div",ke,[t(p,{size:"20",class:"me-2",icon:"tabler-calendar"}),t(g,null,{default:s(()=>[a[3]||(a[3]=e("span",{class:"font-weight-medium me-1"},"Birth:",-1)),e("span",null,l(d(D)(_.data.birth_date)),1)]),_:1})]),e("div",Ae,[t(p,{size:"20",class:"me-2",icon:"tabler-location"}),t(g,null,{default:s(()=>[a[4]||(a[4]=e("span",{class:"font-weight-medium me-1"},"Place:",-1)),e("span",null,l(_.data.birth_place),1)]),_:1})]),e("div",De,[t(p,{size:"20",class:"me-2",icon:"tabler-flag"}),t(g,null,{default:s(()=>a[5]||(a[5]=[e("span",{class:"font-weight-medium me-1"},"Language:",-1),e("span",null,"Indonesia",-1)])),_:1})])]),_:1})]),_:1}),a[10]||(a[10]=e("p",{class:"text-xs mt-8"}," CONTACTS ",-1)),t(B,{class:"card-list text-medium-emphasis"},{default:s(()=>[t(E,null,{default:s(()=>[e("div",Ce,[t(p,{size:"20",class:"me-2",icon:"tabler-phone"}),t(g,null,{default:s(()=>[a[6]||(a[6]=e("span",{class:"font-weight-medium me-1"},"Phone:",-1)),e("span",null,l(_.data.own_phone||_.data.phone),1)]),_:1})]),e("div",Re,[t(p,{size:"20",class:"me-2",icon:"tabler-mail"}),t(g,null,{default:s(()=>[a[7]||(a[7]=e("span",{class:"font-weight-medium me-1"},"Email:",-1)),e("span",null,l(_.data.email),1)]),_:1})]),e("div",Be,[t(p,{size:"20",class:"me-2",icon:"tabler-brand-instagram"}),t(g,null,{default:s(()=>[a[8]||(a[8]=e("span",{class:"font-weight-medium me-1"},"Instagram:",-1)),e("span",null,l(_.data.instagram),1)]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),t(j,null,{default:s(()=>[t(b,null,{default:s(()=>[a[14]||(a[14]=e("p",{class:"text-xs"}," OVERVIEW ",-1)),t(B,{class:"card-list text-medium-emphasis"},{default:s(()=>[e("div",Ie,[t(p,{size:"20",class:"me-2",icon:"tabler-device-gamepad-2"}),t(g,null,{default:s(()=>[a[11]||(a[11]=e("span",{class:"font-weight-medium me-1"},"Hobby:",-1)),e("span",null,l(_.data.hobby),1)]),_:1})]),e("div",Le,[t(p,{size:"20",class:"me-2",icon:"tabler-swimming"}),t(g,null,{default:s(()=>[a[12]||(a[12]=e("span",{class:"font-weight-medium me-1"},"Sport:",-1)),e("span",null,l(_.data.sport),1)]),_:1})]),e("div",Me,[t(p,{size:"20",class:"me-2",icon:"tabler-target-arrow"}),t(g,null,{default:s(()=>[a[13]||(a[13]=e("span",{class:"font-weight-medium me-1"},"Goal:",-1)),e("span",null,l(_.data.ambition),1)]),_:1})])]),_:1})]),_:1})]),_:1})],64))}},Ne=Y(Pe,[["__scopeId","data-v-13c1378b"]]);const Ue={class:"d-flex justify-space-between align-center flex-wrap"},Fe={class:"app-timeline-title"},He={class:"app-timeline-meta"},Ee={class:"d-flex justify-space-between align-center flex-wrap"},Oe={class:"app-timeline-text mb-2"},We=["href"],Ge={key:0,class:"d-flex align-center mt-3"},qe={class:"text-sm font-weight-medium mb-1"},Ye={class:"app-timeline-meta"},Ze={__name:"ActivityTimeline",setup(y){return console.log(F),(_,c)=>{const a=U;return u(),f(j,null,{default:s(()=>[t(P,null,{prepend:s(()=>[t(p,{icon:"tabler-timeline"})]),append:s(()=>[e("div",null,[t(a,{"menu-list":[{title:"Share timeline",value:"Share timeline"},{title:"Suggest edits",value:"Suggest edits"},{title:"Report bug",value:"Report bug"}]})])]),default:s(()=>[t(N,null,{default:s(()=>c[0]||(c[0]=[w("Activity Timeline")])),_:1})]),_:1}),t(b,{class:"scrollable-card"},{default:s(()=>[t(ae,{density:"compact",align:"start","truncate-line":"both",class:"v-timeline-density-compact"},{default:s(()=>[(u(!0),h(V,null,T(d(F),i=>(u(),f(le,{key:i.id,"dot-color":i.rate>0?"primary":"secondary",size:"x-small"},{default:s(()=>{var r,o,n;return[e("div",Ue,[e("span",Fe,l(i.name),1),e("span",He,l(d(D)(i.date)),1)]),e("div",Ee,[e("span",Oe,l((r=i.project_plan)==null?void 0:r.subject)+" - "+l(i==null?void 0:i.media)+" - "+l((o=i.project_plan)==null?void 0:o.theme),1),e("a",{href:`/?search=${i.id}`,class:"app-timeline-text"},l(i.id),9,We)]),i.rate>0?(u(),h("div",Ge,[t(x,{size:"38",class:"me-3",image:d(C)},null,8,["image"]),e("div",null,[e("h6",qe,l((n=i.admin_teacher)==null?void 0:n.name),1),e("p",Ye,l(i==null?void 0:i.review),1)])])):S("",!0)]}),_:2},1032,["dot-color"]))),128))]),_:1})]),_:1})]),_:1})}}},Je=Y(Ze,[["__scopeId","data-v-ff80cc09"]]),Ke={__name:"index",setup(y){return R(()=>{G(),console.log("member: ",v)}),(_,c)=>d(v)?(u(),f(A,{key:0},{default:s(()=>[t(z,{md:"4",cols:"12"},{default:s(()=>[t(Ne,{data:d(v)},null,8,["data"])]),_:1}),t(z,{cols:"12",md:"8"},{default:s(()=>[t(A,null,{default:s(()=>[t(z,{cols:"12"},{default:s(()=>[t(Je)]),_:1})]),_:1})]),_:1})]),_:1})):S("",!0)}},Qe={class:"mb-0"},Xe={class:"mt-n8 me-n3"},et={class:"mt-4 mb-0 clamp-text"},tt={class:"d-flex align-center justify-space-between flex-wrap gap-2"},st={class:"text-base font-weight-medium"},at={class:"text-body-1"},lt={class:"d-flex align-center justify-space-between flex-wrap text-sm mt-4 mb-2"},nt={class:"d-flex align-center justify-space-between flex-wrap gap-2 mt-3"},it={class:"d-flex align-center"},ot={class:"v-avatar-group me-2"},rt={class:"text-xs"},dt={__name:"index",setup(y){const _=K("userData");R(()=>{Z()});function c(r){const o=r.reduce((n,m)=>(n.has(m.admin_student_id)||n.set(m.admin_student_id,m),n),new Map);return Array.from(o.values())}function a(r,o){return r.some(n=>n.admin_student_id===o)}const i=[{title:"View Details",value:"View Details"},{title:"Add to favorites",value:"Add to favorites"},{type:"divider",class:"my-2"},{title:"Leave Project",value:"Leave Project",class:"text-error"}];return(r,o)=>{const n=U;return u(),f(A,null,{default:s(()=>[(u(!0),h(V,null,T(d(ne).filter(m=>new Date(m.end_date)>=new Date),m=>(u(),f(z,{key:m.id,cols:"12",sm:"6",lg:"4"},{default:s(()=>[t(j,null,{default:s(()=>[t(P,null,{prepend:s(()=>[t(x,{image:d(Q)},null,8,["image"])]),append:s(()=>[e("div",Xe,[t(n,{"item-props":"","menu-list":i})])]),default:s(()=>[t(N,null,{default:s(()=>[w(l(m.theme),1)]),_:2},1024),e("p",Qe,[o[0]||(o[0]=e("span",{class:"font-weight-medium me-1"},"Subject:",-1)),e("span",null,l(m.subject),1)])]),_:2},1024),t(b,null,{default:s(()=>[e("p",et,l(m.description),1)]),_:2},1024),t(ie),t(b,null,{default:s(()=>{var k;return[e("div",tt,[e("h6",st,[o[1]||(o[1]=w(" Deadline: ")),e("span",at,l(d(D)(m.end_date,"ddd d MMM yyyy")),1)]),t(oe,{label:"",color:a(m.project_task,((k=d(_).value)==null?void 0:k.admin_student_id)??0)?"success":"error",size:"small"},{default:s(()=>{var $;return[w(l(a(m.project_task,(($=d(_).value)==null?void 0:$.admin_student_id)??0)?"I'm done":"Not doing Yet"),1)]}),_:2},1032,["color"])]),e("div",lt,[o[2]||(o[2]=e("span",null,"All member doing",-1)),e("span",null,l(Math.round(c(m.project_task).length/20*100))+"%",1)]),t(X,{rounded:"","rounded-bar":"",height:"8","model-value":c(m.project_task).length,max:20,color:"primary"},null,8,["model-value"]),e("div",nt,[e("div",it,[e("div",ot,[(u(!0),h(V,null,T(c(m.project_task).slice(0,10),$=>(u(),f(x,{key:$.id,color:"info",size:32},{default:s(()=>[$.admin_student.image?(u(),f(M,{key:0,src:`/storage/${$.admin_student.image}`,cover:""},null,8,["src"])):(u(),f(M,{key:1,src:d(C)},null,8,["src"])),t(re,{location:"top",activator:"parent"},{default:s(()=>[w(l($.admin_student.name),1)]),_:2},1024)]),_:2},1024))),128)),c(m.project_task).length>10?(u(),f(x,{key:0,color:"secondary",size:"32"},{default:s(()=>[e("span",rt,"+"+l(c(m.project_task).length-10),1)]),_:2},1024)):S("",!0)]),o[3]||(o[3]=e("span",{class:"text-xs"},null,-1))])])]}),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})}}};const mt={class:"vertical-more"},ct={class:"text-center"},ut={class:"text-h4"},_t={class:"text-h6"},pt={class:"d-flex justify-space-around"},ft={class:"text-center"},gt={class:"text-h4"},vt={class:"text-center"},xt={class:"text-h4"},ht={class:"text-center"},bt={class:"text-h4"},yt={class:"d-flex justify-center gap-4 mt-5"},$t={__name:"index",setup(y){R(()=>{de(),Z()});const _=i=>(I.value??[]).filter(r=>r.admin_student_id===i).length,c=i=>{const r=(I.value??[]).filter(m=>m.admin_student_id===i),o=r.reduce((m,k)=>m+(parseFloat(k.rate)||0),0),n=r.length?o/r.length:0;return{totalRate:o,avgRate:n}},a=q(()=>(W.value??[]).filter(i=>i.graduation===null).slice().sort((i,r)=>c(r.id).avgRate-c(i.id).avgRate));return ee(I,i=>{console.log("All tasks updated:",i)}),(i,r)=>{const o=U;return d(W).length?(u(),f(A,{key:0},{default:s(()=>[(u(!0),h(V,null,T(a.value,n=>(u(),f(z,{key:n.id,sm:"6",md:"4",lg:"3",cols:"12"},{default:s(()=>[t(j,null,{default:s(()=>[e("div",mt,[t(o,{"menu-list":[{title:"Share connection",value:"Share connection"},{title:"Block connection",value:"Block connection"},{type:"divider",class:"my-2"},{title:"Delete",value:"Delete",class:"text-error"}],"item-props":""})]),t(P,null,{default:s(()=>[t(N,{class:"d-flex flex-column align-center justify-center gap-y-5"},{default:s(()=>[n!=null&&n.image?(u(),f(x,{key:0,size:"100",image:`/storage/${n.image}`},null,8,["image"])):(u(),f(x,{key:1,size:"100",image:d(C)},null,8,["image"])),e("div",ct,[e("h4",ut,l(d(O)(n.name,15,2)),1),e("h6",_t,l(n.role?d(O)(n.role,20,2):"Content Creator"),1)])]),_:2},1024)]),_:2},1024),t(b,{class:"text-center"},{default:s(()=>[t(me,{"model-value":c(n.id).avgRate,"half-increments":"",hover:""},null,8,["model-value"])]),_:2},1024),t(b,null,{default:s(()=>{var m;return[e("div",pt,[e("div",ft,[e("h4",gt,l(_(n.id)),1),r[0]||(r[0]=e("span",{class:"text-body-1"},"Tasks",-1))]),e("div",vt,[e("h4",xt,l(c(n.id).totalRate),1),r[1]||(r[1]=e("span",{class:"text-body-1"},"Stars",-1))]),e("div",ht,[e("h4",bt,l(c(n.id).avgRate.toFixed(1)),1),r[2]||(r[2]=e("span",{class:"text-body-1"},"Average",-1))])]),e("div",yt,[t(te,{"prepend-icon":"tabler-user-check",variant:(((m=d(v))==null?void 0:m.registered)??!1)===((n==null?void 0:n.registered)??!1)?"elevated":"tonal"},{default:s(()=>[w(l(n==null?void 0:n.registered),1)]),_:2},1032,["variant"])])]}),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):S("",!0)}}},ts={__name:"[tab]",setup(y){const _=se(),c=q({get:()=>_.params.tab,set:()=>_.params.tab}),a=[{title:"Overview",icon:"tabler-user-check",tab:"overview"},{title:"Projects",icon:"tabler-layout-grid",tab:"projects"},{title:"Stars",icon:"tabler-star-filled",tab:"stars"}];return(i,r)=>(u(),h("div",null,[t(je,{class:"mb-5"}),t(ue,{modelValue:d(c),"onUpdate:modelValue":r[0]||(r[0]=o=>H(c)?c.value=o:null),class:"v-tabs-pill"},{default:s(()=>[(u(),h(V,null,T(a,o=>t(ce,{key:o.icon,value:o.tab,to:{name:"profile-user-tab",params:{tab:o.tab}}},{default:s(()=>[t(p,{size:"20",start:"",icon:o.icon},null,8,["icon"]),w(" "+l(o.title),1)]),_:2},1032,["value","to"])),64))]),_:1},8,["modelValue"]),t(_e,{modelValue:d(c),"onUpdate:modelValue":r[1]||(r[1]=o=>H(c)?c.value=o:null),class:"mt-5 disable-tab-transition",touch:!1},{default:s(()=>[t(L,{value:"overview"},{default:s(()=>[t(Ke)]),_:1}),t(L,{value:"projects"},{default:s(()=>[t(dt)]),_:1}),t(L,{value:"stars"},{default:s(()=>[t($t)]),_:1})]),_:1},8,["modelValue"])]))}};export{ts as default};
