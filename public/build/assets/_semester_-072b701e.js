import{h as L}from"./helpers-929cea30.js";import{V as M}from"./VNodeRenderer-d7a79f84.js";import{j,a5 as v,b5 as E,n as d,o as m,c as p,b as n,e as u,z as f,d as e,I as F,v as _,x as l,a0 as R,F as K,i as U}from"./main-7a04a4cc.js";import{u as y}from"./useApi-c87e68ce.js";import{V as $}from"./VRow-9ddfb65a.js";import{V as O}from"./VCol-3541d7c7.js";import{V as G}from"./VCard-c1d86edf.js";import{V as x}from"./VCardText-89ccd074.js";import{V as b}from"./VDivider-cd55d271.js";import{V as H}from"./VTable-97ab754e.js";import{V as J}from"./VSpacer-37678a41.js";import"./no-profile-4221a4a6.js";import"./VAvatar-a8f8d7de.js";import"./VImg-785fe2da.js";const q={key:0},Q={key:0,class:"ma-sm-4"},X={class:"d-flex align-center mb-6"},Y={class:"mb-0"},Z={class:"my-2"},ee={class:"mb-0"},te={key:1,class:"mt-4 ma-sm-4 text-end"},se={class:"font-weight-medium text-h4"},ae={class:"my-3 font-weight-medium text-h5"},le={class:"mb-0"},ne={class:"mb-0"},oe={key:0,class:"font-weight-medium text-h5"},re={class:"text-center"},de={class:"text-center"},ue={class:"d-none d-md-table-cell"},ce={class:"my-4 mx-sm-4"},ie={class:"text-base font-weight-medium"},me={class:"font-weight-bold"},pe={key:0,class:"my-4 mx-sm-4 text-end"},Ce={__name:"[semester]",async setup(_e){var D;let h,V;const w=j(),k=Number(w.params.id),A=w.params.semester,B=v(()=>{let a=`/scores-by-person?student_id=${k}`;return A&&(a+=`&semester=${A}`),a}),[{data:o},{data:P},{data:T}]=([h,V]=E(()=>Promise.all([y(B),y(`/students/${k}`),y("/schools")])),h=await h,V(),h),c=v(()=>{var a;return(a=P.value)==null?void 0:a.data}),r=v(()=>{var a;return(a=T.value)==null?void 0:a.data}),W=v(()=>{var s;return!((s=o.value)!=null&&s.data)||o.value.data.length===0?0:(o.value.data.reduce((t,i)=>t+(i.final_score||0),0)/o.value.data.length).toFixed(2)});console.log((D=o.value)==null?void 0:D.data);const z=a=>a>=95?"A+":a>=90?"A":a>=85?"A-":a>=80?"B":a>=75?"B-":a>=70?"C+":a>=65?"C":a>=60?"C-":"D",g=a=>{switch(a){case 3:return"Sangat mampu";case 2:return"Mampu";case 1:return"Perlu bimbingan dalam";case 0:return"Belum mampu";default:return""}};return(a,s)=>d(o)&&c.value&&r.value?(m(),p("section",q,[n($,null,{default:u(()=>[n(O,{cols:"12"},{default:u(()=>[n(G,null,{default:u(()=>[n(x,{class:"d-flex flex-wrap justify-space-between flex-column flex-sm-row print-row"},{default:u(()=>{var t,i,I,N,C,S;return[(t=r.value)!=null&&t.length?(m(),p("div",Q,[e("div",X,[n(d(M),{nodes:d(F).app.logo,class:"me-3"},null,8,["nodes"]),s[0]||(s[0]=e("h6",{class:"font-weight-bold text-capitalize text-h4"}," Jaz Academy ",-1))]),e("p",Y,[_(l((i=r.value[0])==null?void 0:i.name)+" ✪ ",1),e("strong",null,l((I=r.value[0])==null?void 0:I.organization),1)]),e("p",Z,l((N=r.value[0])==null?void 0:N.address),1),e("p",ee,[n(R,{icon:"tabler-phone",class:"me-2"}),_(" "+l((C=r.value[0])==null?void 0:C.phone)+" ",1),n(R,{icon:"tabler-mail",class:"mx-2"}),_(" "+l((S=r.value[0])==null?void 0:S.email),1)])])):f("",!0),c.value?(m(),p("div",te,[e("h6",se,l(c.value.name),1),e("p",ae,[s[1]||(s[1]=e("span",null,"Angkatan : ",-1)),e("span",null,l(c.value.registered-2022),1)]),e("p",le,[s[2]||(s[2]=e("span",null,"Period : ",-1)),e("span",null,l(c.value.registered),1)]),e("p",ne,[s[3]||(s[3]=e("span",null,"NID : ",-1)),e("span",null,l(c.value.nis),1)])])):f("",!0)]}),_:1}),n(b),n(x,{class:"text-center"},{default:u(()=>[s[4]||(s[4]=e("h2",null,"LAPORAN HASIL STUDI",-1)),c.value?(m(),p("p",oe," Semester "+l(d(o).semester),1)):f("",!0)]),_:1}),n(b),n(H,{class:"invoice-preview-table"},{default:u(()=>[s[7]||(s[7]=e("thead",null,[e("tr",null,[e("th",{class:"d-none d-md-table-cell"}),e("th",{scope:"col"}," NO "),e("th",{scope:"col",class:"bidang-study"}," BIDANG STUDI "),e("th",{scope:"col",class:"text-center"}," NILAI "),e("th",{scope:"col",class:"text-center"}," PREDIKAT "),e("th",{scope:"col",class:"text-center d-none d-md-table-cell"}," DESKRIPSI "),e("th",{class:"d-none d-md-table-cell"})])],-1)),e("tbody",null,[(m(!0),p(K,null,U(d(o).data,t=>(m(),p("tr",{key:t.name,class:"py-2"},[s[5]||(s[5]=e("td",{class:"d-none d-md-table-cell"},null,-1)),e("td",null,l(t.number),1),e("td",null,[e("div",null,l(t.group),1),e("div",null,l(t.name),1)]),e("td",re,l(t.final_score),1),e("td",de,l(z(t.final_score)),1),e("td",ue,l(t.competence_1?g(t.is_ok_1)+" "+(t.competence_1.endsWith(".")||t.competence_1.endsWith(",")?t.competence_1:t.competence_1+"."):"")+" "+l(t.competence_2?g(t.is_ok_2)+" "+(t.competence_2.endsWith(".")||t.competence_2.endsWith(",")?t.competence_2:t.competence_2+"."):"")+" "+l(t.competence_3?g(t.is_ok_3)+" "+(t.competence_3.endsWith(".")||t.competence_3.endsWith(",")?t.competence_3:t.competence_3+"."):""),1),s[6]||(s[6]=e("td",{class:"d-none d-md-table-cell"},null,-1))]))),128))])]),_:1}),n(b,{class:"mb-2"}),n(x,{class:"d-flex justify-space-between flex-column flex-sm-row print-row"},{default:u(()=>{var t,i;return[e("div",ce,[e("h6",ie,[s[8]||(s[8]=_(" Nilai Rata-rata: ")),e("span",me,l(W.value),1)])]),n(J),(t=r.value)!=null&&t.length?(m(),p("div",pe,[_(" Tasikmalaya, "+l(("humanDate"in a?a.humanDate:d(L))(d(o).data[d(o).data.length-1].created_at,"d MMM yyyy"))+" ",1),s[9]||(s[9]=e("br",null,null,-1)),s[10]||(s[10]=_("✪ ")),e("strong",null,l((i=r.value[0])==null?void 0:i.organization),1)])):f("",!0)]}),_:1}),n(b),n(x,null,{default:u(()=>s[11]||(s[11]=[e("div",{class:"d-flex mx-sm-4"},[e("h6",{class:"text-base font-weight-medium me-1"}," Note: "),e("span",null,"Ilmu itu di dalam Dada.. Bukan diatas Kertas..")],-1)])),_:1})]),_:1})]),_:1})]),_:1})])):f("",!0)}};export{Ce as default};
