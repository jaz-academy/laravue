import{a as B}from"./formatters-fcc80aa5.js";import{u as w,f as H,d as D}from"./fetchProjectData-76f8cb46.js";import{N as z,F as E}from"./front-page-navbar-b18dfa77.js";import{_ as M}from"./PostingCard-85f24284.js";import{r as o,H as P,d7 as U,f8 as $,a as q,o as r,c as n,b as a,d as T,e as i,F as f,i as N,f as p,x as u,n as O,v,z as k,c1 as R}from"./main-67b8cec6.js";import{a as x,V as W}from"./VRow-0e61bfb6.js";import{V as Y}from"./VCard-70db4173.js";import{V as G,b as J,c as K,a as Q}from"./VList-20a5129c.js";import{V as X}from"./VAvatar-42bec599.js";import{V as Z}from"./VImg-3c3e7f31.js";import{V as ee}from"./VDivider-e0fd92b0.js";import"./helpers-00da9b75.js";import"./no-profile-4221a4a6.js";import"./useApi-651d1cd8.js";import"./AppTextField-6f67a54a.js";import"./form-e6998416.js";import"./VTextField-e3decb3d.js";/* empty css                   */import"./VCounter-6dd2f7e9.js";import"./VField-ddf3fe8e.js";import"./easing-9f15041e.js";import"./VInput-1124ae67.js";import"./forwardRefs-8348545e.js";import"./VNodeRenderer-8e7a69af.js";import"./useGenerateImageVariant-378af967.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./VForm-c2ca4555.js";import"./VChip-177f961c.js";import"./VContainer-3bd8077a.js";import"./NavbarThemeSwitcher-d42493a7.js";import"./VTooltip-11975216.js";import"./VOverlay-1200b457.js";import"./lazy-0c0b49da.js";import"./scopeId-dd1b16f6.js";import"./VMenu-3a17e05d.js";import"./dialog-transition-df011ef4.js";import"./ssrBoot-74d8f6b8.js";import"./VNavigationDrawer-da07dc00.js";import"./VToolbar-5d87cecf.js";import"./VSpacer-cb7c7677.js";import"./AppTextarea-1d0affaf.js";import"./AppSelect-90885faf.js";import"./VSelect-2e4a8d4f.js";import"./VCheckboxBtn-4186776c.js";import"./VSelectionControl-3490ebc3.js";import"./GDriveEmbed-200515ab.js";import"./InstagramEmbed-c19d31cb.js";import"./fetchTeacherData-125d1411.js";import"./api-ccb75bb2.js";import"./index-0245bbcf.js";import"./index-9c720871.js";import"./VCardText-61e3901b.js";import"./VRating-915c4df7.js";import"./VAlert-d324d98b.js";const te={class:"landing-page-wrapper"},ae={class:"upload-card"},re={key:1},ie={class:"py-4 text-center text-gray-400"},oe={key:0,class:"flex justify-center items-center my-4 mt-6"},nt={__name:"upload",setup(se){const m=o(null),_=o([]),d=o(!1),j=o(2);console.log("uploadTask:",w.value),P(async()=>{var t;await H(),m.value=(t=w.value)==null?void 0:t.data,m.value&&h(),window.addEventListener("scroll",C)});const C=async()=>{var c;const t=window.scrollY+window.innerHeight,s=document.documentElement.scrollHeight-10;if(t>=s&&!d.value){d.value=!0;const e=await D(j.value++);(c=e.data)!=null&&c.length&&(m.value.push(...e.data),h()),d.value=!1}};function h(){_.value=[{type:"subheader",title:"Best of the Week"},...m.value.filter(t=>t.rate>=4).flatMap(t=>{var s;return[{prependAvatar:U,title:((s=t.admin_student)==null?void 0:s.name)||"Unknown Student",subtitle:t.name||"No Task Name"},{type:"divider",inset:!0}]})]}const y=o(),L=o(),S=o(),F=o(),I=o(),A=o();return $([L,S,F,I,A],([{isIntersecting:t,target:s}])=>{t&&(y.value=s.id)},{threshold:.25}),(t,s)=>{const c=q("VSubheader");return r(),n("div",te,[a(z,{"active-id":y.value},null,8,["active-id"]),T("div",ae,[a(W,{class:"m-0 p-0"},{default:i(()=>[a(x,{class:"d-none d-lg-block",cols:"12",lg:"3"},{default:i(()=>[a(Y,{style:{position:"sticky","inset-block-start":"6rem"}},{default:i(()=>[a(G,{lines:"three"},{default:i(()=>[(r(!0),n(f,null,N(_.value,(e,l)=>(r(),n(f,{key:l},[e.prependAvatar?(r(),p(Q,{key:0,class:"custom-list-item"},{prepend:i(()=>[a(X,{size:"34",variant:"tonal",color:"primary",class:"me-3"},{default:i(()=>[t.avatar?(r(),p(Z,{key:0,src:t.avatar},null,8,["src"])):(r(),n("span",re,u(("avatarText"in t?t.avatarText:O(B))(e.title)),1))]),_:2},1024)]),default:i(()=>[a(J,null,{default:i(()=>[v(u(e.title),1)]),_:2},1024),a(K,null,{default:i(()=>[v(u(e.subtitle),1)]),_:2},1024)]),_:2},1024)):e.type==="divider"?(r(),p(ee,{key:`divider-${l}`,inset:""})):e.type==="subheader"?(r(),p(c,{key:2,class:"ps-3 mb-2 font-weight-medium text-primary"},{default:i(()=>[v(u(e.title),1)]),_:2},1024)):k("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),a(x,{cols:"12",lg:"9"},{default:i(()=>[(r(!0),n(f,null,N(m.value,e=>{var l,g,V,b;return r(),n("div",{key:e.id},[a(M,{"task-id":e.id,"task-name":e.name,description:e.description,subject:e.project_plan.subject,theme:e.project_plan.theme,stars:e.rate,media:e.media,"post-id":((g=(l=e.link)==null?void 0:l.match(/\/d\/(.*?)\//))==null?void 0:g[1])||"N/A","student-name":e.admin_student.name,nickname:e.admin_student.nickname,email:e.admin_student.email,teacher:e.admin_teacher?{id:e.admin_teacher.id,name:e.admin_teacher.nickname}:"Not Accepted","student-img":(V=e.admin_student)==null?void 0:V.image,"teacher-img":(b=e.admin_teacher)==null?void 0:b.image,accepted:e.accepted,review:(e==null?void 0:e.review)||null},null,8,["task-id","task-name","description","subject","theme","stars","media","post-id","student-name","nickname","email","teacher","student-img","teacher-img","accepted","review"])])}),128))]),_:1})]),_:1}),T("div",ie,[!m.value||d.value?(r(),n("div",oe,[a(R,{size:50,color:"primary",indeterminate:""})])):k("",!0)])]),a(E)])}}};export{nt as default};
