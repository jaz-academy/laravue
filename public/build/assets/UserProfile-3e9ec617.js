import{P as A}from"./vue3-perfect-scrollbar.esm-8e676bb4.js";import{k as $,$ as l,r as B,n as a,o as i,f as s,e as t,b as o,a0 as c,v as d,x as m,c as b,F as y,i as D,b3 as R,s as S,z as N}from"./main-37de545e.js";import{u as T}from"./useAbility-f473c84a.js";import{V}from"./VAvatar-93aa4262.js";import{V as k}from"./VImg-ab0ba356.js";import{V as z}from"./VMenu-77bc6832.js";import{V as F,a as h,b as I,c as M}from"./VList-002b35c7.js";import{V as U}from"./VListItemAction-b5af3efb.js";import{V as f}from"./VBadge-d4bd639a.js";import{V as q}from"./VDivider-bd657aeb.js";import"./VOverlay-f715a3c8.js";import"./easing-9f15041e.js";import"./lazy-f1e50cea.js";import"./scopeId-3f0b9f79.js";import"./forwardRefs-8348545e.js";import"./dialog-transition-4715d8ab.js";import"./ssrBoot-a125e40e.js";const ne={__name:"UserProfile",setup(E){const L=$(),P=T(),e=l("userData"),x=l("userAbilityRules").value[0],n=B({});e.value&&(e.value.admin_teacher_id&&e.value.admin_teacher_id>0?n.value={name:"profile-teacher-id-tab",params:{id:e.value.admin_teacher_id,tab:"account"}}:e.value.admin_student_id&&(n.value={name:"profile-student-id-tab",params:{id:e.value.admin_student_id,tab:"account"}}));const C=async()=>{l("accessToken").value=null,e.value=null,await L.push("/"),l("userAbilityRules").value=null,P.update([]),console.log("You Logged out!")},w=[{type:"divider"},{type:"navItem",icon:"tabler-users",title:"Users",to:{name:"profile-users"}},{type:"navItem",icon:"tabler-settings",title:"Account",to:n.value},{type:"navItem",icon:"tabler-help-circle",title:"Manual",to:{name:"pages-faq"}},{type:"divider"},{type:"navItem",icon:"tabler-logout",title:"Logout",onClick:C}];return(Y,j)=>a(e)?(i(),s(f,{key:0,dot:"",bordered:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success"},{default:t(()=>{var p,v;return[o(V,{class:"cursor-pointer overflow-hidden",color:(p=a(e))!=null&&p.image?void 0:"primary",variant:(v=a(e))!=null&&v.image?void 0:"tonal"},{default:t(()=>{var _;return[(_=a(e))!=null&&_.image?(i(),s(k,{key:0,cover:"",src:`/storage/${a(e).image}`},null,8,["src"])):(i(),s(c,{key:1,icon:"tabler-user"})),o(z,{activator:"parent",width:"230",location:"bottom end",offset:"14px"},{default:t(()=>[o(F,null,{default:t(()=>[o(h,null,{prepend:t(()=>[o(U,{start:""},{default:t(()=>[o(f,{dot:"",location:"bottom right","offset-x":"3","offset-y":"3",color:"success",bordered:""},{default:t(()=>{var r,u;return[o(V,{class:"cursor-pointer overflow-hidden",color:(r=a(e))!=null&&r.image?void 0:"primary",variant:(u=a(e))!=null&&u.image?void 0:"tonal"},{default:t(()=>{var g;return[(g=a(e))!=null&&g.image?(i(),s(k,{key:0,cover:"",src:`/storage/${a(e).image}`},null,8,["src"])):(i(),s(c,{key:1,icon:"tabler-user"}))]}),_:1},8,["color","variant"])]}),_:1})]),_:1})]),default:t(()=>[o(I,{class:"font-weight-medium"},{default:t(()=>[d(m(a(e).name||a(e).email),1)]),_:1}),o(M,null,{default:t(()=>[d(m(a(x).member),1)]),_:1})]),_:1}),o(a(A),{options:{wheelPropagation:!1}},{default:t(()=>[(i(),b(y,null,D(w,r=>(i(),b(y,{key:r.title},[r.type==="navItem"?(i(),s(h,{key:0,to:r.to,onClick:u=>r.onClick&&r.onClick()},R({prepend:t(()=>[o(c,{class:"me-2",icon:r.icon,size:"22"},null,8,["icon"])]),default:t(()=>[o(I,null,{default:t(()=>[d(m(r.title),1)]),_:2},1024)]),_:2},[r.badgeProps?{name:"append",fn:t(()=>[o(f,S({ref_for:!0},r.badgeProps),null,16)]),key:"0"}:void 0]),1032,["to","onClick"])):(i(),s(q,{key:1,class:"my-2"}))],64))),64))]),_:1})]),_:1})]),_:1})]}),_:1},8,["color","variant"])]}),_:1})):N("",!0)}};export{ne as default};
