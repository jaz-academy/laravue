import{h as F}from"./helpers-dc843671.js";import{V as L}from"./VNodeRenderer-55b91c89.js";import{j as M,a5 as v,b5 as j,n as d,o as i,c as p,b as n,e as u,z as f,d as e,I as E,v as _,x as l,a0 as R,F as K,i as U}from"./main-dd895efc.js";import{u as y}from"./useApi-d559f13e.js";import{V as $}from"./VRow-401a9eed.js";import{V as O}from"./VCol-5badd7d4.js";import{V as G}from"./VCard-521d2f55.js";import{V as b}from"./VCardText-8cb57704.js";import{V as x}from"./VDivider-3f5c8926.js";import{V as H}from"./VTable-0b4411dc.js";import{V as J}from"./VSpacer-c7b85916.js";import"./no-profile-4221a4a6.js";import"./VAvatar-c43efe20.js";import"./VImg-0d845f43.js";const q={key:0},Q={key:0,class:"ma-sm-4"},X={class:"d-flex align-center mb-6"},Y={class:"mb-0"},Z={class:"my-2"},ee={class:"mb-0"},te={key:1,class:"mt-4 ma-sm-4 text-end"},se={class:"font-weight-medium text-h4"},ae={class:"my-3 font-weight-medium text-h5"},le={class:"mb-0"},ne={class:"mb-0"},oe={key:0,class:"font-weight-medium text-h5"},re={class:"text-center"},de={class:"text-center"},ue={class:"d-none d-md-table-cell"},ce={class:"my-4 mx-sm-4"},me={class:"text-base font-weight-medium"},ie={class:"font-weight-bold"},pe={key:0,class:"my-4 mx-sm-4 text-end"},Ce={__name:"[semester]",async setup(_e){var A;let h,V;const w=M(),N=Number(w.params.id),k=w.params.semester,B=v(()=>{let a=`/scores-by-person?student_id=${N}`;return k&&(a+=`&semester=${k}`),a}),[{data:o},{data:P},{data:T}]=([h,V]=j(()=>Promise.all([y(B),y(`/students/${N}`),y("/schools")])),h=await h,V(),h),c=v(()=>{var a;return(a=P.value)==null?void 0:a.data}),r=v(()=>{var a;return(a=T.value)==null?void 0:a.data}),W=v(()=>{var s;return!((s=o.value)!=null&&s.data)||o.value.data.length===0?0:(o.value.data.reduce((t,m)=>t+(m.final_score||0),0)/o.value.data.length).toFixed(2)});console.log((A=o.value)==null?void 0:A.data);const z=a=>a>=95?"A+":a>=90?"A":a>=85?"A-":a>=80?"B":a>=75?"B-":a>=70?"C+":a>=65?"C":a>=60?"C-":"D",g=a=>{switch(a){case 3:return"Sangat mampu";case 2:return"Mampu";case 1:return"Perlu bimbingan dalam";case 0:return"Belum mampu";default:return""}};return(a,s)=>d(o)&&c.value&&r.value?(i(),p("section",q,[n($,null,{default:u(()=>[n(O,{cols:"12"},{default:u(()=>[n(G,null,{default:u(()=>[n(b,{class:"d-flex flex-wrap justify-space-between flex-column flex-sm-row print-row"},{default:u(()=>{var t,m,D,I,C,S;return[(t=r.value)!=null&&t.length?(i(),p("div",Q,[e("div",X,[n(d(L),{nodes:d(E).app.logo,class:"me-3"},null,8,["nodes"]),s[0]||(s[0]=e("h6",{class:"font-weight-bold text-capitalize text-h4"}," Jaz Academy ",-1))]),e("p",Y,[_(l((m=r.value[0])==null?void 0:m.name)+" ✪ ",1),e("strong",null,l((D=r.value[0])==null?void 0:D.organization),1)]),e("p",Z,l((I=r.value[0])==null?void 0:I.address),1),e("p",ee,[n(R,{icon:"tabler-phone",class:"me-2"}),_(" "+l((C=r.value[0])==null?void 0:C.phone)+" ",1),n(R,{icon:"tabler-mail",class:"mx-2"}),_(" "+l((S=r.value[0])==null?void 0:S.email),1)])])):f("",!0),c.value?(i(),p("div",te,[e("h6",se,l(c.value.name),1),e("p",ae,[s[1]||(s[1]=e("span",null,"Angkatan : ",-1)),e("span",null,l(c.value.registered-2022),1)]),e("p",le,[s[2]||(s[2]=e("span",null,"Period : ",-1)),e("span",null,l(c.value.registered),1)]),e("p",ne,[s[3]||(s[3]=e("span",null,"NID : ",-1)),e("span",null,l(c.value.nis),1)])])):f("",!0)]}),_:1}),n(x),n(b,{class:"text-center"},{default:u(()=>[s[4]||(s[4]=e("h2",null,"LAPORAN HASIL STUDI",-1)),c.value?(i(),p("p",oe," Semester "+l(d(o).semester),1)):f("",!0)]),_:1}),n(x),n(H,{class:"invoice-preview-table"},{default:u(()=>[s[7]||(s[7]=e("thead",null,[e("tr",null,[e("th",{class:"d-none d-md-table-cell"}),e("th",{scope:"col"}," NO "),e("th",{scope:"col",class:"bidang-study"}," BIDANG STUDI "),e("th",{scope:"col",class:"text-center"}," NILAI "),e("th",{scope:"col",class:"text-center"}," PREDIKAT "),e("th",{scope:"col",class:"text-center d-none d-md-table-cell"}," DESKRIPSI "),e("th",{class:"d-none d-md-table-cell"})])],-1)),e("tbody",null,[(i(!0),p(K,null,U(d(o).data,t=>(i(),p("tr",{key:t.name,class:"py-2"},[s[5]||(s[5]=e("td",{class:"d-none d-md-table-cell"},null,-1)),e("td",null,l(t.number),1),e("td",null,[e("div",null,l(t.group),1),e("div",null,l(t.name),1)]),e("td",re,l(t.final_score),1),e("td",de,l(z(t.final_score)),1),e("td",ue,l(t.competence_1?g(Number(t.is_ok_1))+" "+(t.competence_1.endsWith(".")||t.competence_1.endsWith(",")?t.competence_1:t.competence_1+"."):"")+" "+l(t.competence_2?g(Number(t.is_ok_2))+" "+(t.competence_2.endsWith(".")||t.competence_2.endsWith(",")?t.competence_2:t.competence_2+"."):"")+" "+l(t.competence_3?g(Number(t.is_ok_3))+" "+(t.competence_3.endsWith(".")||t.competence_3.endsWith(",")?t.competence_3:t.competence_3+"."):""),1),s[6]||(s[6]=e("td",{class:"d-none d-md-table-cell"},null,-1))]))),128))])]),_:1}),n(x,{class:"mb-2"}),n(b,{class:"d-flex justify-space-between flex-column flex-sm-row print-row"},{default:u(()=>{var t,m;return[e("div",ce,[e("h6",me,[s[8]||(s[8]=_(" Nilai Rata-rata: ")),e("span",ie,l(Number(W.value).toFixed(2)),1)])]),n(J),(t=r.value)!=null&&t.length?(i(),p("div",pe,[_(" Tasikmalaya, "+l(("humanDate"in a?a.humanDate:d(F))(d(o).data[d(o).data.length-1].created_at,"d MMM yyyy"))+" ",1),s[9]||(s[9]=e("br",null,null,-1)),s[10]||(s[10]=_("✪ ")),e("strong",null,l((m=r.value[0])==null?void 0:m.organization),1)])):f("",!0)]}),_:1}),n(x),n(b,null,{default:u(()=>s[11]||(s[11]=[e("div",{class:"d-flex mx-sm-4"},[e("h6",{class:"text-base font-weight-medium me-1"}," Note: "),e("span",null,"Ilmu itu di dalam Dada.. Bukan diatas Kertas..")],-1)])),_:1})]),_:1})]),_:1})]),_:1})])):f("",!0)}};export{Ce as default};
