import{N as te,F as ae}from"./front-page-navbar-c4df63d9.js";import{a as oe}from"./formatters-5eff6250.js";import{r as i,aK as le,cC as se,H as Z,o as r,c as v,d as m,y as re,n as G,b as t,e as l,f as U,x as j,z as h,F as A,v as c,ai as C,a$ as K,i as ne}from"./main-d9f3424d.js";import{_ as ie}from"./AppTextField-760889a8.js";import{u as W}from"./useGenerateImageVariant-b9751093.js";import{h as ue,a as pe,b as de,c as me}from"./hero-elements-light-b61b0468.js";/* empty css                 */import{$ as q}from"./api-04218d05.js";import{_ as ce}from"./_plugin-vue_export-helper-c27b6911.js";import{V as ve}from"./VAvatar-277a8b10.js";import{V as fe}from"./VImg-f55b59e7.js";import{V as _e}from"./VContainer-e4484dd0.js";import{V as Q}from"./VAlert-96b18c99.js";import{V as X}from"./VRow-da5b93ce.js";import{V as _}from"./VCol-ac94f502.js";import{V as Y}from"./VForm-ce8bb408.js";import{_ as ge}from"./PostingCard-5a5ea64a.js";import{u as be}from"./useApi-608e4ca2.js";import"./VNodeRenderer-2847b45b.js";import"./VChip-b6bedac6.js";import"./NavbarThemeSwitcher-9a819698.js";import"./VTooltip-e707efd6.js";import"./VOverlay-6cf31c8f.js";import"./easing-9f15041e.js";import"./lazy-3da88233.js";import"./scopeId-c2687b41.js";import"./forwardRefs-8348545e.js";import"./VMenu-b53d0f28.js";import"./dialog-transition-93f1260e.js";import"./VList-c368e352.js";import"./ssrBoot-51c609c5.js";import"./VDivider-f6620f51.js";import"./VNavigationDrawer-660379e0.js";import"./VToolbar-9e604112.js";import"./VSpacer-59f07017.js";import"./helpers-ddaee727.js";import"./no-profile-4221a4a6.js";import"./form-26233cc1.js";import"./VTextField-0356918e.js";/* empty css                   */import"./VCounter-17d4f7ca.js";import"./VField-9bf8b145.js";import"./VInput-ca1cb71d.js";import"./index-8d9cdf1e.js";import"./index-9c720871.js";import"./AppTextarea-98ba9d94.js";import"./AppSelect-b4c02f4e.js";import"./VSelect-1d333a1c.js";import"./VCheckboxBtn-bb1e1fec.js";import"./VSelectionControl-28f4217c.js";import"./GDriveEmbed-eea2fc08.js";import"./InstagramEmbed-8eee1297.js";import"./fetchTeacherData-ecf8059e.js";import"./VCardText-cf9fd2ab.js";import"./VRating-453f5ab3.js";import"./VCard-afaa5d27.js";const ke={id:"home",style:{background:"rgb(var(--v-theme-surface))"}},ye={id:"landingHero",class:"mb-6"},he={class:"hero-text-box text-center px-6"},Ve={key:1},we={key:1,class:"text-h2 text-sm-h1 text-primary hero-title font-weight-bold text-wrap mb-0"},Se={class:"mb-4 text-h5"},xe={class:"mb-4"},je={class:"position-relative"},Ce={key:0,class:"modal-overlay"},Ie={class:"modal-content"},$e={key:1,class:"modal-overlay"},Ne={class:"modal-content"},Pe={__name:"participant-info",emits:["loginStatus"],setup(ee,{emit:S}){const I=S,n=i(null),y=le();W(pe,ue),W(me,de),se({touch:!1});const g=i(!1),k=i(!1),V=i(null),p=i(""),a=i(""),u=i(""),b=i(""),d=i(""),w=i([]),$=()=>{p.value="",a.value="",u.value="",b.value="",d.value="",w.value=[]};Z(()=>{const s=localStorage.getItem("participant");n.value=s?JSON.parse(s):null});const N=()=>{n.value?(localStorage.removeItem("participant"),n.value=null,I("loginStatus",!1)):(g.value=!0,$())},P=async()=>{if(p.value&&u.value){const s={username:p.value,password:u.value};try{const{data:e,error:f}=await q("/public/sign-in-participant",{method:"POST",body:{username:s.username,password:s.password},onResponseError({response:x}){w.value=x._data.errors,d.value=x._data.message||"SignIn failed"}}),{password:o,...T}=e;localStorage.setItem("participant",JSON.stringify(T)),n.value=e,g.value=!1,I("loginStatus",!0)}catch(e){console.error(e)}}},M=async()=>{if(a.value&&p.value&&u.value&&b.value)try{if(u.value===b.value){const{data:s}=await q("/public/participants",{method:"POST",body:{name:a.value,username:p.value,password:u.value,passwordConfirmation:b.value,role:1,image:null},onResponseError({response:e}){w.value=e._data.errors,d.value=e._data.message||"SignUp failed"}});console.log(s),localStorage.setItem("participant",JSON.stringify(s)),n.value=s,k.value=!1}else alert("Password and Confirm Password do not match")}catch(s){console.error("Error during signup:",s)}};return(s,e)=>{const f=ie;return r(),v("div",ke,[m("div",ye,[m("div",{class:re(["landing-hero",G(y).current.value.dark?"landing-hero-dark-bg":"landing-hero-light-bg"])},[t(_e,null,{default:l(()=>[m("div",he,[n.value?(r(),U(ve,{key:0,size:"200",variant:"tonal",color:"primary",class:"mb-4"},{default:l(()=>[V.value?(r(),U(fe,{key:0,src:V.value},null,8,["src"])):(r(),v("span",Ve,j(n.value.name?("avatarText"in s?s.avatarText:G(oe))(n.value.name):"AB"),1))]),_:1})):h("",!0),n.value?(r(),v("p",we,j(n.value.name),1)):h("",!0),m("h5",Se,[n.value?(r(),v(A,{key:0},[c(" Thank you for your participation! ")],64)):(r(),v(A,{key:1},[e[14]||(e[14]=m("p",{class:"text-h2 text-sm-h1 text-primary hero-title font-weight-bold text-wrap mb-4"}," Marhaban ! ",-1)),e[15]||(e[15]=c(" Welcome to our platform ")),m("div",xe,[e[13]||(e[13]=c(" Click here to ")),m("a",{style:{display:"inline",cursor:"pointer"},onClick:e[0]||(e[0]=o=>k.value=!0)},"Signup as New Participant!")])],64))]),m("div",je,[t(C,{height:"36",onClick:N},{default:l(()=>[c(j(n.value?"Sign Out":"Sign In"),1)]),_:1})])])]),_:1}),g.value?(r(),v("div",Ce,[m("div",Ie,[d.value?(r(),U(Q,{key:0,type:"error",class:"mb-5",dismissible:"",onClick:e[1]||(e[1]=o=>d.value="")},{default:l(()=>[c(j(d.value),1)]),_:1})):h("",!0),t(Y,{onSubmit:K(o=>({}),["prevent"])},{default:l(()=>[t(X,null,{default:l(()=>[t(_,{cols:"12"},{default:l(()=>[t(f,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=o=>p.value=o),"prepend-inner-icon":"tabler-user",label:"Username / Email",placeholder:"Mehmed"},null,8,["modelValue"])]),_:1}),t(_,{cols:"12"},{default:l(()=>[t(f,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=o=>u.value=o),"prepend-inner-icon":"tabler-lock",label:"Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1}),t(_,{cols:"12"},{default:l(()=>[e[16]||(e[16]=c(" Not a Participant yet? ")),m("a",{style:{display:"inline",cursor:"pointer"},onClick:e[4]||(e[4]=o=>(g.value=!1,k.value=!0))},"Signup first!")]),_:1}),t(_,{cols:"12"},{default:l(()=>[t(C,{type:"submit",class:"me-2",onClick:P},{default:l(()=>e[17]||(e[17]=[c(" Sign In ")])),_:1}),t(C,{color:"warning",class:"me-2",onClick:e[5]||(e[5]=o=>g.value=!1)},{default:l(()=>e[18]||(e[18]=[c(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1})])])):h("",!0),k.value?(r(),v("div",$e,[m("div",Ne,[d.value?(r(),U(Q,{key:0,type:"error",class:"mb-5",dismissible:"",onClick:e[6]||(e[6]=o=>d.value="")},{default:l(()=>[c(j(d.value),1)]),_:1})):h("",!0),t(Y,{onSubmit:K(o=>({}),["prevent"])},{default:l(()=>[t(X,null,{default:l(()=>[t(_,{cols:"12"},{default:l(()=>[t(f,{modelValue:a.value,"onUpdate:modelValue":e[7]||(e[7]=o=>a.value=o),"prepend-inner-icon":"tabler-user",label:"Full Name",placeholder:"Muhammad"},null,8,["modelValue"])]),_:1}),t(_,{cols:"12"},{default:l(()=>[t(f,{modelValue:p.value,"onUpdate:modelValue":e[8]||(e[8]=o=>p.value=o),"prepend-inner-icon":"tabler-checkbox",label:"Username",placeholder:"Mehmed"},null,8,["modelValue"])]),_:1}),t(_,{cols:"12"},{default:l(()=>[t(f,{modelValue:u.value,"onUpdate:modelValue":e[9]||(e[9]=o=>u.value=o),"prepend-inner-icon":"tabler-lock",label:"Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1}),t(_,{cols:"12"},{default:l(()=>[t(f,{modelValue:b.value,"onUpdate:modelValue":e[10]||(e[10]=o=>b.value=o),"prepend-inner-icon":"tabler-lock",label:"Retype Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1}),t(_,{cols:"12"},{default:l(()=>[e[19]||(e[19]=c(" Already joined Participant? ")),m("a",{style:{display:"inline",cursor:"pointer"},onClick:e[11]||(e[11]=o=>(g.value=!0,k.value=!1))},"Signin instead!")]),_:1}),t(_,{cols:"12"},{default:l(()=>[t(C,{type:"submit",class:"me-2",onClick:M},{default:l(()=>e[20]||(e[20]=[c(" Sign Up ")])),_:1}),t(C,{color:"warning",class:"me-2",onClick:e[12]||(e[12]=o=>k.value=!1)},{default:l(()=>e[21]||(e[21]=[c(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1})])])):h("",!0)],2)])])}}},Me=ce(Pe,[["__scopeId","data-v-5de7e3fa"]]);const Te={class:"landing-page-wrapper"},Ue={key:0,class:"bookmark-card"},Dt={__name:"bookmark",setup(ee){const S=i(null),I=i(),n=i(),y=i([]);Z(async()=>{g()});const g=async()=>{const V=localStorage.getItem("participant");if(S.value=V?JSON.parse(V):null,S.value){const p=S.value.id,{data:a}=await be(`/public/bookmarks-by-participant/${p}`);a.value.data&&(y.value=a.value.data,console.log("bookmarks :",y.value))}else y.value=[]},k=async()=>{await g()};return(V,p)=>(r(),v("div",Te,[t(te,{"active-id":I.value},null,8,["active-id"]),t(Me,{ref_key:"refHome",ref:n,onLoginStatus:k},null,512),y.value.length?(r(),v("div",Ue,[(r(!0),v(A,null,ne(y.value.filter(Boolean),a=>{var u,b,d,w,$,N,P,M,s,e,f,o,T,x,F,D,B,E,O,L,H,J,R,z;return r(),v("div",{key:a.id||a._id||a},[t(ge,{class:"card-post","task-id":(u=a.project_task)==null?void 0:u.id,"task-name":(b=a.project_task)==null?void 0:b.name,description:(d=a.project_task)==null?void 0:d.description,subject:($=(w=a.project_task)==null?void 0:w.project_plan)==null?void 0:$.subject,theme:(P=(N=a.project_task)==null?void 0:N.project_plan)==null?void 0:P.theme,stars:(M=a.project_task)==null?void 0:M.rate,media:(s=a.project_task)==null?void 0:s.media,"post-id":((e=a.project_task)==null?void 0:e.media)=="Instagram"?(T=(o=(f=a.project_task)==null?void 0:f.link)==null?void 0:o.match(/\/(?:p|reel)\/([\w-]+)/))==null?void 0:T[1]:((D=(F=(x=a.project_task)==null?void 0:x.link)==null?void 0:F.match(/\/d\/(.*?)\//))==null?void 0:D[1])||"N/A",students:(B=a.project_task)==null?void 0:B.students,teacher:(E=a.project_task)!=null&&E.admin_teacher?{id:(O=a.project_task)==null?void 0:O.admin_teacher.id,name:(L=a.project_task)==null?void 0:L.admin_teacher.nickname}:"Not Accepted","teacher-img":(J=(H=a.project_task)==null?void 0:H.admin_teacher)==null?void 0:J.image,accepted:(R=a.project_task)==null?void 0:R.accepted,review:((z=a.project_task)==null?void 0:z.review)||null},null,8,["task-id","task-name","description","subject","theme","stars","media","post-id","students","teacher","teacher-img","accepted","review"])])}),128))])):h("",!0),t(ae)]))}};export{Dt as default};
