import{_ as E}from"./MoreBtn-e2b630e4.js";import{r as C,p as O,h as K,a as te,t as ae}from"./helpers-929cea30.js";import{_ as X}from"./_plugin-vue_export-helper-c27b6911.js";import{a as W,V as A}from"./VCard-c1d86edf.js";import{V as D}from"./VCardText-89ccd074.js";import{V as q,a as Q,b as G,c as Y}from"./VList-b9dbaad8.js";import{a5 as L,o as u,f as g,e as t,b as s,c as k,F as B,i as I,bU as se,d as l,x as p,ai as F,a0 as $,z,y as U,v as V,n as r,r as j,a as oe,aU as M,s as S}from"./main-7a04a4cc.js";import{a as Z}from"./no-profile-4221a4a6.js";import{V as R}from"./VDivider-cd55d271.js";import{V as P}from"./VAvatar-a8f8d7de.js";import{_ as ne}from"./AppTextField-07b9446e.js";import{p as le}from"./paginationMeta-4ad053a4.js";import{f as re}from"./formatters-a720d60e.js";import{V as ie}from"./VDataTableServer-3f7c9794.js";import{V as ce}from"./VRating-651986d6.js";import{V as de}from"./VPagination-2c06704c.js";import{V as J}from"./VImg-785fe2da.js";import{V as ue}from"./VTooltip-1bea080d.js";const me={class:"text-body-1 text-high-emphasis font-weight-medium"},pe={__name:"LiteracyProject",props:{literasiTasks:Array,students:Array},setup(b){const v=b,T=L(()=>Object.values(v.students).map(_=>{const o=v.literasiTasks.find(n=>{var f;return(f=n.students)==null?void 0:f.some(i=>i.id===_.id)});return{id:o==null?void 0:o.id,title:(o==null?void 0:o.name)||"",link:(o==null?void 0:o.link)||"#",date:(o==null?void 0:o.date)||"",name:_.nickname,progress:o!=null&&o.rate?o.rate*20:0,color:C(o==null?void 0:o.rate)}}));return(_,o)=>{const n=E;return u(),g(A,null,{default:t(()=>{var f,i,c;return[s(W,{title:((c=(i=(f=b.literasiTasks)==null?void 0:f[0])==null?void 0:i.project_plan)==null?void 0:c.subject)??"Literasi Tasks",subtitle:"Last Project: Literasi"},{append:t(()=>[s(n)]),_:1},8,["title"]),s(D,null,{default:t(()=>[s(q,{class:"card-list scrollable-card"},{default:t(()=>[(u(!0),k(B,null,I(T.value,d=>(u(),g(Q,{key:d.title},{prepend:t(()=>[s(se,{modelValue:d.progress,"onUpdate:modelValue":y=>d.progress=y,size:54,class:"me-4",color:d.color},{default:t(()=>[l("span",me,p(d.progress),1)]),_:2},1032,["modelValue","onUpdate:modelValue","color"])]),append:t(()=>[d.title?(u(),g(F,{key:0,href:`/?search=${d.id}`,target:"_blank",rel:"noopener noreferrer",variant:"tonal",color:d.color,class:"rounded-sm",size:"30"},{default:t(()=>[s($,{icon:"tabler-chevron-right",class:"flip-in-rtl"})]),_:2},1032,["href","color"])):z("",!0)]),default:t(()=>[s(G,{class:U(["font-weight-medium mb-2",["text-"+d.color]])},{default:t(()=>[V(p(r(O)(d.title)),1)]),_:2},1032,["class"]),s(Y,{class:U(["text-"+d.color])},{default:t(()=>[V(p(r(K)(d.date))+" - "+p(d.name),1)]),_:2},1032,["class"])]),_:2},1024))),128))]),_:1})]),_:1})]}),_:1})}}},Ye=X(pe,[["__scopeId","data-v-93a974e4"]]);const _e={class:"text-body-1 text-high-emphasis"},Ze={__name:"PopularMentors",props:{teachers:Array},setup(b){const v=b;return(T,_)=>{const o=E;return u(),g(A,null,{default:t(()=>[s(W,{title:"Popular Mentor"},{append:t(()=>[s(o)]),_:1}),s(R),_[0]||(_[0]=l("div",{class:"text-overline d-flex justify-space-between px-5"},[l("span",null,"Mentor"),l("span",null,"Reviews")],-1)),s(R),s(D,null,{default:t(()=>[s(q,{class:"card-list scrollable-card"},{default:t(()=>[(u(!0),k(B,null,I(v.teachers,n=>(u(),g(Q,{key:n.admin_teacher_id},{prepend:t(()=>[n.admin_teacher.image?(u(),g(P,{key:0,size:"34",image:`/storage/${n.admin_teacher.image}`},null,8,["image"])):(u(),g(P,{key:1,rounded:"",size:"34",image:r(Z)},null,8,["image"]))]),append:t(()=>[l("span",_e,p(n.count),1)]),default:t(()=>[s(G,{class:"font-weight-medium"},{default:t(()=>[V(p(n.admin_teacher.nickname),1)]),_:2},1024),s(Y,{class:"text-disabled"},{default:t(()=>[V(p(n.admin_teacher.note||n.admin_teacher.name),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}}},fe={class:"d-flex flex-wrap justify-space-between align-center gap-4"},ge={class:"d-flex align-center gap-x-4 py-2"},he={class:"text-base font-weight-medium mb-1"},ve={class:"d-flex align-center"},ye={class:"text-base ms-2"},be={class:"text-base text-high-emphasis font-weight-medium"},xe={key:0,class:"d-flex align-center gap-x-4 mb-2"},Ve={key:0,class:"d-flex justify-space-between gap-x-4"},Te={key:0,class:"d-flex justify-space-between gap-x-4"},we=["href"],ke={class:"d-flex align-center justify-sm-space-between justify-center flex-wrap gap-3 pa-5 pt-3"},Pe={class:"text-sm text-disabled mb-0"},et={__name:"PostedTable",props:{socialMediaTasks:Array,students:Array},setup(b){const v=b,T=L(()=>Object.values(v.students).map(m=>{var h,x,a;const e=v.socialMediaTasks.find(w=>{var H;return(H=w.students)==null?void 0:H.some(ee=>ee.id===m.id)});return{id:e==null?void 0:e.id,title:(e==null?void 0:e.name)||"",link:(e==null?void 0:e.link)||"#",theme:((h=e==null?void 0:e.project_plan)==null?void 0:h.theme)||"Weekly Vlog",subject:((x=e==null?void 0:e.project_plan)==null?void 0:x.subject)||"Social Media",teacher:((a=e==null?void 0:e.admin_teacher)==null?void 0:a.nickname)||"Unknown",rate:(e==null?void 0:e.rate)||0,media:(e==null?void 0:e.media)||"",date:re(e==null?void 0:e.date)||"",name:m.name,image:m.image||"",progress:e!=null&&e.rate?e.rate*20:0,color:C(e==null?void 0:e.rate)}})),_=j(""),o=j(5),n=j(1),f=j(),i=j(),c=m=>{var e,h;n.value=m.page,f.value=(e=m.sortBy[0])==null?void 0:e.key,i.value=(h=m.sortBy[0])==null?void 0:h.order},d=[{title:"Title Task",key:"name"},{title:"Date",key:"date"},{title:"Stars",key:"rate"},{title:"Mentor",key:"admin_teacher.nickname"},{title:"View",key:"link",sortable:!1}],y=L(()=>{let m=[...T.value];if(_.value){const e=_.value.toLowerCase();m=m.filter(h=>h.title.toLowerCase().includes(e)||h.name.toLowerCase().includes(e)||h.teacher.toLowerCase().includes(e))}return f.value&&m.sort((e,h)=>{const x=e[f.value],a=h[f.value];return x===void 0?1:a===void 0?-1:i.value==="desc"?x<a?1:-1:x>a?1:-1}),m}),N=L(()=>{const m=(n.value-1)*o.value,e=m+o.value;return y.value.slice(m,e)});return(m,e)=>{const h=ne,x=oe("RouterLink");return u(),g(A,null,{default:t(()=>[s(D,null,{default:t(()=>[l("div",fe,[e[4]||(e[4]=l("h5",{class:"text-h5 font-weight-medium"}," Weekly Posts ",-1)),l("div",null,[s(h,{modelValue:r(_),"onUpdate:modelValue":e[0]||(e[0]=a=>M(_)?_.value=a:null),placeholder:"Search",style:{"max-inline-size":"200px","min-inline-size":"200px"}},null,8,["modelValue"])])])]),_:1}),s(r(ie),{"items-per-page":r(o),"onUpdate:itemsPerPage":e[2]||(e[2]=a=>M(o)?o.value=a:null),page:r(n),"onUpdate:page":e[3]||(e[3]=a=>M(n)?n.value=a:null),"items-per-page-options":[5,10,20,-1],headers:d,"items-length":r(y).length,items:r(N),"show-select":"",class:"text-no-wrap","onUpdate:options":c},{"item.name":t(({item:a})=>[l("div",ge,[s(P,{variant:"tonal",size:"40",rounded:"",color:r(C)(a.rate)},{default:t(()=>[s($,{icon:("rateNumberIcon"in m?m.rateNumberIcon:r(te))(a.rate)},null,8,["icon"])]),_:2},1032,["color"]),l("div",null,[l("div",he,[s(x,{to:{name:"academy-course-details"},class:"text-link"},{default:t(()=>[V(p(r(O)(a.title).substring(0,30)),1)]),_:2},1024)]),l("div",ve,[s(P,{size:"22",image:r(ae)(a.image)},null,8,["image"]),l("span",ye,p(a.name),1)])])])]),"item.date":t(({item:a})=>[l("span",be,p(a.media),1),l("div",null,p(a.date),1)]),"item.rate":t(({item:a})=>[a.title?(u(),k("div",xe,[s(ce,{modelValue:a.rate,"onUpdate:modelValue":w=>a.rate=w},{item:t(w=>[s($,S(w,{size:25,color:w.isFilled?r(C)(a.rate):"secondary",class:"me-3",icon:w.isFilled?"tabler-mood-smile-beam":"tabler-mood-sad"}),null,16,["color","icon"])]),_:2},1032,["modelValue","onUpdate:modelValue"])])):z("",!0)]),"item.admin_teacher.nickname":t(({item:a})=>[a.title?(u(),k("div",Ve,[l("div",null,[s($,{icon:"tabler-user",color:a.color,size:"24",class:"me-2"},null,8,["color"]),l("span",{class:U(`text-${a.color}`)},p(a.teacher),3)])])):z("",!0)]),"item.link":t(({item:a})=>[a.title?(u(),k("div",Te,[l("div",null,[l("a",{href:`/?search=${a.id}`,target:"_blank",rel:"noopener noreferrer"},[s($,{icon:"tabler-brand-zoom",color:a.color,size:"24",class:"me-2"},null,8,["color"])],8,we)])])):z("",!0)]),bottom:t(()=>[s(R),l("div",ke,[l("p",Pe,p(r(le)({page:r(n),itemsPerPage:r(o)},r(y).length)),1),s(de,{modelValue:r(n),"onUpdate:modelValue":e[1]||(e[1]=a=>M(n)?n.value=a:null),length:Math.ceil(r(y).length/r(o)),"total-visible":m.$vuetify.display.xs?1:Math.min(Math.ceil(r(y).length/r(o)),5)},{prev:t(a=>[s(F,S({variant:"tonal",color:"default"},a,{icon:!1}),{default:t(()=>e[5]||(e[5]=[V(" Previous ")])),_:2},1040)]),next:t(a=>[s(F,S({variant:"tonal",color:"default"},a,{icon:!1}),{default:t(()=>e[6]||(e[6]=[V(" Next ")])),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items-length","items"])]),_:1})}}};const $e={class:"d-flex flex-column"},je={class:"font-weight-medium text-truncate"},Le=["href","target"],ze={class:"v-avatar-group"},Me={class:"text-xs"},Ce={class:"ms-2"},Be={__name:"TopTenPosted",props:{topTen:Array},setup(b){const v=b,T=["primary","secondary","success","warning","info","danger"],_=L(()=>{const o=v.topTen||[],n={};o.forEach(c=>{const d=c.admin_student_id;n[d]||(n[d]=[]),n[d].push(c)});const f=[...new Set(o.map(c=>c.admin_student_id))],i=[];return f.forEach(c=>{const d=n[c].sort((y,N)=>N.id-y.id);i.push(...d)}),i.map(c=>({id:c.id,title:c.name,students:c.students,date:K(c.date),icon:"tabler-stars",color:T[c.students[0].id%T.length],link:c.link||"#"}))});return(o,n)=>{const f=E;return u(),g(A,null,{default:t(()=>[s(W,{title:"Top 10 Tasks",subtitle:"Based on latest submissions"},{append:t(()=>[s(f)]),_:1}),s(D,null,{default:t(()=>[s(q,{class:"card-list scrollable-card"},{default:t(()=>[(u(!0),k(B,null,I(_.value,i=>(u(),g(Q,{key:i.id},{prepend:t(()=>[s(P,{rounded:"",variant:"tonal",color:i.color},{default:t(()=>[s($,{icon:i.icon,size:"24"},null,8,["icon"])]),_:2},1032,["color"])]),default:t(()=>[s(G,{class:"me-4"},{default:t(()=>[l("div",$e,[l("div",je,[l("a",{href:i.link,class:U(`text-${i.color}`),target:i.link.startsWith("http")?"_blank":null,rel:"noopener noreferrer"},p(r(O)(i.title)),11,Le)]),l("div",ze,[(u(!0),k(B,null,I(i.students.slice(0,5),c=>(u(),g(P,{key:c.id,color:"info",size:"23"},{default:t(()=>[c.image?(u(),g(J,{key:0,cover:"",src:`/storage/${c.image}`},null,8,["src"])):(u(),g(J,{key:1,src:r(Z)},null,8,["src"])),s(ue,{location:"top",activator:"parent"},{default:t(()=>[V(p(c.nickname),1)]),_:2},1024)]),_:2},1024))),128)),i.students.length>5?(u(),g(P,{key:0,color:"secondary",size:"23"},{default:t(()=>[l("span",Me,"+"+p(i.students.length-5),1)]),_:2},1024)):z("",!0),l("small",Ce,p(i.students.length>1?"Collab":"Individual")+", "+p(i.date),1)])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})}}},tt=X(Be,[["__scopeId","data-v-4b0c42c8"]]);export{Ye as L,tt as T,Ze as _,et as a};
