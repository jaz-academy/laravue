import{m as M,a as Q,b as U,c as X,d as Y,e as Z,f as $,u as ee,p as ae,g as te,h as oe,i as se,j as le,k as re,l as de,n as S,o as h,q as y}from"./VDataTable-6a9a0ff2.js";import{a1 as ue,aw as ne,a5 as c,_ as o,P as ie,aI as ce,a9 as me,b as s,F as ge,s as m}from"./main-5d6fcc06.js";import{V as f}from"./VTable-abe61c89.js";const ve=ue({itemsLength:{type:[Number,String],required:!0},...M(),...Q(),...U()},"VDataTableServer"),Se=ne()({name:"VDataTableServer",props:ve(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,D){let{emit:pe,slots:a}=D;const{groupBy:d}=X(e),{sortBy:l,multiSort:V,mustSort:x}=Y(e),{page:u,itemsPerPage:i}=Z(e),w=c(()=>parseInt(e.itemsLength,10)),{columns:g,headers:B}=$(e,{groupBy:d,showSelect:o(e,"showSelect"),showExpand:o(e,"showExpand")}),{items:n}=ee(e,g),{toggleSort:v}=ae({sortBy:l,multiSort:V,mustSort:x,page:u}),{opened:I,isGroupOpen:k,toggleGroup:F,extractRows:G}=te({groupBy:d,sortBy:l}),{pageCount:R,setItemsPerPage:E}=oe({page:u,itemsPerPage:i,itemsLength:w}),{flatItems:p}=se(n,d,I),{isSelected:_,select:H,selectAll:N,toggleSelect:C,someSelected:L,allSelected:q}=le(e,{allItems:n,currentPage:n}),{isExpanded:O,toggleExpand:j}=re(e),A=c(()=>G(n.value));de({page:u,itemsPerPage:i,sortBy:l,groupBy:d,search:o(e,"search")}),ie("v-data-table",{toggleSort:v,sortBy:l}),ce({VDataTableRows:{hideNoData:o(e,"hideNoData"),noDataText:o(e,"noDataText"),loading:o(e,"loading"),loadingText:o(e,"loadingText")}});const t=c(()=>({page:u.value,itemsPerPage:i.value,sortBy:l.value,pageCount:R.value,toggleSort:v,setItemsPerPage:E,someSelected:L.value,allSelected:q.value,isSelected:_,select:H,selectAll:N,toggleSelect:C,isExpanded:O,toggleExpand:j,isGroupOpen:k,toggleGroup:F,items:A.value,groupedItems:p.value,columns:g.value,headers:B.value}));me(()=>{const[W]=S.filterProps(e),[z]=h.filterProps(e),[J]=y.filterProps(e),[K]=f.filterProps(e);return s(f,m({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},K),{top:()=>{var r;return(r=a.top)==null?void 0:r.call(a,t.value)},default:()=>{var r,b,P,T;return a.default?a.default(t.value):s(ge,null,[(r=a.colgroup)==null?void 0:r.call(a,t.value),s("thead",{class:"v-data-table__thead",role:"rowgroup"},[s(h,m(z,{sticky:e.fixedHeader}),a)]),(b=a.thead)==null?void 0:b.call(a,t.value),s("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[a.body?a.body(t.value):s(y,m(J,{items:p.value}),a)]),(P=a.tbody)==null?void 0:P.call(a,t.value),(T=a.tfoot)==null?void 0:T.call(a,t.value)])},bottom:()=>a.bottom?a.bottom(t.value):s(S,W,{prepend:a["footer.prepend"]})})})}});export{Se as V};
