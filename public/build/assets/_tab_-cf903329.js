import{h as A}from"./helpers-0ad46068.js";import{f as W,m as v,a as U}from"./fetchMemberData-6f36b681.js";import{a as D}from"./no-profile-4221a4a6.js";import{H as C,n as c,o as u,f,e as s,b as t,fa as Z,d as e,x as l,a0 as p,z as k,c as b,F as V,v as w,i as T,$ as J,fb as K,aZ as Q,a5 as G,w as X,ai as ee,j as te,aU as E}from"./main-37de545e.js";import{V as L}from"./VImg-ab0ba356.js";import{V as y}from"./VCardText-87a2555b.js";import{V as h}from"./VAvatar-93aa4262.js";import{V as j,a as M,b as P}from"./VCard-c1035577.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";import{V as R,a as F,b as g}from"./VList-002b35c7.js";import{_ as N}from"./MoreBtn-3a0cf5ff.js";import{V as se,a as ae}from"./VTimelineItem-fdf5010b.js";import{a as z,V as S}from"./VRow-fac58b63.js";import{f as Y,e as le,a as B}from"./fetchProjectData-1d279c59.js";import{V as ne}from"./VDivider-bd657aeb.js";import{V as ie}from"./VChip-eda1d933.js";import{V as oe}from"./VTooltip-6c0a2c32.js";import{c as H}from"./formatters-b77a216c.js";import{f as re,s as O}from"./fetchStudentData-9aefa5e4.js";import{V as de}from"./VRating-d5ff9f67.js";import{a as ce,V as me}from"./VTabs-715df7ca.js";import{a as I,V as ue}from"./VWindowItem-760050a9.js";import"./useApi-7afb6e9f.js";import"./ssrBoot-a125e40e.js";import"./VMenu-77bc6832.js";import"./VOverlay-f715a3c8.js";import"./easing-9f15041e.js";import"./lazy-f1e50cea.js";import"./scopeId-3f0b9f79.js";import"./forwardRefs-8348545e.js";import"./dialog-transition-4715d8ab.js";import"./VSlideGroup-e09e6e39.js";const _e={class:"d-flex h-0"},pe={class:"user-profile-info w-100 mt-16 pt-6 pt-sm-0 mt-sm-0"},fe={class:"text-h5 text-center text-sm-start font-weight-medium mb-3"},ge={class:"d-flex align-center justify-center justify-sm-space-between flex-wrap gap-4"},ve={class:"d-flex flex-wrap justify-center justify-sm-start flex-grow-1 gap-4"},xe={class:"d-flex"},he={class:"text-body-1"},be={class:"d-flex"},ye={class:"text-body-1"},$e={class:"d-flex"},we={class:"text-body-1"},Ve={__name:"UserProfileHeader",setup($){return C(()=>{W()}),(_,m)=>c(v)?(u(),f(j,{key:0},{default:s(()=>[t(L,{src:c(Z),"min-height":"125","max-height":"250",cover:""},null,8,["src"]),t(y,{class:"d-flex align-bottom flex-sm-row flex-column justify-center gap-x-5"},{default:s(()=>{var a,i,r,n,o,d;return[e("div",_e,[(a=c(v))!=null&&a.image?(u(),f(h,{key:0,rounded:"",size:"120",image:`/storage/${c(v).image}`,class:"user-profile-avatar mx-auto"},null,8,["image"])):(u(),f(h,{key:1,rounded:"",size:"120",image:c(D),class:"user-profile-avatar mx-auto"},null,8,["image"]))]),e("div",pe,[e("h5",fe,l((i=c(v))==null?void 0:i.name),1),e("div",ge,[e("div",ve,[e("span",xe,[t(p,{size:"20",icon:"tabler-color-swatch",class:"me-1"}),e("span",he,l(((r=c(v))==null?void 0:r.role)||((n=c(v))==null?void 0:n.note)),1)]),e("span",be,[t(p,{size:"20",icon:"tabler-map-pin",class:"me-1"}),e("span",ye,l((o=c(v))==null?void 0:o.city),1)]),e("span",$e,[t(p,{size:"20",icon:"tabler-calendar",class:"me-1"}),e("span",we,l(c(A)((d=c(v))==null?void 0:d.birth_date)),1)])])])])]}),_:1})]),_:1})):k("",!0)}};const je={class:"d-flex align-items-center mt-4"},ze={class:"d-flex align-items-center mt-4"},Te={class:"d-flex align-items-center mt-4"},ke={class:"d-flex align-items-center mt-4"},Se={class:"d-flex align-items-center mt-4"},Ae={class:"d-flex align-items-center mt-4"},De={class:"d-flex align-items-center mt-4"},Ce={class:"d-flex align-items-center mt-4"},Re={class:"d-flex align-items-center mt-4"},Be={class:"d-flex align-items-center mt-4"},Ie={class:"d-flex align-items-center mt-4"},Le={class:"d-flex align-items-center mt-4"},Me={__name:"About",props:{data:{type:null,required:!0}},setup($){const _=$;return(m,a)=>(u(),b(V,null,[t(j,{class:"mb-4"},{default:s(()=>[t(y,null,{default:s(()=>[a[9]||(a[9]=e("p",{class:"text-xs"}," ABOUT ",-1)),t(R,{class:"card-list text-medium-emphasis"},{default:s(()=>[t(F,null,{default:s(()=>[e("div",je,[t(p,{size:"20",class:"me-2",icon:"tabler-user"}),t(g,null,{default:s(()=>[a[0]||(a[0]=e("span",{class:"font-weight-medium me-1"},"Name:",-1)),e("span",null,l(_.data.name),1)]),_:1})]),e("div",ze,[t(p,{size:"20",class:"me-2",icon:"tabler-check"}),t(g,null,{default:s(()=>[a[1]||(a[1]=e("span",{class:"font-weight-medium me-1"},"Status:",-1)),e("span",null,l(_.data.registered?"Active":"Suspend"),1)]),_:1})]),e("div",Te,[t(p,{size:"20",class:"me-2",icon:"tabler-crown"}),t(g,null,{default:s(()=>[a[2]||(a[2]=e("span",{class:"font-weight-medium me-1"},"Gender:",-1)),e("span",null,l(_.data.gender),1)]),_:1})]),e("div",ke,[t(p,{size:"20",class:"me-2",icon:"tabler-calendar"}),t(g,null,{default:s(()=>[a[3]||(a[3]=e("span",{class:"font-weight-medium me-1"},"Birth:",-1)),e("span",null,l(c(A)(_.data.birth_date)),1)]),_:1})]),e("div",Se,[t(p,{size:"20",class:"me-2",icon:"tabler-location"}),t(g,null,{default:s(()=>[a[4]||(a[4]=e("span",{class:"font-weight-medium me-1"},"Place:",-1)),e("span",null,l(_.data.birth_place),1)]),_:1})]),e("div",Ae,[t(p,{size:"20",class:"me-2",icon:"tabler-flag"}),t(g,null,{default:s(()=>a[5]||(a[5]=[e("span",{class:"font-weight-medium me-1"},"Language:",-1),e("span",null,"Indonesia",-1)])),_:1})])]),_:1})]),_:1}),a[10]||(a[10]=e("p",{class:"text-xs mt-8"}," CONTACTS ",-1)),t(R,{class:"card-list text-medium-emphasis"},{default:s(()=>[t(F,null,{default:s(()=>[e("div",De,[t(p,{size:"20",class:"me-2",icon:"tabler-phone"}),t(g,null,{default:s(()=>[a[6]||(a[6]=e("span",{class:"font-weight-medium me-1"},"Phone:",-1)),e("span",null,l(_.data.own_phone||_.data.phone),1)]),_:1})]),e("div",Ce,[t(p,{size:"20",class:"me-2",icon:"tabler-mail"}),t(g,null,{default:s(()=>[a[7]||(a[7]=e("span",{class:"font-weight-medium me-1"},"Email:",-1)),e("span",null,l(_.data.email),1)]),_:1})]),e("div",Re,[t(p,{size:"20",class:"me-2",icon:"tabler-brand-instagram"}),t(g,null,{default:s(()=>[a[8]||(a[8]=e("span",{class:"font-weight-medium me-1"},"Instagram:",-1)),e("span",null,l(_.data.instagram),1)]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),t(j,null,{default:s(()=>[t(y,null,{default:s(()=>[a[14]||(a[14]=e("p",{class:"text-xs"}," OVERVIEW ",-1)),t(R,{class:"card-list text-medium-emphasis"},{default:s(()=>[e("div",Be,[t(p,{size:"20",class:"me-2",icon:"tabler-device-gamepad-2"}),t(g,null,{default:s(()=>[a[11]||(a[11]=e("span",{class:"font-weight-medium me-1"},"Hobby:",-1)),e("span",null,l(_.data.hobby),1)]),_:1})]),e("div",Ie,[t(p,{size:"20",class:"me-2",icon:"tabler-swimming"}),t(g,null,{default:s(()=>[a[12]||(a[12]=e("span",{class:"font-weight-medium me-1"},"Sport:",-1)),e("span",null,l(_.data.sport),1)]),_:1})]),e("div",Le,[t(p,{size:"20",class:"me-2",icon:"tabler-target-arrow"}),t(g,null,{default:s(()=>[a[13]||(a[13]=e("span",{class:"font-weight-medium me-1"},"Goal:",-1)),e("span",null,l(_.data.ambition),1)]),_:1})])]),_:1})]),_:1})]),_:1})],64))}},Pe=q(Me,[["__scopeId","data-v-13c1378b"]]);const Ne={class:"d-flex justify-space-between align-center flex-wrap"},Ue={class:"app-timeline-title"},Ee={class:"app-timeline-meta"},Fe={class:"d-flex justify-space-between align-center flex-wrap"},He={class:"app-timeline-text mb-2"},Oe=["href"],We={key:0,class:"d-flex align-center mt-3"},Ge={class:"text-sm font-weight-medium mb-1"},qe={class:"app-timeline-meta"},Ye={__name:"ActivityTimeline",setup($){return console.log(U),(_,m)=>{const a=N;return u(),f(j,null,{default:s(()=>[t(M,null,{prepend:s(()=>[t(p,{icon:"tabler-timeline"})]),append:s(()=>[e("div",null,[t(a,{"menu-list":[{title:"Share timeline",value:"Share timeline"},{title:"Suggest edits",value:"Suggest edits"},{title:"Report bug",value:"Report bug"}]})])]),default:s(()=>[t(P,null,{default:s(()=>m[0]||(m[0]=[w("Activity Timeline")])),_:1})]),_:1}),t(y,{class:"scrollable-card"},{default:s(()=>[t(se,{density:"compact",align:"start","truncate-line":"both",class:"v-timeline-density-compact"},{default:s(()=>[(u(!0),b(V,null,T(c(U),i=>(u(),f(ae,{key:i.id,"dot-color":i.rate>0?"primary":"secondary",size:"x-small"},{default:s(()=>{var r,n,o;return[e("div",Ne,[e("span",Ue,l(i.name),1),e("span",Ee,l(c(A)(i.date)),1)]),e("div",Fe,[e("span",He,l((r=i.project_plan)==null?void 0:r.subject)+" - "+l(i==null?void 0:i.media)+" - "+l((n=i.project_plan)==null?void 0:n.theme),1),e("a",{href:`/?search=${i.id}`,class:"app-timeline-text"},l(i.id),9,Oe)]),i.rate>0?(u(),b("div",We,[t(h,{size:"38",class:"me-3",image:c(D)},null,8,["image"]),e("div",null,[e("h6",Ge,l((o=i.admin_teacher)==null?void 0:o.name),1),e("p",qe,l(i==null?void 0:i.review),1)])])):k("",!0)]}),_:2},1032,["dot-color"]))),128))]),_:1})]),_:1})]),_:1})}}},Ze=q(Ye,[["__scopeId","data-v-ff80cc09"]]),Je={__name:"index",setup($){return C(()=>{W(),console.log("member: ",v)}),(_,m)=>c(v)?(u(),f(S,{key:0},{default:s(()=>[t(z,{md:"4",cols:"12"},{default:s(()=>[t(Pe,{data:c(v)},null,8,["data"])]),_:1}),t(z,{cols:"12",md:"8"},{default:s(()=>[t(S,null,{default:s(()=>[t(z,{cols:"12"},{default:s(()=>[t(Ze)]),_:1})]),_:1})]),_:1})]),_:1})):k("",!0)}},Ke={class:"mb-0"},Qe={class:"mt-n8 me-n3"},Xe={class:"mt-4 mb-0 clamp-text"},et={class:"d-flex align-center justify-space-between flex-wrap gap-2"},tt={class:"text-base font-weight-medium"},st={class:"text-body-1"},at={class:"d-flex align-center justify-space-between flex-wrap text-sm mt-4 mb-2"},lt={class:"d-flex align-center justify-space-between flex-wrap gap-2 mt-3"},nt={class:"d-flex align-center"},it={class:"v-avatar-group me-2"},ot={class:"text-xs"},rt={__name:"index",setup($){const _=J("userData");C(()=>{Y()});function m(r){const n=new Map;return r.forEach(o=>{o.students.forEach(d=>{n.has(d.id)||n.set(d.id,d)})}),Array.from(n.values())}function a(r,n){return r.some(o=>o.students.some(d=>d.id===n))}const i=[{title:"View Details",value:"View Details"},{title:"Add to favorites",value:"Add to favorites"},{type:"divider",class:"my-2"},{title:"Leave Project",value:"Leave Project",class:"text-error"}];return(r,n)=>{const o=N;return u(),f(S,null,{default:s(()=>[(u(!0),b(V,null,T(c(le).filter(d=>new Date(d.end_date)>=new Date),d=>(u(),f(z,{key:d.id,cols:"12",sm:"6",lg:"4"},{default:s(()=>[t(j,null,{default:s(()=>[t(M,null,{prepend:s(()=>[t(h,{image:c(K)},null,8,["image"])]),append:s(()=>[e("div",Qe,[t(o,{"item-props":"","menu-list":i})])]),default:s(()=>[t(P,null,{default:s(()=>[w(l(d.theme),1)]),_:2},1024),e("p",Ke,[n[0]||(n[0]=e("span",{class:"font-weight-medium me-1"},"Subject:",-1)),e("span",null,l(d.subject),1)])]),_:2},1024),t(y,null,{default:s(()=>[e("p",Xe,l(d.description),1)]),_:2},1024),t(ne),t(y,null,{default:s(()=>[e("div",et,[e("h6",tt,[n[1]||(n[1]=w(" Deadline: ")),e("span",st,l(c(A)(d.end_date,"ddd d MMM yyyy")),1)]),t(ie,{label:"",color:a(d.project_task,c(_).admin_student_id??0)?"success":"error",size:"small"},{default:s(()=>[w(l(a(d.project_task,c(_).admin_student_id??0)?"I'm done":"Not doing Yet"),1)]),_:2},1032,["color"])]),e("div",at,[n[2]||(n[2]=e("span",null,"All member doing",-1)),e("span",null,l(Math.round(m(d.project_task).length/20*100))+"%",1)]),t(Q,{rounded:"","rounded-bar":"",height:"8","model-value":m(d.project_task).length,max:20,color:"primary"},null,8,["model-value"]),e("div",lt,[e("div",nt,[e("div",it,[(u(!0),b(V,null,T(m(d.project_task).slice(0,10),x=>(u(),f(h,{key:x.id,color:"info",size:32},{default:s(()=>[x.image?(u(),f(L,{key:0,src:`/storage/${x.image}`,cover:""},null,8,["src"])):(u(),f(L,{key:1,src:c(D)},null,8,["src"])),t(oe,{location:"top",activator:"parent"},{default:s(()=>[w(l(x.nickname),1)]),_:2},1024)]),_:2},1024))),128)),m(d.project_task).length>10?(u(),f(h,{key:0,color:"secondary",size:"32"},{default:s(()=>[e("span",ot,"+"+l(m(d.project_task).length-10),1)]),_:2},1024)):k("",!0)]),n[3]||(n[3]=e("span",{class:"text-xs"},null,-1))])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})}}};const dt={class:"vertical-more"},ct={class:"text-center"},mt={class:"text-h4"},ut={class:"text-h6"},_t={class:"d-flex justify-space-around"},pt={class:"text-center"},ft={class:"text-h4"},gt={class:"text-center"},vt={class:"text-h4"},xt={class:"text-center"},ht={class:"text-h4"},bt={class:"d-flex justify-center gap-4 mt-5"},yt={__name:"index",setup($){C(()=>{re(),Y()});const _=i=>(B.value??[]).filter(r=>(r.students??[]).some(n=>n.id===i)).length,m=i=>{const r=(B.value??[]).filter(d=>(d.students??[]).some(x=>x.id===i)),n=r.reduce((d,x)=>d+(parseFloat(x.rate)||0),0),o=r.length?n/r.length:0;return{totalRate:n,avgRate:o}},a=G(()=>(O.value??[]).filter(i=>i.graduation===null).slice().sort((i,r)=>m(r.id).avgRate-m(i.id).avgRate));return X(B,i=>{console.log("All tasks updated:",i)}),(i,r)=>{const n=N;return c(O).length?(u(),f(S,{key:0},{default:s(()=>[(u(!0),b(V,null,T(a.value,o=>(u(),f(z,{key:o.id,sm:"6",md:"4",lg:"3",cols:"12"},{default:s(()=>[t(j,null,{default:s(()=>[e("div",dt,[t(n,{"menu-list":[{title:"Share connection",value:"Share connection"},{title:"Block connection",value:"Block connection"},{type:"divider",class:"my-2"},{title:"Delete",value:"Delete",class:"text-error"}],"item-props":""})]),t(M,null,{default:s(()=>[t(P,{class:"d-flex flex-column align-center justify-center gap-y-5"},{default:s(()=>[o!=null&&o.image?(u(),f(h,{key:0,size:"100",image:`/storage/${o.image}`},null,8,["image"])):(u(),f(h,{key:1,size:"100",image:c(D)},null,8,["image"])),e("div",ct,[e("h4",mt,l(c(H)(o.name,15,2)),1),e("h6",ut,l(o.role?c(H)(o.role,20,2):"Content Creator"),1)])]),_:2},1024)]),_:2},1024),t(y,{class:"text-center"},{default:s(()=>[t(de,{"model-value":m(o.id).avgRate,"half-increments":"",readonly:""},null,8,["model-value"])]),_:2},1024),t(y,null,{default:s(()=>{var d;return[e("div",_t,[e("div",pt,[e("h4",ft,l(_(o.id)),1),r[0]||(r[0]=e("span",{class:"text-body-1"},"Tasks",-1))]),e("div",gt,[e("h4",vt,l(m(o.id).totalRate.toFixed(0)),1),r[1]||(r[1]=e("span",{class:"text-body-1"},"Stars",-1))]),e("div",xt,[e("h4",ht,l(m(o.id).avgRate.toFixed(1)),1),r[2]||(r[2]=e("span",{class:"text-body-1"},"Average",-1))])]),e("div",bt,[t(ee,{"prepend-icon":"tabler-user-check",variant:(((d=c(v))==null?void 0:d.registered)??!1)===((o==null?void 0:o.registered)??!1)?"elevated":"tonal"},{default:s(()=>[w(l(o==null?void 0:o.registered),1)]),_:2},1032,["variant"])])]}),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):k("",!0)}}},es={__name:"[tab]",setup($){const _=te(),m=G({get:()=>_.params.tab,set:()=>_.params.tab}),a=[{title:"Overview",icon:"tabler-user-check",tab:"overview"},{title:"Projects",icon:"tabler-layout-grid",tab:"projects"},{title:"Stars",icon:"tabler-star-filled",tab:"stars"}];return(i,r)=>(u(),b("div",null,[t(Ve,{class:"mb-5"}),t(me,{modelValue:c(m),"onUpdate:modelValue":r[0]||(r[0]=n=>E(m)?m.value=n:null),class:"v-tabs-pill"},{default:s(()=>[(u(),b(V,null,T(a,n=>t(ce,{key:n.icon,value:n.tab,to:{name:"profile-user-tab",params:{tab:n.tab}}},{default:s(()=>[t(p,{size:"20",start:"",icon:n.icon},null,8,["icon"]),w(" "+l(n.title),1)]),_:2},1032,["value","to"])),64))]),_:1},8,["modelValue"]),t(ue,{modelValue:c(m),"onUpdate:modelValue":r[1]||(r[1]=n=>E(m)?m.value=n:null),class:"mt-5 disable-tab-transition",touch:!1},{default:s(()=>[t(I,{value:"overview"},{default:s(()=>[t(Je)]),_:1}),t(I,{value:"projects"},{default:s(()=>[t(rt)]),_:1}),t(I,{value:"stars"},{default:s(()=>[t(yt)]),_:1})]),_:1},8,["modelValue"])]))}};export{es as default};
