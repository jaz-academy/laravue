import{p as ie}from"./formatters-f2ec2421.js";import{_ as te}from"./AppTextField-a9d65adc.js";import{_ as le}from"./AppSelect-1495259f.js";import{r as q}from"./validators-03fae5bb.js";import{r as d,o as x,f as F,e as l,b as e,n as t,a$ as ne,aV as m,d as u,c as M,a1 as v,z as T,aj as D,v as V,_ as ue,b5 as de,a6 as X,a as ce,F as Z,i as pe,x as _,y as me,s as H}from"./main-e40851b7.js";import{_ as fe}from"./AppDrawerHeaderSection-61306f28.js";import{I as ve,L as ge}from"./index-2dead89d.js";import{u as Ve,S as ye,P as be,U as ke,E as _e}from"./index-3758e118.js";import{P as xe}from"./vue3-perfect-scrollbar.esm-feabfb50.js";import{V as U}from"./VDivider-06554ebe.js";import{V as W}from"./VCard-c8ea4733.js";import{V as G}from"./VCardText-e11304cd.js";import{V as we}from"./VForm-4a2fa4d7.js";import{V as K,a as g}from"./VRow-f8693abc.js";import{V as he}from"./form-c3e0076b.js";import{V as Se}from"./VFileInput-ac5f2ef0.js";import{V as Ce}from"./VNavigationDrawer-2d1d7a22.js";import{p as Pe}from"./paginationMeta-4ad053a4.js";import{u as $e}from"./useFake-126ac74d.js";import{c as Ae}from"./createUrl-892d2468.js";import{$ as De}from"./fake-5a0d62d6.js";import{V as ee}from"./VChip-f703cea5.js";import{V as R}from"./VAvatar-43d2e5c8.js";import{V as Ue}from"./VSpacer-b30a3d0b.js";import{V as Ie}from"./VDataTableServer-2ec513c8.js";import{V as ze}from"./VSwitch-af41bfe7.js";import{V as Le}from"./VMenu-57cdd853.js";import{V as Oe,a as j}from"./VList-deb9c324.js";import{V as qe}from"./VPagination-dda64f68.js";import"./helpers-2778edbe.js";import"./no-profile-4221a4a6.js";import"./VTextField-bbc7a2fc.js";/* empty css                   */import"./VCounter-f770fb79.js";import"./VImg-d0687b57.js";import"./VField-a2644e25.js";import"./easing-9f15041e.js";import"./VInput-6eaa5e55.js";import"./forwardRefs-8348545e.js";import"./VSelect-28fcf519.js";import"./dialog-transition-13233f06.js";import"./VOverlay-c77512d0.js";import"./lazy-924c41e8.js";import"./scopeId-4e41f258.js";import"./VCheckboxBtn-d41b44e1.js";import"./VSelectionControl-6e4301a8.js";import"./ssrBoot-282be025.js";import"./index-9c720871.js";import"./index-8c7cbe3e.js";import"./VDataTable-7ed5e158.js";import"./VTable-edc8740e.js";import"./filter-8773b8ea.js";const Be={class:"border rounded py-2 px-4"},Ee={key:0,class:"d-flex justify-end flex-wrap gap-x-2"},Fe={class:"d-flex justify-start"},Me={__name:"AddDiscount",props:{isDrawerOpen:{type:Boolean,required:!0}},emits:["update:isDrawerOpen"],setup(Q,{emit:C}){const B=Q,I=C,N=s=>{I("update:isDrawerOpen",s)},n=Ve({content:"",extensions:[ye,ve,be.configure({placeholder:"Write something here..."}),ke,ge.configure({openOnClick:!1})]}),P=()=>{var A,b,h;const s=(A=n.value)==null?void 0:A.getAttributes("link").href,a=window.prompt("URL",s);if(a!==null){if(a===""){(b=n.value)==null||b.chain().focus().extendMarkRange("link").unsetLink().run();return}(h=n.value)==null||h.chain().focus().extendMarkRange("link").setLink({href:a}).run()}},$=()=>{var a;const s=window.prompt("URL");s&&((a=n.value)==null||a.chain().focus().setImage({src:s}).run())},w=d(),y=d(),z=d(),L=d(),O=d(),p=d(),f=()=>{var s;I("update:isDrawerOpen",!1),(s=w.value)==null||s.reset()};return(s,a)=>{const A=fe,b=te,h=le;return x(),F(Ce,{"model-value":B.isDrawerOpen,temporary:"",location:"end",width:"370",class:"category-navigation-drawer scrollable-content","onUpdate:modelValue":N},{default:l(()=>[e(A,{title:"Add Category",onCancel:a[0]||(a[0]=c=>s.$emit("update:isDrawerOpen",!1))}),e(U),e(t(xe),{options:{wheelPropagation:!1}},{default:l(()=>[e(W,{flat:""},{default:l(()=>[e(G,null,{default:l(()=>[e(t(we),{ref_key:"refVForm",ref:w,onSubmit:a[11]||(a[11]=ne(()=>{},["prevent"]))},{default:l(()=>[e(K,null,{default:l(()=>[e(g,{cols:"12"},{default:l(()=>[e(b,{modelValue:t(y),"onUpdate:modelValue":a[1]||(a[1]=c=>m(y)?y.value=c:null),label:"Title",rules:["requiredValidator"in s?s.requiredValidator:t(q)],placeholder:"Fashion"},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12"},{default:l(()=>[e(b,{modelValue:t(z),"onUpdate:modelValue":a[2]||(a[2]=c=>m(z)?z.value=c:null),label:"Slug",rules:["requiredValidator"in s?s.requiredValidator:t(q)],placeholder:"Trends fashion"},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12"},{default:l(()=>[e(he,null,{default:l(()=>a[12]||(a[12]=[u("span",{class:"text-sm text-high-emphasis mb-1"},"Attachment",-1)])),_:1}),e(Se,{modelValue:t(L),"onUpdate:modelValue":a[3]||(a[3]=c=>m(L)?L.value=c:null),"prepend-icon":"",density:"compact",rules:["requiredValidator"in s?s.requiredValidator:t(q)],placeholder:"No file chosen",clearable:""},{"prepend-inner":l(()=>[a[13]||(a[13]=u("div",{class:"text-no-wrap pe-2 cursor-pointer"}," Choose Image ",-1)),e(U,{vertical:""})]),_:1},8,["modelValue","rules"])]),_:1}),e(g,{cols:"12"},{default:l(()=>[e(h,{modelValue:t(O),"onUpdate:modelValue":a[4]||(a[4]=c=>m(O)?O.value=c:null),rules:["requiredValidator"in s?s.requiredValidator:t(q)],label:"Parent Category",placeholder:"Select Parent Category",items:["HouseHold","Management","Electronics","Office","Accessories"]},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12"},{default:l(()=>[a[14]||(a[14]=u("p",{class:"mb-2"}," Description ",-1)),u("div",Be,[e(t(_e),{editor:t(n)},null,8,["editor"]),t(n)?(x(),M("div",Ee,[e(v,{icon:"tabler-bold",color:t(n).isActive("bold")?"primary":"",size:"20",onClick:a[5]||(a[5]=c=>t(n).chain().focus().toggleBold().run())},null,8,["color"]),e(v,{color:t(n).isActive("underline")?"primary":"",icon:"tabler-underline",size:"20",onClick:a[6]||(a[6]=c=>t(n).commands.toggleUnderline())},null,8,["color"]),e(v,{color:t(n).isActive("italic")?"primary":"",icon:"tabler-italic",size:"20",onClick:a[7]||(a[7]=c=>t(n).chain().focus().toggleItalic().run())},null,8,["color"]),e(v,{color:t(n).isActive("bulletList")?"primary":"",icon:"tabler-list",size:"20",onClick:a[8]||(a[8]=c=>t(n).chain().focus().toggleBulletList().run())},null,8,["color"]),e(v,{color:t(n).isActive("orderedList")?"primary":"",icon:"tabler-list-numbers",size:"20",onClick:a[9]||(a[9]=c=>t(n).chain().focus().toggleOrderedList().run())},null,8,["color"]),e(v,{icon:"tabler-link",size:"20",onClick:P}),e(v,{icon:"tabler-photo",size:"20",onClick:$})])):T("",!0)])]),_:1}),e(g,{cols:"12"},{default:l(()=>[e(h,{modelValue:t(p),"onUpdate:modelValue":a[10]||(a[10]=c=>m(p)?p.value=c:null),rules:["requiredValidator"in s?s.requiredValidator:t(q)],placeholder:"Select Category Status",label:"Status",items:["Published","Inactive","Scheduled"]},null,8,["modelValue","rules"])]),_:1}),e(g,{cols:"12"},{default:l(()=>[u("div",Fe,[e(D,{type:"submit",color:"primary",class:"me-4"},{default:l(()=>a[15]||(a[15]=[V(" Add ")])),_:1}),e(D,{color:"error",variant:"tonal",onClick:f},{default:l(()=>a[16]||(a[16]=[V(" Discard ")])),_:1})])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"])}}};const Te={class:"d-flex flex-column gap-y-1"},Ne={class:"text-body-1 font-weight-medium text-capitalize"},He={class:"text-h4 my-1"},Re={class:"d-flex"},je={class:"me-2 text-disabled text-no-wrap"},We={class:"d-flex flex-wrap gap-4 mx-5"},Ge={class:"d-flex align-center"},Ke={class:"d-flex gap-4 flex-wrap align-center"},Qe={class:"d-flex align-center gap-x-2"},Ye={class:"d-flex flex-column"},Je={class:"text-body-1 font-weight-medium"},Xe={class:"text-sm text-disabled"},Ze={class:"text-body-1 font-weight-medium"},et={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},tt={class:"text-sm text-medium-emphasis mb-0"},lt={__name:"discount",async setup(Q){let C,B;const I=d([{title:"In-Store Sales",value:"$5,345.43",icon:"tabler-home",desc:"5k orders",change:5.7},{title:"Website Sales",value:"$674,347.12",icon:"tabler-device-laptop",desc:"21k orders",change:12.4},{title:"Discount",value:"$14,235.12",icon:"tabler-gift",desc:"6k orders"},{title:"Affiliate",value:"$8,345.23",icon:"tabler-wallet",desc:"150 orders",change:-3.5}]),N=[{title:"Product",key:"product"},{title:"Category",key:"category"},{title:"Stock",key:"stock",sortable:!1},{title:"SKU",key:"sku"},{title:"Price",key:"price"},{title:"QTY",key:"qty"},{title:"Status",key:"status"},{title:"Actions",key:"actions",sortable:!1}],n=d(),P=d(),$=d(),w=d(""),y=d(!1),z=d([{title:"Scheduled",value:"Scheduled"},{title:"Publish",value:"Published"},{title:"Inactive",value:"Inactive"}]),L=d([{title:"Accessories",value:"Accessories"},{title:"Home Decor",value:"Home Decor"},{title:"Electronics",value:"Electronics"},{title:"Shoes",value:"Shoes"},{title:"Office",value:"Office"},{title:"Games",value:"Games"}]),O=d([{title:"In Stock",value:!0},{title:"Out of Stock",value:!1}]),p=d(10),f=d(1),s=d(),a=d(),A=i=>{var r,S;f.value=i.page,s.value=(r=i.sortBy[0])==null?void 0:r.key,a.value=(S=i.sortBy[0])==null?void 0:S.order},b=i=>{if(i==="Accessories")return{color:"error",icon:"tabler-device-watch"};if(i==="Home Decor")return{color:"info",icon:"tabler-home"};if(i==="Electronics")return{color:"primary",icon:"tabler-device-imac"};if(i==="Shoes")return{color:"success",icon:"tabler-shoe"};if(i==="Office")return{color:"warning",icon:"tabler-briefcase"};if(i==="Games")return{color:"primary",icon:"tabler-device-gamepad-2"}},h=i=>{if(i==="Scheduled")return{text:"Scheduled",color:"warning"};if(i==="Published")return{text:"Publish",color:"success"};if(i==="Inactive")return{text:"Inactive",color:"error"}},{data:c,execute:oe}=([C,B]=de(()=>$e(Ae("/apps/ecommerce/products",{query:{q:w,stock:$,category:P,status:n,page:f,itemsPerPage:p,sortBy:s,orderBy:a}}))),C=await C,B(),C),ae=X(()=>c.value.products),E=X(()=>c.value.total),re=async i=>{await De(`apps/ecommerce/products/${i}`,{method:"DELETE"}),oe()};return(i,r)=>{const S=le,se=te,Y=ce("IconBtn");return x(),M("div",null,[e(W,{class:"mb-6"},{default:l(()=>[e(G,null,{default:l(()=>[e(K,null,{default:l(()=>[(x(!0),M(Z,null,pe(t(I),(o,k)=>(x(),M(Z,{key:k},[e(g,{cols:"12",sm:"6",md:"3",class:"px-6"},{default:l(()=>[u("div",{class:me(["d-flex justify-space-between",i.$vuetify.display.xs||i.$vuetify.display.sm&&k<2?"product-widget":""])},[u("div",Te,[u("div",Ne,_(o.title),1),u("h4",He,_(o.value),1),u("div",Re,[u("div",je,_(o.desc),1),o.change?(x(),F(ee,{key:0,label:"",color:o.change>0?"success":"error"},{default:l(()=>[V(_(("prefixWithPlus"in i?i.prefixWithPlus:t(ie))(o.change))+"% ",1)]),_:2},1032,["color"])):T("",!0)])]),e(R,{variant:"tonal",rounded:"",size:"38"},{default:l(()=>[e(v,{icon:o.icon,size:"28"},null,8,["icon"])]),_:2},1024)],2)]),_:2},1024),(i.$vuetify.display.mdAndUp?k!==t(I).length-1:i.$vuetify.display.smAndUp&&k%2===0)?(x(),F(U,{key:0,vertical:"",inset:"",length:"95"})):T("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),e(W,{title:"Filters",class:"mb-6"},{default:l(()=>[e(G,null,{default:l(()=>[e(K,null,{default:l(()=>[e(g,{cols:"12",sm:"4"},{default:l(()=>[e(S,{modelValue:t(n),"onUpdate:modelValue":r[0]||(r[0]=o=>m(n)?n.value=o:null),placeholder:"Status",items:t(z),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),e(g,{cols:"12",sm:"4"},{default:l(()=>[e(S,{modelValue:t(P),"onUpdate:modelValue":r[1]||(r[1]=o=>m(P)?P.value=o:null),placeholder:"Category",items:t(L),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),e(g,{cols:"12",sm:"4"},{default:l(()=>[e(S,{modelValue:t($),"onUpdate:modelValue":r[2]||(r[2]=o=>m($)?$.value=o:null),placeholder:"Stock",items:t(O),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),e(U,{class:"my-4"}),u("div",We,[u("div",Ge,[e(se,{modelValue:t(w),"onUpdate:modelValue":r[3]||(r[3]=o=>m(w)?w.value=o:null),placeholder:"Search Product",density:"compact",style:{"inline-size":"200px"},class:"me-3"},null,8,["modelValue"])]),e(Ue),u("div",Ke,[e(S,{modelValue:t(p),"onUpdate:modelValue":r[4]||(r[4]=o=>m(p)?p.value=o:null),items:[5,10,20,25,50]},null,8,["modelValue"]),e(D,{variant:"tonal",color:"secondary","prepend-icon":"tabler-upload"},{default:l(()=>r[10]||(r[10]=[V(" Export ")])),_:1}),e(D,{color:"primary","prepend-icon":"tabler-plus",onClick:r[5]||(r[5]=o=>y.value=!t(y))},{default:l(()=>r[11]||(r[11]=[V(" Add Product ")])),_:1})])]),e(U,{class:"mt-4"}),e(t(Ie),{"items-per-page":t(p),"onUpdate:itemsPerPage":r[7]||(r[7]=o=>m(p)?p.value=o:null),page:t(f),"onUpdate:page":r[8]||(r[8]=o=>m(f)?f.value=o:null),headers:N,"show-select":"",items:t(ae),"items-length":t(E),class:"text-no-wrap","onUpdate:options":A},{"item.product":l(({item:o})=>[u("div",Qe,[o.image?(x(),F(R,{key:0,size:"38",variant:"tonal",rounded:"",image:o.image},null,8,["image"])):T("",!0),u("div",Ye,[u("span",Je,_(o.productName),1),u("span",Xe,_(o.productBrand),1)])])]),"item.category":l(({item:o})=>{var k;return[e(R,{size:"30",variant:"tonal",color:(k=b(o.category))==null?void 0:k.color,class:"me-2"},{default:l(()=>{var J;return[e(v,{icon:(J=b(o.category))==null?void 0:J.icon,size:"18"},null,8,["icon"])]}),_:2},1032,["color"]),u("span",Ze,_(o.category),1)]}),"item.stock":l(({item:o})=>[e(ze,{"model-value":o.stock},null,8,["model-value"])]),"item.status":l(({item:o})=>[e(ee,H(h(o.status),{density:"default",label:""}),null,16)]),"item.actions":l(({item:o})=>[e(Y,null,{default:l(()=>[e(v,{icon:"tabler-edit"})]),_:1}),e(Y,null,{default:l(()=>[e(v,{icon:"tabler-dots-vertical"}),e(Le,{activator:"parent"},{default:l(()=>[e(Oe,null,{default:l(()=>[e(j,{value:"download","prepend-icon":"tabler-download"},{default:l(()=>r[12]||(r[12]=[V(" Download ")])),_:1}),e(j,{value:"delete","prepend-icon":"tabler-trash",onClick:k=>re(o.id)},{default:l(()=>r[13]||(r[13]=[V(" Delete ")])),_:2},1032,["onClick"]),e(j,{value:"duplicate","prepend-icon":"tabler-copy"},{default:l(()=>r[14]||(r[14]=[V(" Duplicate ")])),_:1})]),_:2},1024)]),_:2},1024)]),_:2},1024)]),bottom:l(()=>[e(U),u("div",et,[u("p",tt,_(t(Pe)({page:t(f),itemsPerPage:t(p)},t(E))),1),e(qe,{modelValue:t(f),"onUpdate:modelValue":r[6]||(r[6]=o=>m(f)?f.value=o:null),length:Math.min(Math.ceil(t(E)/t(p)),5),"total-visible":i.$vuetify.display.xs?1:Math.min(Math.ceil(t(E)/t(p)),5)},{prev:l(o=>[e(D,H({variant:"tonal",color:"default"},o,{icon:!1}),{default:l(()=>r[15]||(r[15]=[V(" Previous ")])),_:2},1040)]),next:l(o=>[e(D,H({variant:"tonal",color:"default"},o,{icon:!1}),{default:l(()=>r[16]||(r[16]=[V(" Next ")])),_:2},1040)]),_:1},8,["modelValue","length","total-visible"])])]),_:1},8,["items-per-page","page","items","items-length"])]),_:1}),e(Me,{"is-drawer-open":t(y),"onUpdate:isDrawerOpen":r[9]||(r[9]=o=>m(y)?y.value=o:null)},null,8,["is-drawer-open"])])}}},tl=ue(lt,[["__scopeId","data-v-71be7276"]]);export{tl as default};
