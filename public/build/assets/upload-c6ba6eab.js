import{a as x}from"./formatters-9f0d6445.js";import{u as w,f as A,d as B}from"./fetchProjectData-4de0f27d.js";import{N as H,F as D}from"./front-page-navbar-e2d457fc.js";import{_ as E}from"./PostingCard-98ac2fe6.js";import{r as i,H as M,bp as z,f9 as P,a as U,o,c as n,b as a,d as $,e as r,F as f,i as T,f as p,x as c,n as q,v,z as O}from"./main-3e75270a.js";import{a as N,V as R}from"./VRow-279ce7f3.js";import{V as W}from"./VCard-ae6aa82a.js";import{V as Y,b as G,c as J,a as K}from"./VList-021e7d82.js";import{V as Q}from"./VAvatar-6442f344.js";import{V as X}from"./VImg-d48c399c.js";import{V as Z}from"./VDivider-fe6e0e03.js";import"./helpers-0d858970.js";import"./no-profile-4221a4a6.js";import"./useApi-e49bb4b3.js";import"./AppTextField-83dbabc7.js";import"./form-8fcd98db.js";import"./VTextField-0541cff2.js";/* empty css                   */import"./VCounter-1d8f08d6.js";import"./VField-63465900.js";import"./easing-9f15041e.js";import"./VInput-6cf94696.js";import"./forwardRefs-8348545e.js";import"./VNodeRenderer-6b2fcb58.js";import"./useGenerateImageVariant-771c8c66.js";import"./VForm-6153e7ab.js";import"./VChip-8aa9424f.js";import"./VContainer-f7ecee69.js";import"./NavbarThemeSwitcher-d1a4348e.js";import"./VTooltip-d5223f94.js";import"./VOverlay-86f5f384.js";import"./lazy-d118c49f.js";import"./scopeId-6361b14e.js";import"./VMenu-8f8d9013.js";import"./dialog-transition-76c1b16c.js";import"./ssrBoot-451ddb83.js";import"./VNavigationDrawer-23ebcf1d.js";import"./VToolbar-00c5caa4.js";import"./VSpacer-1e53768b.js";import"./AppTextarea-fe657859.js";import"./AppSelect-ed6cd4b7.js";import"./VSelect-6618e2c9.js";import"./VCheckboxBtn-5669f4d3.js";import"./VSelectionControl-63626414.js";import"./GDriveEmbed-1c5038aa.js";import"./InstagramEmbed-960ed084.js";import"./fetchTeacherData-c5b598aa.js";import"./api-6f2b680c.js";import"./index-911cd4b8.js";import"./index-9c720871.js";import"./VCardText-784ef706.js";import"./VRating-acd89c37.js";import"./VAlert-fb1907c4.js";const ee={class:"landing-page-wrapper"},te={class:"upload-card"},ae={key:1},rt={__name:"upload",setup(re){const m=i(null),_=i([]),u=i(!1),k=i(2);console.log("uploadTask:",w.value),M(async()=>{var t;await A(),m.value=(t=w.value)==null?void 0:t.data,m.value&&h(),window.addEventListener("scroll",L)});const L=async()=>{var d;const t=window.scrollY+window.innerHeight,s=document.documentElement.scrollHeight-10;if(t>=s&&!u.value){u.value=!0;const e=await B(k.value++);(d=e.data)!=null&&d.length&&(m.value.push(...e.data),h()),u.value=!1}};function h(){_.value=[{type:"subheader",title:"Best of the Week"},...m.value.filter(t=>t.rate>=4).flatMap(t=>{var s;return[{prependAvatar:z,title:((s=t.admin_student)==null?void 0:s.name)||"Unknown Student",subtitle:t.name||"No Task Name"},{type:"divider",inset:!0}]})]}const g=i(),S=i(),j=i(),C=i(),F=i(),I=i();return P([S,j,C,F,I],([{isIntersecting:t,target:s}])=>{t&&(g.value=s.id)},{threshold:.25}),(t,s)=>{const d=U("VSubheader");return o(),n("div",ee,[a(H,{"active-id":g.value},null,8,["active-id"]),$("div",te,[a(R,{class:"m-0 p-0"},{default:r(()=>[a(N,{class:"d-none d-lg-block",cols:"12",lg:"3"},{default:r(()=>[a(W,{style:{position:"sticky","inset-block-start":"6rem"}},{default:r(()=>[a(Y,{lines:"three"},{default:r(()=>[(o(!0),n(f,null,T(_.value,(e,l)=>(o(),n(f,{key:l},[e.prependAvatar?(o(),p(K,{key:0,class:"custom-list-item"},{prepend:r(()=>[a(Q,{size:"34",variant:"tonal",color:"primary",class:"me-3"},{default:r(()=>[t.avatar?(o(),p(X,{key:0,src:t.avatar},null,8,["src"])):(o(),n("span",ae,c(("avatarText"in t?t.avatarText:q(x))(e.title)),1))]),_:2},1024)]),default:r(()=>[a(G,null,{default:r(()=>[v(c(e.title),1)]),_:2},1024),a(J,null,{default:r(()=>[v(c(e.subtitle),1)]),_:2},1024)]),_:2},1024)):e.type==="divider"?(o(),p(Z,{key:`divider-${l}`,inset:""})):e.type==="subheader"?(o(),p(d,{key:2,class:"ps-3 mb-2 font-weight-medium text-primary"},{default:r(()=>[v(c(e.title),1)]),_:2},1024)):O("",!0)],64))),128))]),_:1})]),_:1})]),_:1}),a(N,{cols:"12",lg:"9"},{default:r(()=>[(o(!0),n(f,null,T(m.value,e=>{var l,y,V,b;return o(),n("div",{key:e.id},[a(E,{"task-id":e.id,"task-name":e.name,description:e.description,subject:e.project_plan.subject,theme:e.project_plan.theme,stars:e.rate,media:e.media,"post-id":((y=(l=e.link)==null?void 0:l.match(/\/d\/(.*?)\//))==null?void 0:y[1])||"N/A","student-name":e.admin_student.name,nickname:e.admin_student.nickname,email:e.admin_student.email,teacher:e.admin_teacher?{id:e.admin_teacher.id,name:e.admin_teacher.nickname}:"Not Accepted","student-img":(V=e.admin_student)==null?void 0:V.image,"teacher-img":(b=e.admin_teacher)==null?void 0:b.image,accepted:e.accepted,review:(e==null?void 0:e.review)||null},null,8,["task-id","task-name","description","subject","theme","stars","media","post-id","student-name","nickname","email","teacher","student-img","teacher-img","accepted","review"])])}),128))]),_:1})]),_:1})]),a(D)])}}};export{rt as default};
