import{N as te,F as ae}from"./front-page-navbar-96c432d4.js";import{a as oe}from"./formatters-b77a216c.js";import{r as i,aK as le,cR as se,H as Z,o as r,c as v,d as m,y as re,n as G,b as t,e as l,f as M,x,z as h,F as T,v as c,ai as j,a$ as K,i as ne}from"./main-37de545e.js";import{_ as ie}from"./AppTextField-5723627d.js";import{u as W}from"./useGenerateImageVariant-5fc2e67d.js";import{h as ue,a as pe,b as de,c as me}from"./hero-elements-light-b61b0468.js";/* empty css                 */import{$ as q}from"./api-b41d5acf.js";import{_ as ce}from"./_plugin-vue_export-helper-c27b6911.js";import{V as ve}from"./VAvatar-93aa4262.js";import{V as fe}from"./VImg-ab0ba356.js";import{V as _e}from"./VContainer-b5196252.js";import{V as Q}from"./VAlert-df2ee2c3.js";import{V as X,a as _}from"./VRow-fac58b63.js";import{V as Y}from"./VForm-8be29ffd.js";import{_ as ge}from"./PostingCard-5537f441.js";import{u as be}from"./useApi-7afb6e9f.js";import"./VNodeRenderer-9e6fcee6.js";import"./VChip-eda1d933.js";import"./NavbarThemeSwitcher-fb6755c4.js";import"./VTooltip-6c0a2c32.js";import"./VOverlay-f715a3c8.js";import"./easing-9f15041e.js";import"./lazy-f1e50cea.js";import"./scopeId-3f0b9f79.js";import"./forwardRefs-8348545e.js";import"./VMenu-77bc6832.js";import"./dialog-transition-4715d8ab.js";import"./VList-002b35c7.js";import"./ssrBoot-a125e40e.js";import"./VDivider-bd657aeb.js";import"./VNavigationDrawer-dbfad57c.js";import"./VToolbar-bf64507d.js";import"./VSpacer-33f3a832.js";import"./helpers-0ad46068.js";import"./no-profile-4221a4a6.js";import"./form-2eea43bf.js";import"./VTextField-e524b538.js";/* empty css                   */import"./VCounter-2e970494.js";import"./VField-5bdf7c6e.js";import"./VInput-9309032d.js";import"./index-094d6f8e.js";import"./index-9c720871.js";import"./AppTextarea-358e4645.js";import"./AppSelect-c31ef19a.js";import"./VSelect-89c1ecf3.js";import"./VCheckboxBtn-ecef6dcc.js";import"./VSelectionControl-8d59c827.js";import"./GDriveEmbed-2e7b34ca.js";import"./InstagramEmbed-9d0477c8.js";import"./fetchTeacherData-f454908a.js";import"./VCardText-87a2555b.js";import"./VRating-d5ff9f67.js";import"./VCard-c1035577.js";const ke={id:"home",style:{background:"rgb(var(--v-theme-surface))"}},ye={id:"landingHero",class:"mb-6"},he={class:"hero-text-box text-center px-6"},Ve={key:1},we={key:1,class:"text-h2 text-sm-h1 text-primary hero-title font-weight-bold text-wrap mb-0"},Se={class:"mb-4 text-h5"},xe={class:"mb-4"},je={class:"position-relative"},Ie={key:0,class:"modal-overlay"},Ce={class:"modal-content"},$e={key:1,class:"modal-overlay"},Ne={class:"modal-content"},Pe={__name:"participant-info",emits:["loginStatus"],setup(ee,{emit:S}){const I=S,n=i(null),y=le();W(pe,ue),W(me,de),se({touch:!1});const g=i(!1),k=i(!1),V=i(null),p=i(""),a=i(""),u=i(""),b=i(""),d=i(""),w=i([]),C=()=>{p.value="",a.value="",u.value="",b.value="",d.value="",w.value=[]};Z(()=>{const s=localStorage.getItem("participant");n.value=s?JSON.parse(s):null});const $=()=>{n.value?(localStorage.removeItem("participant"),n.value=null,I("loginStatus",!1)):(g.value=!0,C())},N=async()=>{if(p.value&&u.value){const s={username:p.value,password:u.value};try{const{data:e,error:f}=await q("/public/sign-in-participant",{method:"POST",body:{username:s.username,password:s.password},onResponseError({response:o}){w.value=o._data.errors,d.value=o._data.message||"SignIn failed"}});console.log(e),localStorage.setItem("participant",JSON.stringify(e)),n.value=e,g.value=!1,I("loginStatus",!0)}catch(e){console.error(e)}}},P=async()=>{if(a.value&&p.value&&u.value&&b.value)try{if(u.value===b.value){const{data:s}=await q("/public/participants",{method:"POST",body:{name:a.value,username:p.value,password:u.value,passwordConfirmation:b.value,role:1,image:null},onResponseError({response:e}){w.value=e._data.errors,d.value=e._data.message||"SignUp failed"}});console.log(s),localStorage.setItem("participant",JSON.stringify(s)),n.value=s,k.value=!1}else alert("Password and Confirm Password do not match")}catch(s){console.error("Error during signup:",s)}};return(s,e)=>{const f=ie;return r(),v("div",ke,[m("div",ye,[m("div",{class:re(["landing-hero",G(y).current.value.dark?"landing-hero-dark-bg":"landing-hero-light-bg"])},[t(_e,null,{default:l(()=>[m("div",he,[n.value?(r(),M(ve,{key:0,size:"200",variant:"tonal",color:"primary",class:"mb-4"},{default:l(()=>[V.value?(r(),M(fe,{key:0,src:V.value},null,8,["src"])):(r(),v("span",Ve,x(n.value.name?("avatarText"in s?s.avatarText:G(oe))(n.value.name):"AB"),1))]),_:1})):h("",!0),n.value?(r(),v("p",we,x(n.value.name),1)):h("",!0),m("h5",Se,[n.value?(r(),v(T,{key:0},[c(" Thank you for your participation! ")],64)):(r(),v(T,{key:1},[e[14]||(e[14]=m("p",{class:"text-h2 text-sm-h1 text-primary hero-title font-weight-bold text-wrap mb-4"}," Marhaban ! ",-1)),e[15]||(e[15]=c(" Welcome to our platform ")),m("div",xe,[e[13]||(e[13]=c(" Click here to ")),m("a",{style:{display:"inline",cursor:"pointer"},onClick:e[0]||(e[0]=o=>k.value=!0)},"Signup as New Participant!")])],64))]),m("div",je,[t(j,{height:"36",onClick:$},{default:l(()=>[c(x(n.value?"Sign Out":"Sign In"),1)]),_:1})])])]),_:1}),g.value?(r(),v("div",Ie,[m("div",Ce,[d.value?(r(),M(Q,{key:0,type:"error",class:"mb-5",dismissible:"",onClick:e[1]||(e[1]=o=>d.value="")},{default:l(()=>[c(x(d.value),1)]),_:1})):h("",!0),t(Y,{onSubmit:K(o=>({}),["prevent"])},{default:l(()=>[t(X,null,{default:l(()=>[t(_,{cols:"12"},{default:l(()=>[t(f,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=o=>p.value=o),"prepend-inner-icon":"tabler-user",label:"Username / Email",placeholder:"Mehmed"},null,8,["modelValue"])]),_:1}),t(_,{cols:"12"},{default:l(()=>[t(f,{modelValue:u.value,"onUpdate:modelValue":e[3]||(e[3]=o=>u.value=o),"prepend-inner-icon":"tabler-lock",label:"Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1}),t(_,{cols:"12"},{default:l(()=>[e[16]||(e[16]=c(" Not a Participant yet? ")),m("a",{style:{display:"inline",cursor:"pointer"},onClick:e[4]||(e[4]=o=>(g.value=!1,k.value=!0))},"Signup first!")]),_:1}),t(_,{cols:"12"},{default:l(()=>[t(j,{type:"submit",class:"me-2",onClick:N},{default:l(()=>e[17]||(e[17]=[c(" Sign In ")])),_:1}),t(j,{color:"warning",class:"me-2",onClick:e[5]||(e[5]=o=>g.value=!1)},{default:l(()=>e[18]||(e[18]=[c(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1})])])):h("",!0),k.value?(r(),v("div",$e,[m("div",Ne,[d.value?(r(),M(Q,{key:0,type:"error",class:"mb-5",dismissible:"",onClick:e[6]||(e[6]=o=>d.value="")},{default:l(()=>[c(x(d.value),1)]),_:1})):h("",!0),t(Y,{onSubmit:K(o=>({}),["prevent"])},{default:l(()=>[t(X,null,{default:l(()=>[t(_,{cols:"12"},{default:l(()=>[t(f,{modelValue:a.value,"onUpdate:modelValue":e[7]||(e[7]=o=>a.value=o),"prepend-inner-icon":"tabler-user",label:"Full Name",placeholder:"Muhammad"},null,8,["modelValue"])]),_:1}),t(_,{cols:"12"},{default:l(()=>[t(f,{modelValue:p.value,"onUpdate:modelValue":e[8]||(e[8]=o=>p.value=o),"prepend-inner-icon":"tabler-checkbox",label:"Username",placeholder:"Mehmed"},null,8,["modelValue"])]),_:1}),t(_,{cols:"12"},{default:l(()=>[t(f,{modelValue:u.value,"onUpdate:modelValue":e[9]||(e[9]=o=>u.value=o),"prepend-inner-icon":"tabler-lock",label:"Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1}),t(_,{cols:"12"},{default:l(()=>[t(f,{modelValue:b.value,"onUpdate:modelValue":e[10]||(e[10]=o=>b.value=o),"prepend-inner-icon":"tabler-lock",label:"Retype Password",autocomplete:"on",type:"password",placeholder:"············"},null,8,["modelValue"])]),_:1}),t(_,{cols:"12"},{default:l(()=>[e[19]||(e[19]=c(" Already joined Participant? ")),m("a",{style:{display:"inline",cursor:"pointer"},onClick:e[11]||(e[11]=o=>(g.value=!0,k.value=!1))},"Signin instead!")]),_:1}),t(_,{cols:"12"},{default:l(()=>[t(j,{type:"submit",class:"me-2",onClick:P},{default:l(()=>e[20]||(e[20]=[c(" Sign Up ")])),_:1}),t(j,{color:"warning",class:"me-2",onClick:e[12]||(e[12]=o=>k.value=!1)},{default:l(()=>e[21]||(e[21]=[c(" Cancel ")])),_:1})]),_:1})]),_:1})]),_:1})])])):h("",!0)],2)])])}}},Me=ce(Pe,[["__scopeId","data-v-5953cd88"]]);const Te={class:"landing-page-wrapper"},Ue={key:0,class:"bookmark-card"},Ft={__name:"bookmark",setup(ee){const S=i(null),I=i(),n=i(),y=i([]);Z(async()=>{g()});const g=async()=>{const V=localStorage.getItem("participant");if(S.value=V?JSON.parse(V):null,S.value){const p=S.value.id,{data:a}=await be(`/public/bookmarks-by-participant/${p}`);a.value.data&&(y.value=a.value.data,console.log("bookmarks :",y.value))}else y.value=[]},k=async()=>{await g()};return(V,p)=>(r(),v("div",Te,[t(te,{"active-id":I.value},null,8,["active-id"]),t(Me,{ref_key:"refHome",ref:n,onLoginStatus:k},null,512),y.value.length?(r(),v("div",Ue,[(r(!0),v(T,null,ne(y.value.filter(Boolean),a=>{var u,b,d,w,C,$,N,P,s,e,f,o,U,A,F,B,D,E,O,L,R,H,J,z;return r(),v("div",{key:a.id||a._id||a},[t(ge,{class:"card-post","task-id":(u=a.project_task)==null?void 0:u.id,"task-name":(b=a.project_task)==null?void 0:b.name,description:(d=a.project_task)==null?void 0:d.description,subject:(C=(w=a.project_task)==null?void 0:w.project_plan)==null?void 0:C.subject,theme:(N=($=a.project_task)==null?void 0:$.project_plan)==null?void 0:N.theme,stars:(P=a.project_task)==null?void 0:P.rate,media:(s=a.project_task)==null?void 0:s.media,"post-id":((e=a.project_task)==null?void 0:e.media)=="Instagram"?(U=(o=(f=a.project_task)==null?void 0:f.link)==null?void 0:o.match(/\/(?:p|reel)\/([\w-]+)/))==null?void 0:U[1]:((B=(F=(A=a.project_task)==null?void 0:A.link)==null?void 0:F.match(/\/d\/(.*?)\//))==null?void 0:B[1])||"N/A",students:(D=a.project_task)==null?void 0:D.students,teacher:(E=a.project_task)!=null&&E.admin_teacher?{id:(O=a.project_task)==null?void 0:O.admin_teacher.id,name:(L=a.project_task)==null?void 0:L.admin_teacher.nickname}:"Not Accepted","teacher-img":(H=(R=a.project_task)==null?void 0:R.admin_teacher)==null?void 0:H.image,accepted:(J=a.project_task)==null?void 0:J.accepted,review:((z=a.project_task)==null?void 0:z.review)||null},null,8,["task-id","task-name","description","subject","theme","stars","media","post-id","students","teacher","teacher-img","accepted","review"])])}),128))])):h("",!0),t(ae)]))}};export{Ft as default};
